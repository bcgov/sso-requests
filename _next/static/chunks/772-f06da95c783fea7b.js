"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[772],{36575:function(e,n,t){var r,a=t(71383),c=t(85444).default.span(r||(r=(0,a.Z)(["\n  color: #dc3545;\n  margin: 0;\n  padding: 0;\n"])));n.Z=c},39772:function(e,n,t){var r,a=t(16835),c=t(50029),u=t(71383),s=t(87794),i=t.n(s),o=t(67294),l=t(11915),p=t(85444),d=t(85330),f=t(3016),h=t(56839),m=t(15812),v=t(36575),x=t(91679),b=t(23130),w=t(85893),j=p.default.div(r||(r=(0,u.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n  & button {\n    min-width: 180px;\n  }\n"]))),g={idirEmail:"",role:"member",id:new Date().getTime()};n.Z=(0,m.hU)(function(e){var n,t=e.onSubmit,r=e.alert,u=((0,o.useContext)(b.SessionContext)||{}).session,s=(0,o.useState)([g]),p=s[0],m=s[1],y=(0,o.useState)(""),Z=y[0],k=y[1],O=(0,o.useState)(!1),z=O[0],C=O[1],E=(0,o.useState)(),S=E[0],P=E[1],A=(n=(0,c.Z)(i().mark(function e(){var n,c,u,s,o,l,d,h,v;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={name:Z,members:p},c=(0,x.p)(n),s=(u=(0,a.Z)(c,2))[0],o=u[1],!s){e.next=4;break}return e.abrupt("return",P(o));case 4:return C(!0),e.next=7,(0,f.Cm)(n);case 7:if(l=e.sent,h=(d=(0,a.Z)(l,2))[0],(v=d[1])?r.show({variant:"danger",fadeOut:1e4,closable:!0,content:v}):r.show({variant:"success",fadeOut:1e4,closable:!0,content:"Team ".concat(Z," successfully created")}),!h){e.next=15;break}return e.next=15,t(h.id);case 15:m([g]),k(""),C(!1),window.location.hash="#";case 19:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,w.jsxs)("div",{children:[(0,w.jsx)(l.default,{label:"Team Name",onChange:function(e){k(e.target.value)},value:Z}),S&&S.name&&(0,w.jsx)(v.Z,{children:null==S?void 0:S.name}),(0,w.jsx)("br",{}),(0,w.jsx)("strong",{children:"Team Members"}),(0,w.jsx)(x.Z,{errors:S,members:p,setMembers:m,currentUser:u}),(0,w.jsxs)(j,{children:[(0,w.jsx)(d.zx,{variant:"secondary",onClick:function(){window.location.hash="#"},children:"Cancel"}),(0,w.jsx)(d.zx,{type:"button",onClick:A,children:z?(0,w.jsx)(h.rj,{color:"#FFF",height:18,width:50,visible:z}):"Send Invitation"})]})]})})},91679:function(e,n,t){t.d(n,{p:function(){return F}});var r,a,c,u,s,i,o,l,p,d,f=t(59499),h=t(27812),m=t(71383);t(67294);var v=t(11915),x=t(35611),b=t(85444),w=t(48966),j=t.n(w),g=t(99603),y=t(59417),Z=t(36575),k=t(74150),O=t(85893);function z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?z(Object(t),!0).forEach(function(n){(0,f.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var E=b.default.div(r||(r=(0,m.Z)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  align-items: end;\n  margin-bottom: 10px;\n  grid-gap: 0 1em;\n"]))),S=(0,b.default)(x.default)(a||(a=(0,m.Z)(["\n  & .pg-select-wrapper {\n    height: 44px;\n    ","\n  }\n"])),function(e){return e.readOnlyRole?"padding-left:6px;":""}),P=b.default.div(c||(c=(0,m.Z)(["\n  border-bottom: 1px solid black;\n  grid-column: 1 / 3;\n"]))),A=b.default.span(u||(u=(0,m.Z)(["\n  margin: 10px 0;\n  cursor: pointer;\n  & span {\n    margin-left: 5px;\n  }\n"]))),D=b.default.section(s||(s=(0,m.Z)(["\n  max-height: 50vh;\n  overflow-y: scroll;\n"]))),M=(0,b.default)(E)(i||(i=(0,m.Z)(["\n  grid-template-columns: 2.2fr 0.9fr 1.2fr;\n  align-items: start;\n  margin-bottom: 20px;\n"]))),T=(0,b.default)(g.G)(o||(o=(0,m.Z)(["\n  align-self: center;\n  color: red;\n  cursor: pointer;\n"]))),N=(0,b.default)(g.G)(l||(l=(0,m.Z)(["\n  padding: 3px;\n  border-radius: 25px;\n  border-style: solid;\n  border-color: black;\n  border-width: thin;\n"]))),R=(0,b.default)(g.G)(p||(p=(0,m.Z)(["\n  padding: 3px;\n  border-radius: 25px;\n  border-style: solid;\n  border-color: black;\n  border-width: thin;\n  color: white;\n  background-color: black;\n"]))),G=b.default.p(d||(d=(0,m.Z)(["\n  font-style: italic;\n  font-size: 0.95em;\n"]))),F=function(e){var n={name:null,members:[]};return e.name||(n.name="Please enter a name"),e.members.forEach(function(e,t){e.idirEmail&&j().isEmail(e.idirEmail)||(n.members[t]="Please enter an email")}),[n.name||n.members.length>0,n]};n.Z=function(e){var n=e.errors,t=e.members,r=e.setMembers,a=e.allowDelete,c=void 0===a||a,u=e.currentUser,s=void 0===u?null:u,i=function(e,n){var a=C({},t[e]);a.idirEmail=n.target.value;var c=(0,h.Z)(t);c[e]=a,r(c)},o=function(e,n){var a=C({},t[e]);a.role=n.target.value;var c=(0,h.Z)(t);c[e]=a,r(c)},l=function(e){r(t.filter(function(n,t){return t!==e}))};return(0,O.jsxs)("div",{children:[(0,O.jsxs)("p",{children:["Enter your team memberâ€™s government email address and they will be sent an invitation to join the project. Once they accept the invitation, they will have access to your project. Their invitation will expire in"," ",(0,O.jsx)("strong",{children:"2 business days"}),"."]}),(0,O.jsxs)("p",{children:[(0,O.jsx)("span",{className:"strong",children:"Roles:"}),(0,O.jsx)("br",{}),(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{children:(0,O.jsx)(R,{icon:y.Tab})}),"\xa0\xa0",(0,O.jsx)("span",{className:"underline",style:{verticalAlign:"top"},children:"Admins"}),(0,O.jsxs)("span",{style:{verticalAlign:"top"},children:["\xa0have ",(0,O.jsx)("b",{children:"managing"})," powers"]})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{children:(0,O.jsx)(N,{icon:y.Tab})}),"\xa0\xa0",(0,O.jsx)("span",{className:"underline",style:{verticalAlign:"top"},children:"Members"}),(0,O.jsxs)("span",{style:{verticalAlign:"top"},children:["\xa0have ",(0,O.jsx)("b",{children:"viewing"})," powers"]})]}),(0,O.jsx)("br",{}),(0,O.jsx)("div",{children:(0,O.jsx)("span",{className:"underline",children:(0,O.jsx)(k.default,{external:!0,href:"https://github.com/bcgov/sso-keycloak/wiki/CSS-App-My-Teams",children:"View a detailed breakdown of roles on our wiki page"})})})]}),(0,O.jsxs)(D,{children:[(0,O.jsxs)(E,{children:[(0,O.jsx)("strong",{children:"Member"}),(0,O.jsx)("strong",{children:"Role"}),(0,O.jsx)(P,{})]}),(0,O.jsx)(G,{children:"*Please enter email address tied to and IDIR to allow your user to login"}),s&&(0,O.jsxs)(M,{children:[(0,O.jsx)(v.default,{value:(null==s?void 0:s.email)||"",readOnly:!0}),(0,O.jsx)(S,{label:"Role",disabled:!0,value:"admin",readOnlyRole:!0,children:(0,O.jsx)("option",{value:"admin",children:"Admin"})})]}),t.map(function(e,t){return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(M,{children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(v.default,{placeholder:"Enter email address",onChange:function(e){return i(t,e)},value:e.idirEmail}),n&&n.members&&n.members[t]&&(0,O.jsx)(Z.Z,{children:n.members[t]})]}),(0,O.jsxs)(S,{label:"Role",onChange:function(e){return o(t,e)},value:e.role,children:[(0,O.jsx)("option",{value:"member",children:"Member"}),(0,O.jsx)("option",{value:"admin",children:"Admin"})]}),t>=0&&c&&(0,O.jsx)(T,{icon:y.uMC,onClick:function(){return l(t)},title:"Delete"})]},e.id)})}),(0,O.jsxs)(A,{onClick:function(){r([].concat((0,h.Z)(t),[{idirEmail:"",role:"member",id:new Date().getTime(),pending:!0}]))},children:[(0,O.jsx)(g.G,{style:{color:"#006fc4"},icon:y.KtF,title:"Add Item"}),(0,O.jsx)("span",{children:"Add another team member"})]})]})]})}},3016:function(e,n,t){t.d(n,{Cm:function(){return O},Dc:function(){return Z},Gc:function(){return G},MH:function(){return P},Sx:function(){return T},YY:function(){return E},ZT:function(){return N},fC:function(){return D},l8:function(){return k},rU:function(){return A},rl:function(){return M},vM:function(){return R},w2:function(){return z},yG:function(){return C},yN:function(){return F},zZ:function(){return S}});var r,a,c,u,s,i,o,l,p,d,f,h,m,v,x,b,w=t(50029),j=t(87794),g=t.n(j),y=t(21963),Z=(r=(0,w.Z)(g().mark(function e(){var n;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.get("teams").then(function(e){return e.data});case 3:return n=e.sent,e.abrupt("return",[n,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return r.apply(this,arguments)}),k=(a=(0,w.Z)(g().mark(function e(){var n;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.get("allowed-teams").then(function(e){return e.data});case 3:return n=e.sent,e.abrupt("return",[n,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return a.apply(this,arguments)}),O=(c=(0,w.Z)(g().mark(function e(n){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.post("teams",n).then(function(e){return e.data});case 3:return t=e.sent,e.abrupt("return",[t,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return c.apply(this,arguments)}),z=(u=(0,w.Z)(g().mark(function e(n){var t,r,a,c;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.name,r=n.id,a={name:t},e.next=5,y.e.put("teams/".concat(r),a).then(function(e){return e.data});case 5:return c=e.sent,e.abrupt("return",[c,null]);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(e){return u.apply(this,arguments)}),C=(s=(0,w.Z)(g().mark(function e(n){var t,r,a;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.id,r=n.members,e.next=4,y.e.post("teams/".concat(t,"/members"),r).then(function(e){return e.data});case 4:return a=e.sent,e.abrupt("return",[a,null]);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return s.apply(this,arguments)}),E=(i=(0,w.Z)(g().mark(function e(n){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.get("teams/".concat(n,"/members")).then(function(e){return e.data});case 3:return t=e.sent,e.abrupt("return",[t,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return i.apply(this,arguments)}),S=(o=(0,w.Z)(g().mark(function e(n,t,r){var a;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.put("teams/".concat(n,"/members/").concat(t),r).then(function(e){return e.data});case 3:return a=e.sent,e.abrupt("return",[a,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n,t){return o.apply(this,arguments)}),P=(l=(0,w.Z)(g().mark(function e(n,t){var r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.delete("teams/".concat(t,"/members/").concat(n)).then(function(e){return e.data});case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n){return l.apply(this,arguments)}),A=(p=(0,w.Z)(g().mark(function e(n,t){var r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.post("teams/".concat(t,"/invite"),n).then(function(e){return e.data});case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n){return p.apply(this,arguments)}),D=(d=(0,w.Z)(g().mark(function e(n){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.delete("teams/".concat(n)).then(function(e){return e.data});case 3:return t=e.sent,e.abrupt("return",[t,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return d.apply(this,arguments)}),M=(f=(0,w.Z)(g().mark(function e(n){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.post("teams/".concat(n,"/service-accounts")).then(function(e){return e.data});case 3:return t=e.sent,e.abrupt("return",[t,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return f.apply(this,arguments)}),T=(h=(0,w.Z)(g().mark(function e(n){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.get("teams/".concat(n,"/service-accounts")).then(function(e){return e.data});case 3:return t=e.sent,e.abrupt("return",[t,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return h.apply(this,arguments)}),N=(m=(0,w.Z)(g().mark(function e(n,t){var r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.get("teams/".concat(n,"/service-accounts/").concat(t)).then(function(e){return e.data});case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n){return m.apply(this,arguments)}),R=(v=(0,w.Z)(g().mark(function e(n,t){var r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.get("teams/".concat(n,"/service-accounts/").concat(t,"/credentials")).then(function(e){return e.data});case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n){return v.apply(this,arguments)}),G=(x=(0,w.Z)(g().mark(function e(n,t){var r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.put("teams/".concat(n,"/service-accounts/").concat(t,"/credentials")).then(function(e){return e.data});case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n){return x.apply(this,arguments)}),F=(b=(0,w.Z)(g().mark(function e(n,t){var r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.delete("teams/".concat(n,"/service-accounts/").concat(t)).then(function(e){return e.data});case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n){return b.apply(this,arguments)})}}]);