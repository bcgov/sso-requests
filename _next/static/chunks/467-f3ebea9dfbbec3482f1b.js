(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[467],{74150:function(n,t,e){"use strict";var r=e(95318);t.ZP=function(n){var t=n.content,e=n.external,r=n.children,a=(0,u.default)(n,["content","external","children"]);return o.default.createElement(f,(0,i.default)({target:e?"_blank":"_self"},a),t||r,e&&o.default.createElement(o.default.Fragment,null,"\xa0",o.default.createElement(l.FaSVG,null,o.default.createElement("path",{fill:"currentColor",d:l.ExternalLinkAlt}))))};var a,i=r(e(22122)),u=r(e(19756)),c=r(e(45761)),o=r(e(67294)),s=r(e(32678)),l=e(69829),d={small:"0.8rem",medium:"1rem",large:"1.2rem"};var f=s.default.a(a||(a=(0,c.default)(["\n  font-size: ",";\n  color: #1a5a96;\n\n  &:hover {\n    text-decoration: none;\n    color: blue;\n  }\n\n  &:focus {\n    outline: 4px solid #3b99fc;\n    outline-offset: 1px;\n  }\n"])),(function(n){return d[n.size||"medium"]}))},61408:function(n,t,e){"use strict";e.d(t,{c4:function(){return b},Kk:function(){return g},MO:function(){return w},ZP:function(){return j}});var r=e(85893),a=e(809),i=e.n(a),u=e(92447),c=e(27261),o=e(11163),s=e(32678),l=e(17625),d=e(51436),f=e(98806),p=e(6645),h=e(30454);function v(){var n=(0,c.Z)(["\n  height: 40px;\n  border-right: 2px solid #e3e3e3;\n"]);return v=function(){return n},n}function x(){var n=(0,c.Z)(["\n  cursor: ",";\n  ","\n  ",";\n"]);return x=function(){return n},n}function m(){var n=(0,c.Z)(["\n  height: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  padding-right: 15px;\n  & > * {\n    margin-left: 15px;\n  }\n"]);return m=function(){return n},n}var b=s.default.div(m()),g=(0,s.default)(l.G)(x(),(function(n){return n.disabled?"not-allowed":"pointer"}),(function(n){return n.disabled?"color: #CACACA;":"color: black; &:hover { color: ".concat(n.activeColor||"#137ac8","; }")}),(function(n){return n.isUnread?"color: ".concat(h.Uo):""})),w=s.default.div(v());function j(n){var t=n.request,e=n.onDelete,a=n.children,c=(0,o.useRouter)(),s=(t||{}).archived,l=!s&&!["pr","planned","submitted"].includes((null===t||void 0===t?void 0:t.status)||""),v=!s&&["draft","applied"].includes(t.status||""),x="delete-modal-".concat(null===t||void 0===t?void 0:t.id),m=function(){var n=(0,u.Z)(i().mark((function n(e){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.stopPropagation(),v){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,c.push("/request/".concat(t.id,"?status=").concat(t.status));case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),w=function(){var n=(0,u.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!["pr","planned","submitted"].includes((null===t||void 0===t?void 0:t.status)||"")){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,(0,p.Jl)(t.id);case 5:window.location.hash="#",e&&e(t);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(b,{children:[a,(0,r.jsx)(g,{disabled:!v,icon:d.Xcf,role:"button","aria-label":"edit",onClick:m,title:"Edit",size:"lg"}),(0,r.jsx)(g,{icon:d.$aW,role:"button","aria-label":"delete",onClick:function(){t.id&&l&&(window.location.hash=x)},disabled:!l,activeColor:h.Uo,title:"Delete",size:"lg"})]}),(0,r.jsx)(f.Z,{id:x,content:"You are about to delete this integration request. This action cannot be undone.",onConfirm:w,title:"Confirm Deletion",confirmText:"Delete"})]})}},25367:function(n,t,e){"use strict";e.d(t,{Z:function(){return s}});var r=e(85893),a=e(27261),i=(e(67294),e(32678)),u=e(6434);function c(){var n=(0,a.Z)(["\n  margin-top: 20px;\n  max-height: calc(100vh - 250px);\n  overflow: auto;\n"]);return c=function(){return n},n}var o=i.default.div(c());function s(n){var t=n.events;return(0,r.jsx)(o,{children:t&&0!==t.length?t.map((function(n){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Event Code: "}),n.eventCode]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Created Time: "}),(t=n.createdAt,new Date(t).toLocaleString())]}),n.idirUserDisplayName&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Created By: "}),n.idirUserDisplayName]})}),n.details&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsx)("strong",{children:"Details"})}),"request-update-success"===n.eventCode?(0,r.jsxs)(r.Fragment,{children:[(0,u.Sx)(n.details.changes),(0,r.jsx)("strong",{children:"Comment: "}),(0,r.jsx)("p",{children:n.details.comment})]}):(0,r.jsx)("pre",{children:(0,r.jsx)("code",{children:JSON.stringify(n.details||{},void 0,2)})})]}),(0,r.jsx)("hr",{})]},n.id);var t})):(0,r.jsx)("div",{children:"No events found"})})}},65982:function(n,t,e){"use strict";var r=e(27261),a=e(32678),i=e(30454);function u(){var n=(0,r.Z)(["\n  font-size: ",";\n  color: "," !important;\n"]);return u=function(){return n},n}t.Z=a.default.p(u(),i.KN,i.we)},34605:function(n,t,e){"use strict";e.d(t,{Z:function(){return p}});var r=e(85893),a=e(27261),i=(e(67294),e(32678)),u=e(17625),c=e(51436),o=e(30454);function s(){var n=(0,a.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return s=function(){return n},n}function l(){var n=(0,a.Z)(["\n  margin-right: 10px;\n"]);return l=function(){return n},n}var d=(0,i.default)(u.G)(l()),f=i.default.div(s());function p(n){var t=n.children;return(0,r.jsxs)(f,{children:[(0,r.jsx)(d,{icon:c.sqG,color:o.UH,size:"2x"}),(0,r.jsx)("span",{children:(0,r.jsx)("em",{children:t})})]})}},20374:function(n,t,e){"use strict";e.d(t,{H:function(){return o}});var r=e(27261),a=e(32678),i=e(42881),u=e(30454);function c(){var n=(0,r.Z)(["\n  .nav-link {\n    color: black !important;\n    height: 30px !important;\n    font-size: "," !important;\n    font-weight: 600 !important;\n    padding-top: 0; !important;\n    border-top: unset !important;\n    border-left: unset !important;\n    border-right: unset !important;\n  }\n  .nav-link.active {\n    background-color: unset !important;\n    border-bottom: 3px solid orange;\n  }\n"]);return c=function(){return n},n}var o=(0,a.default)(i.Z)(c(),u.CA)},3278:function(n,t,e){"use strict";var r=e(27261),a=e(32678),i=e(30454);function u(){var n=(0,r.Z)(["\n  color: #777777;\n  font-size: ",";\n  font-weight: bold;\n  min-height: 30px;\n  border-bottom: 1px solid #707070;\n  margin-bottom: 5px;\n  overflow: wrap;\n"]);return u=function(){return n},n}var c=a.default.h3(u(),i.CA);t.Z=c},32781:function(n,t,e){"use strict";var r=e(27261),a=e(32678);function i(){var n=(0,r.Z)(["\n  list-style-type: none;\n  margin: 0;\n  position: relative;\n\n  & li {\n    border-bottom: 1px solid #d4d4d4;\n    & svg.svg-inline--fa {\n      position: absolute;\n      right: 0;\n    }\n\n    & div.icon {\n      position: absolute;\n      right: 0;\n      bottom: 5px;\n    }\n  }\n"]);return i=function(){return n},n}t.Z=a.default.ul(i())},90032:function(n,t,e){"use strict";e.d(t,{Z:function(){return q}});var r=e(85893),a=e(27261),i=e(51479),u=e(3278),c=e(17625),o=e(51436),s=e(74150),l=e(32678),d=e(30454),f=e(65982),p=e(11752),h=e(32781),v=e(34605);function x(){var n=(0,a.Z)(["\n  margin-bottom: 10px;\n"]);return x=function(){return n},n}function m(){var n=(0,a.Z)(["\n  color: ",";\n"]);return m=function(){return n},n}function b(){var n=(0,a.Z)(["\n  font-size: 14px;\n"]);return b=function(){return n},n}function g(){var n=(0,a.Z)(["\n  border-bottom: none;\n  margin-top: 10px;\n"]);return g=function(){return n},n}var w=((0,p.default)()||{}).publicRuntimeConfig,j=(void 0===w?{}:w).app_env,k=(0,l.default)(u.Z)(g()),Z=(0,l.default)(k)(b()),y=l.default.a(m(),d.nc),C=(0,l.default)(i.Z)(x()),B=function(n){switch(n){case"submitted":return 0;case"pr":return 33;case"planned":return 66;default:return 100}};function q(n){var t=n.selectedRequest,e=n.title,a=t.status,i=t.prNumber,u=t.updatedAt,l=function(n){switch(n){case"prFailed":case"planFailed":case"applyFailed":return!0;default:return!1}}(a),d=function(n){switch(n){case"submitted":return"Process request submitted...";case"pr":return"Pull request created...";case"planned":return"Terraform plan succeeded...";case"prFailed":case"planFailed":case"applyFailed":return"An error has occurred";default:return""}}(a),p=new Date(u||"").toLocaleString(),x=[(0,r.jsxs)("li",{children:["Process request submitted",(0,r.jsx)(c.G,{icon:o.f8k,color:"#00C45B"})]},"1")],m=function(n){switch(n){case"submitted":return 0;case"pr":return 1;case"prFailed":return 2;case"planned":return 3;case"planFailed":return 4;case"applied":return 5;case"applyFailed":return 6;default:return 0}}(a);if(m<1)x.push((0,r.jsxs)("li",{children:["Pull request created",(0,r.jsx)(c.G,{icon:o.LM3,color:"#B2B2B2",spin:!0})]},"2"));else if(2===m)x.push((0,r.jsxs)("li",{children:["Pull request creation failed",(0,r.jsx)(c.G,{icon:o.nYk,color:"#FF0000"})]},"2"));else{var b="production"===j?"https://github.com/bcgov/sso-terraform/pull/".concat(i):"https://github.com/bcgov/sso-terraform-dev/pull/".concat(i);x.push((0,r.jsxs)("li",{children:["Pull request created (",(0,r.jsx)(s.ZP,{external:!0,href:b,children:"link"}),")",(0,r.jsx)(c.G,{icon:o.f8k,color:"#00C45B"})]},"2"))}return m<3?x.push((0,r.jsxs)("li",{children:["Terraform plan succeeded",(0,r.jsx)(c.G,{icon:o.LM3,color:"#B2B2B2",spin:!0})]},"3")):4===m?x.push((0,r.jsxs)("li",{children:["Terraform plan failed",(0,r.jsx)(c.G,{icon:o.nYk,color:"#FF0000"})]},"3")):x.push((0,r.jsxs)("li",{children:["Terraform plan succeeded",(0,r.jsx)(c.G,{icon:o.f8k,color:"#00C45B"})]},"3")),m<5?x.push((0,r.jsxs)("li",{children:["Request processed",(0,r.jsx)(c.G,{icon:o.LM3,color:"#B2B2B2",spin:!0})]},"4")):6===m?x.push((0,r.jsxs)("li",{children:["Request failed",(0,r.jsx)(c.G,{icon:o.nYk,color:"#FF0000"})]},"4")):x.push((0,r.jsxs)("li",{children:["Request processed",(0,r.jsx)(c.G,{icon:o.f8k,color:"#00C45B"})]},"4")),(0,r.jsxs)(r.Fragment,{children:[e&&(0,r.jsx)(k,{children:e}),(0,r.jsx)(Z,{children:d}),(0,r.jsx)(C,{now:B(a),animated:!0,variant:l?"danger":void 0}),(0,r.jsxs)(f.Z,{children:["Last updated at ",p]}),(0,r.jsx)(h.Z,{children:x}),(0,r.jsx)("br",{}),(0,r.jsxs)(v.Z,{children:["If there is an error or the process takes longer than 20 mins then, please contact our SSO support team by"," ",(0,r.jsx)(y,{href:"https://chat.developer.gov.bc.ca/channel/sso",target:"_blank",title:"Rocket Chat",children:"Rocket.Chat"})," ","or"," ",(0,r.jsx)(y,{href:"mailto:bcgov.sso@gov.bc.ca",title:"Pathfinder SSO",target:"blank",children:"Email us"})," "]})]})}},23451:function(n,t,e){"use strict";var r=e(27261),a=e(32678),i=e(30454);function u(){var n=(0,r.Z)(["\n  width: 100%;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  text-align: left;\n  border-collapse: separate;\n  border-spacing: 0 ","px;\n  table-layout: fixed;\n\n  & thead {\n    font-size: 16px;\n    color: black;\n\n    & th {\n      min-width: ",";\n    }\n  }\n\n  & tbody {\n    font-size: ",";\n    tr {\n      height: ",";\n      background-color: #f8f8f8;\n      ","\n    }\n  }\n\n  td:first-child {\n    padding-left: 1em;\n    text-align: left;\n  }\n\n  th:last-child {\n    text-align: right;\n  }\n\n  td:last-child {\n    text-align: right;\n  }\n\n  & th,\n  & td {\n    border: none;\n    padding: 0;\n    overflow: hidden;\n  }\n\n  & th.w60,\n  & td.w60 {\n    width: 60px;\n  }\n\n  & th.w120,\n  & td.w120 {\n    width: 120px;\n  }\n\n  & td {\n    ","\n  }\n"]);return u=function(){return n},n}var c=a.default.table(u(),i.gM,(function(n){return"mini"===n.variant?"30px":"140px"}),(function(n){return"mini"===n.variant?"14px":"16px"}),(function(n){return"mini"===n.variant?"".concat(i.ZW,"px"):"".concat(i.eX,"px")}),(function(n){return!n.readOnly&&"\n        &:hover {\n          background-color: ".concat(i.uB,";\n          cursor: pointer;\n        }\n        &.active {\n          background-color: ").concat(i.uB,";\n          font-weight: bold;\n          border: 2px solid #9fadc0 !important;\n        }\n      ")}),(function(n){return"mini"===n.variant&&"background-color: ".concat(i.uB,";")}));t.Z=c},87522:function(n,t,e){"use strict";e.d(t,{v:function(){return c}});var r=e(809),a=e.n(r),i=e(92447),u=e(70513),c=function(){var n=(0,i.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.e.post("events",t).then((function(n){return n.data}));case 3:return e=n.sent,n.abrupt("return",[e,null]);case 7:return n.prev=7,n.t0=n.catch(0),console.error(n.t0),n.abrupt("return",[null,n.t0]);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()},6645:function(n,t,e){"use strict";e.d(t,{hG:function(){return s},A_:function(){return l},XJ:function(){return d},H0:function(){return f},zD:function(){return p},WN:function(){return h},Jl:function(){return v},Uw:function(){return x}});var r=e(809),a=e.n(r),i=e(92447),u=e(70513),c=e(96486),o=e(6434),s=function(){var n=(0,i.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.e.post("requests",t).then((function(n){return n.data}));case 3:return e=n.sent,n.abrupt("return",[(0,o.UB)(e),null]);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",(0,u.z)(n.t0));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),l=function(){var n=(0,i.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.e.post("request",{requestId:(0,c.isString)(t)?parseInt(t):t}).then((function(n){return n.data}));case 3:return e=n.sent,n.abrupt("return",[(0,o.UB)(e),null]);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",(0,u.z)(n.t0));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),d=function(){var n=(0,i.Z)(a().mark((function n(){var t,e,r,i=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"active",e={params:{include:t}},n.prev=2,n.next=5,u.e.get("requests",e).then((function(n){return n.data}));case 5:return r=n.sent,r=(0,c.orderBy)(r,["createdAt"],["desc"]),n.abrupt("return",[r.map(o.UB),null]);case 10:return n.prev=10,n.t0=n.catch(2),n.abrupt("return",(0,u.z)(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(){return n.apply(this,arguments)}}(),f=function(){var n=(0,i.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.e.get("team-integrations/".concat(t)).then((function(n){return n.data}));case 3:return e=n.sent,e=(0,c.orderBy)(e,["createdAt"],["desc"]),n.abrupt("return",[e.map(o.UB),null]);case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",(0,u.z)(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}(),p=function(){var n=(0,i.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.e.post("requests-all",t).then((function(n){return n.data}));case 3:return e=n.sent,n.abrupt("return",[{count:e.count,rows:e.rows.map(o.UB)},null]);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",(0,u.z)(n.t0));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),h=function(){var n=(0,i.Z)(a().mark((function n(t){var e,r,i,c=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=c.length>1&&void 0!==c[1]&&c[1],n.prev=1,r="requests",e&&(r="".concat(r,"?submit=true")),n.next=6,u.e.put(r,t).then((function(n){return n.data}));case 6:return i=n.sent,n.abrupt("return",[(0,o.UB)(i),null]);case 10:return n.prev=10,n.t0=n.catch(1),n.abrupt("return",(0,u.z)(n.t0));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(t){return n.apply(this,arguments)}}(),v=function(){var n=(0,i.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.e.delete("requests",{params:{id:t}}).then((function(n){return n.data}));case 3:return e=n.sent,n.abrupt("return",[e,null]);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",(0,u.z)(n.t0));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),x=function(){var n=(0,i.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.e.put("request-metadata",t).then((function(n){return n.data}));case 3:return e=n.sent,n.abrupt("return",[(0,o.UB)(e),null]);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",(0,u.z)(n.t0));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()},51479:function(n,t,e){"use strict";var r=e(22122),a=e(19756),i=e(94184),u=e.n(i),c=e(67294),o=e(76792),s=e(53439),l=["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"],d=["isChild"],f=["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"];function p(n,t,e){var r=(n-t)/(e-t)*100;return Math.round(1e3*r)/1e3}function h(n,t){var e,i=n.min,o=n.now,s=n.max,d=n.label,f=n.srOnly,h=n.striped,v=n.animated,x=n.className,m=n.style,b=n.variant,g=n.bsPrefix,w=(0,a.default)(n,l);return c.createElement("div",(0,r.default)({ref:t},w,{role:"progressbar",className:u()(x,g+"-bar",(e={},e["bg-"+b]=b,e[g+"-bar-animated"]=v,e[g+"-bar-striped"]=v||h,e)),style:(0,r.default)({width:p(o,i,s)+"%"},m),"aria-valuenow":o,"aria-valuemin":i,"aria-valuemax":s}),f?c.createElement("span",{className:"sr-only"},d):d)}var v=c.forwardRef((function(n,t){var e=n.isChild,i=(0,a.default)(n,d);if(i.bsPrefix=(0,o.vE)(i.bsPrefix,"progress"),e)return h(i,t);var l=i.min,p=i.now,v=i.max,x=i.label,m=i.srOnly,b=i.striped,g=i.animated,w=i.bsPrefix,j=i.variant,k=i.className,Z=i.children,y=(0,a.default)(i,f);return c.createElement("div",(0,r.default)({ref:t},y,{className:u()(k,w)}),Z?(0,s.U)(Z,(function(n){return(0,c.cloneElement)(n,{isChild:!0})})):h({min:l,now:p,max:v,label:x,srOnly:m,striped:b,animated:g,bsPrefix:w,variant:j},t))}));v.displayName="ProgressBar",v.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1},t.Z=v}}]);