"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{44e3:function(e,n,t){t.d(n,{$:function(){return h},B:function(){return g}});var r,i,o=t(71383);t(67294);var a=t(85444),s=t(99603),l=t(59417),c=t(63055),d=t(85893),u=(0,a.default)(s.G)(r||(r=(0,o.Z)(["\n  margin-right: 10px;\n"]))),p=a.default.div(i||(i=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"])));function h(e){var n=e.children;return(0,d.jsxs)(p,{children:[(0,d.jsx)(u,{icon:l.sqG,color:c.UH,size:"2x"}),(0,d.jsx)("span",{children:(0,d.jsx)("em",{children:n})})]})}function g(e){var n=e.children;return(0,d.jsxs)(p,{children:[(0,d.jsx)(u,{icon:l.eHv,color:c.Uo,size:"2x"}),(0,d.jsx)("span",{children:(0,d.jsx)("em",{children:n})})]})}},70300:function(e,n,t){var r,i=t(71383),o=t(85444).default.div(r||(r=(0,i.Z)(["\n  min-height: 44px;\n  border-bottom: 1px solid #707070;\n  margin-bottom: 12px;\n  padding-bottom: 5px;\n  overflow: wrap;\n"])));n.Z=o},39550:function(e,n,t){var r,i=t(71383),o=t(85444);n.Z=o.default.ul(r||(r=(0,i.Z)(["\n  list-style-type: none;\n  margin: 0;\n  position: relative;\n\n  & li {\n    border-bottom: 1px solid #d4d4d4;\n    & svg.svg-inline--fa {\n      position: absolute;\n      right: 0;\n    }\n\n    & div.icon {\n      position: absolute;\n      right: 0;\n      bottom: 5px;\n    }\n  }\n"])))},12059:function(e,n,t){t.d(n,{s:function(){return D},Z:function(){return I}});var r,i,o,a,s,l,c=t(16835),d=t(50029),u=t(71383),p=t(87794),h=t.n(p),g=t(67294),x=t(42050),f=t(85444),m=t(63055),v=f.default.h3(r||(r=(0,u.Z)(["\n  color: #777777;\n  font-size: ",";\n  font-weight: bold;\n  min-height: 30px;\n  border-bottom: 1px solid #707070;\n  margin-bottom: 5px;\n  overflow: wrap;\n"])),m.CA),j=t(99603),b=t(59417),P=t(74150),Z=t(85330),y=f.default.p(i||(i=(0,u.Z)(["\n  font-size: ",";\n  color: "," !important;\n"])),m.KN,m.we),w=t(11752),C=t.n(w),k=t(39550),F=t(44e3),O=t(15812),S=t(37226),B=t(85893),G=(C()()||{}).publicRuntimeConfig,R=(void 0===G?{}:G).app_env,T=(0,f.default)(v)(o||(o=(0,u.Z)(["\n  border-bottom: none;\n  margin-top: 10px;\n"]))),E=(0,f.default)(T)(a||(a=(0,u.Z)(["\n  font-size: 14px;\n"]))),M=f.default.a(s||(s=(0,u.Z)(["\n  color: ",";\n"])),m.nc),N=(0,f.default)(x.Z)(l||(l=(0,u.Z)(["\n  margin-bottom: 10px;\n"]))),L=function(e){switch(e){case"submitted":return 0;case"pr":return 33;case"planned":return 66;default:return 100}},q=function(e){switch(e){case"submitted":return"Process request submitted...";case"pr":return"Pull request created...";case"planned":return"Terraform plan succeeded...";case"prFailed":case"planFailed":case"applyFailed":return"An error has occurred";default:return""}},z=function(e){switch(e){case"prFailed":case"planFailed":case"applyFailed":return!0;default:return!1}},A=function(e){switch(e){case"submitted":default:return 0;case"pr":return 1;case"prFailed":return 2;case"planned":return 3;case"planFailed":return 4;case"applied":return 5;case"applyFailed":return 6}};function D(e){var n=e.integration,t=n.status,r=n.updatedAt,i=z(t),o=new Date(r||"").toLocaleString();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(N,{now:L(t),animated:!0,variant:i?"danger":void 0}),(0,B.jsxs)(y,{children:["Last updated at ",o]})]})}var I=(0,O.hU)(function(e){var n=e.integration,t=e.title,r=e.alert,i=n.id,o=n.status,a=n.updatedAt,s=n.prNumber,l=(0,g.useState)(!1),u=l[0],p=l[1],x=z(o),f=q(o),m=new Date(a||"");(0,g.useEffect)(function(){p(12e5<new Date().getTime()-m.getTime())},[n]);var v=[(0,B.jsxs)("li",{children:["Process request submitted",(0,B.jsx)(j.G,{icon:b.f8k,color:"#00C45B"})]},"1")],y=A(o);y<1?v.push((0,B.jsxs)("li",{children:["Pull request created",(0,B.jsx)(j.G,{icon:b.LM3,color:"#B2B2B2",spin:!0})]},"2")):2===y?v.push((0,B.jsxs)("li",{children:["Pull request creation failed",(0,B.jsx)(j.G,{icon:b.nYk,color:"#FF0000"})]},"2")):v.push((0,B.jsxs)("li",{children:["Pull request created (",(0,B.jsx)(P.default,{external:!0,href:"production"===R?"https://github.com/bcgov/sso-terraform/pull/".concat(s):"https://github.com/bcgov/sso-terraform-dev/pull/".concat(s),children:"link"}),")",(0,B.jsx)(j.G,{icon:b.f8k,color:"#00C45B"})]},"2")),y<3?v.push((0,B.jsxs)("li",{children:["Terraform plan succeeded",(0,B.jsx)(j.G,{icon:b.LM3,color:"#B2B2B2",spin:!0})]},"3")):4===y?v.push((0,B.jsxs)("li",{children:["Terraform plan failed",(0,B.jsx)(j.G,{icon:b.nYk,color:"#FF0000"})]},"3")):v.push((0,B.jsxs)("li",{children:["Terraform plan succeeded",(0,B.jsx)(j.G,{icon:b.f8k,color:"#00C45B"})]},"3")),y<5?v.push((0,B.jsxs)("li",{children:["Request processed",(0,B.jsx)(j.G,{icon:b.LM3,color:"#B2B2B2",spin:!0})]},"4")):6===y?v.push((0,B.jsxs)("li",{children:["Request failed",(0,B.jsx)(j.G,{icon:b.nYk,color:"#FF0000"})]},"4")):v.push((0,B.jsxs)("li",{children:["Request processed",(0,B.jsx)(j.G,{icon:b.f8k,color:"#00C45B"})]},"4"));var w=null;return x?w=(0,B.jsxs)(F.B,{children:["You have an unexpected error. Please contact our SSO support team by"," ",(0,B.jsx)(M,{href:"https://chat.developer.gov.bc.ca/channel/sso",target:"_blank",title:"Rocket Chat",children:"Rocket.Chat"})," ","or"," ",(0,B.jsx)(M,{href:"mailto:bcgov.sso@gov.bc.ca",title:"Pathfinder SSO",target:"blank",children:"Email us"})," "]}):u&&(w=(0,B.jsxs)(F.$,{children:[(0,B.jsx)("div",{children:"Your integration submission is taking longer than expected, please select resubmit."}),(0,B.jsx)(Z.zx,{variant:"bcPrimary",size:"small",type:"button",onClick:(0,d.Z)(h().mark(function e(){var n,t,o,a,s;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.ct)(i);case 2:n=e.sent,(t=(0,c.Z)(n,2))[0],a=(o=t[1])?"danger":"success",s=o?"failed to resubmit the request":"resubmitted the request successfully",r.show({variant:a,fadeOut:1e4,closable:!0,content:s}),p(!1);case 10:case"end":return e.stop()}},e)})),children:"Resubmit"})]})),(0,B.jsxs)(B.Fragment,{children:[t&&(0,B.jsx)(T,{children:t}),(0,B.jsx)(E,{children:f}),(0,B.jsx)(D,{integration:n}),(0,B.jsx)(k.Z,{children:v}),w]})})},53442:function(e,n,t){var r,i,o,a,s,l,c=t(59499),d=t(71383),u=t(85330),p=t(4826),h=t(67294),g=t(79521),x=t(64735),f=t(53918),m=t(85444),v=t(88916),j=t(70300),b=t(59417),P=t(99603),Z=t(34798),y=t.n(Z),w=t(88742),C=t(76457),k=t(65837),F=t(63055),O=t(246),S=t.n(O),B=t(85893);function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach(function(n){(0,c.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var T=S(),E=(0,m.default)(P.G)(r||(r=(0,d.Z)(["\n  color: '#000';\n"]))),M=(0,m.default)(f.Z)(i||(i=(0,d.Z)(["\n  margin: 0 !important;\n  & li {\n    margin: 0 !important;\n  }\n"]))),N=m.default.label(o||(o=(0,d.Z)(["\n  cursor: pointer;\n  font-weight: bold;\n  & * {\n    font-weight: normal;\n  }\n"]))),L=m.default.li(a||(a=(0,d.Z)(["\n  padding-left: 5px;\n  line-height: 40px;\n"]))),q=(0,m.default)(v.ZP)(s||(s=(0,d.Z)(["\n  width: 150px;\n  display: inline-block;\n"]))),z=m.default.div(l||(l=(0,d.Z)(["\n  display: grid;\n  grid-template-columns:\n    ","\n    &> * {\n    margin-right: 10px;\n    white-space: nowrap;\n  }\n"])),function(e){return"repeat(".concat(e.itemsLength,", 1fr);")});function A(e){var n=e.setFilter,t=e.options,r=e.setValue,i=e.gotoPage;return(0,B.jsx)("div",{"data-testid":"multi-select-col-filter",children:(0,B.jsx)(v.ZP,{className:"basic-multi-select",classNamePrefix:"select",onChange:function(e){n("status",e),r(e),i(0)},options:t,isMulti:!0})})}var D=function(e){var n=e.canPreviousPage,t=e.previousPage,r=e.canNextPage,i=e.nextPage,o=e.pageOptions,a=e.pageIndex;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(f.Z.Item,{disabled:!n,onClick:function(){t()},children:"Previous"},"prev"),(0,B.jsx)(f.Z.Item,{disabled:!r,onClick:function(){i()},children:"Next"},"next"),(0,B.jsx)(L,{children:"".concat(a+1," of ").concat((void 0===o?[]:o).length)})]})};n.Z=function(e){var n=e.variant,t=e.headers,r=e.data,i=e.activateRow,o=void 0===i?y():i,a=e.loadMoreItem,s=void 0===a?y():a,l=e.hasMoreItem,c=e.searchLocation,d=e.colfilters,f=void 0===d?[]:d,m=e.showFilters,P=e.searchPlaceholder,Z=e.searchTooltip,O=e.totalColSpan,S=e.headerAlign,G=e.headerGutter,L=e.filterColSpan,I=e.searchColSpan,K=e.onPage,U=void 0===K?y():K,_=e.onEnter,H=void 0===_?y():_,Y=e.rowCount,V=void 0===Y?10:Y,W=e.searchKey,$=e.onSearch,Q=void 0===$?y():$,J=e.loading,X=e.loader,ee=void 0===X?(0,B.jsx)(B.Fragment,{}):X,en=e.onLimit,et=void 0===en?y():en,er=e.limit,ei=void 0===er?10:er,eo=e.noDataFoundElement,ea=void 0===eo?(0,B.jsx)("p",{children:"No Data Found."}):eo,es=e.pagination,el=e.pageLimits,ec=void 0===el?[5,10,15,30,50,100]:el,ed=e.rowSelectorKey,eu=void 0===ed?"id":ed,ep=e.readOnly,eh=Math.ceil(V/ei),eg=h.useMemo(function(){return t},[t]),ex=h.useMemo(function(){return r},[r]),ef=(0,h.useState)(),em=ef[0],ev=ef[1],ej=(0,h.useState)(void 0===W?"":W),eb=ej[0],eP=ej[1],eZ=(0,g.useTable)({columns:eg,data:ex,initialState:{pageIndex:0},manualPagination:!0,pageCount:0===eh?1:eh,autoResetPage:!1,autoResetSortBy:!1},g.useFilters,g.useGlobalFilter,g.useSortBy,g.usePagination),ey=eZ.getTableProps,ew=eZ.getTableBodyProps,eC=eZ.headerGroups,ek=eZ.prepareRow,eF=eZ.page,eO=eZ.canPreviousPage,eS=eZ.canNextPage,eB=eZ.pageOptions,eG=eZ.nextPage,eR=eZ.previousPage,eT=eZ.state.pageIndex,eE=eZ.setFilter,eM=eZ.gotoPage,eN=V||ei;V>ei&&(eN=ei);var eL=(0,B.jsx)("td",{colSpan:100,children:(0,B.jsx)("div",{style:{height:"".concat(eN*(F.ZW+F.gM)-F.gM,"px"),paddingTop:"10px"},children:(0,B.jsx)(k.TextBlock,{rows:2*eN,color:"#CCC"})})}),eq=function(){return ec.map(function(e){return{value:e,label:"".concat(e," per page")}})},ez=function(e){eM(0),et(e)},eA=function(e){o(e),ev(e)},eD=(0,B.jsx)(x.ZP.Col,{span:void 0===I?4:I,children:(0,B.jsx)(x.ZP,{cols:12,children:(0,B.jsxs)(x.ZP.Row,{gutter:[5,0],align:"center",children:[(0,B.jsx)(x.ZP.Col,{span:8,children:(0,B.jsx)(u.E1,{type:"text",size:"small",maxLength:"1000",placeholder:void 0===P?"Search...":P,value:eb,onChange:function(e){eP(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&(H(eb),eM(0))}})}),(0,B.jsx)(x.ZP.Col,{span:4,children:(0,B.jsx)(w.Z,{content:void 0===Z?"":Z,children:(0,B.jsx)(p.default,{type:"button",size:"small",onClick:function(){Q(eb),eM(0),ev(void 0)},children:"Search"})})})]})})}),eI=(0,B.jsx)(x.ZP.Col,{span:void 0===L?10:L,style:{textAlign:"right"},children:(0,B.jsx)(z,{itemsLength:f.length,children:f.map(function(e){return(0,B.jsx)(N,{children:e.multiselect?(0,B.jsxs)(B.Fragment,{children:[e.label,(0,B.jsx)(A,{setFilter:eE,options:e.options,setValue:e.onChange,gotoPage:eM})]}):(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)("div",{"data-testid":"select-col-filter",children:[e.label,(0,B.jsx)(v.ZP,{className:"basic-single",classNamePrefix:"select",options:e.options,onChange:function(n){return e.onChange&&e.onChange(n.value)},isSearchable:!0,defaultValue:e.options[0],value:e.options.find(function(n){return n.value===e.value})})]})})},e.label)})})}),eK=null,eU=null;return"left"===(void 0===c?"left":c)?(eK=eD,eU=eI):(eK=eI,eU=eD),(0,h.useEffect)(function(){U(eT+1),ev(void 0)},[eT]),(0,B.jsxs)(B.Fragment,{children:[void 0!==m&&m&&(0,B.jsx)(j.Z,{children:(0,B.jsx)(x.ZP,{cols:void 0===O?14:O,children:(0,B.jsxs)(x.ZP.Row,{collapse:"1160",gutter:void 0===G?[]:G,align:void 0===S?"center":S,children:[eK,eU]})})}),(0,B.jsx)(T,{loadMore:s,hasMore:void 0!==l&&l,loader:ee,children:(0,B.jsxs)(u.iA,R(R({variant:void 0===n?"medium":n},ey()),{},{readOnly:void 0!==ep&&ep,children:[(0,B.jsx)("thead",{children:eC.map(function(e){return(0,h.createElement)("tr",R(R({},e.getHeaderGroupProps()),{},{key:e.id}),e.headers.map(function(e){var n,t;return(0,h.createElement)("th",R(R({},e.getHeaderProps(e.getSortByToggleProps())),{},{key:e.id}),e.render("Header"),"\xa0",(0,B.jsx)("span",{children:(n=e.isSorted,t=e.isSortedDesc,n?(0,B.jsx)(E,{icon:t?b.u9C:b.foy,size:"sm"}):null)}))}))})}),(0,B.jsx)("tbody",R(R({},ew()),{},{children:(0,B.jsx)(C.Z,{ready:!J,showLoadingAnimation:!0,customPlaceholder:eL,children:eF.length>0?eF.map(function(e){return ek(e),(0,h.createElement)("tr",R(R({},e.getRowProps()),{},{className:(null==em?void 0:em.original["".concat(eu)])===(null==e?void 0:e.original["".concat(eu)])?"active":"",key:null==e?void 0:e.id,onClick:function(){return eA(e)}}),e.cells.map(function(e){return(0,h.createElement)("td",R(R({},e.getCellProps()),{},{key:e.value}),e.render("Cell"))}))}):(0,B.jsx)("tr",{children:(0,B.jsx)("td",{colSpan:10,children:ea})})})}))]}))}),void 0!==es&&es&&V>0&&(0,B.jsx)(x.ZP,{cols:12,children:(0,B.jsxs)(x.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,B.jsx)(x.ZP.Col,{span:8,children:(0,B.jsx)(M,{children:(0,B.jsx)(D,{canNextPage:eS,nextPage:eG,canPreviousPage:eO,previousPage:eR,pageIndex:eT,pageOptions:eB})})}),(0,B.jsx)(x.ZP.Col,{span:4,children:(0,B.jsx)("div",{style:{textAlign:"right"},"data-testid":"page-select",children:(0,B.jsx)(q,{menuPosition:"fixed",defaultValue:eT||eq()[0],options:eq(),onChange:function(e){return ez(e.value)}})})})]})})]})}},49910:function(e,n,t){t.d(n,{F:function(){return g}});var r,i,o=t(71383),a=t(67294),s=t(11163),l=t(64735),c=t(85444),d=t(85330),u=t(59912),p=t(23130),h=t(85893),g=[{maxWidth:900,marginTop:0,marginLeft:10,marginRight:10,marginUnit:"px",horizontalAlign:"none"},{width:480,marginTop:0,marginLeft:2.5,marginRight:2.5,marginUnit:"rem",horizontalAlign:"none"}],x=c.default.div(r||(r=(0,o.Z)(["\n  overflow: auto;\n"]))),f=c.default.div(i||(i=(0,o.Z)(["\n  padding-top: 2px;\n"])));n.Z=function(e){var n,t=e.tab,r=e.leftPanel,i=e.rightPanel,o=e.children,c=(0,s.useRouter)(),m=(0,a.useContext)(p.SessionContext)||{},v=m.user,j=m.enableGold,b=null==v?void 0:null===(n=v.integrations)||void 0===n?void 0:n.find(function(e){return"silver"===e.serviceType}),P=(0,h.jsxs)(d.mQ,{onChange:function(e){c.replace("/my-dashboard/".concat(e))},activeKey:t,tabBarGutter:30,children:[(0,h.jsx)(d.OK,{tab:"My Projects"},"integrations"),(0,h.jsx)(d.OK,{tab:"My Teams"},"teams"),j&&b&&(0,h.jsx)(d.OK,{tab:"*New - Silver to Gold Upgrade"},"s2g")]});return(0,h.jsx)(u.Z,{rules:g,children:o?(0,h.jsxs)(f,{children:[P,o]}):(0,h.jsx)(l.ZP,{cols:10,children:(0,h.jsxs)(l.ZP.Row,{collapse:"1100",gutter:[15,2],children:[(0,h.jsx)(l.ZP.Col,{span:6,children:(0,h.jsxs)(x,{children:[P,r&&r()]})}),(0,h.jsx)(l.ZP.Col,{span:4,children:i&&i()})]})})})}}}]);