"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[772],{36575:function(e,n,r){var t,a=r(71383),c=r(71893).ZP.span(t||(t=(0,a.Z)(["\n  color: #dc3545;\n  margin: 0;\n  padding: 0;\n"])));n.Z=c},39772:function(e,n,r){var t,a=r(16835),c=r(50029),u=r(71383),s=r(87794),i=r.n(s),o=r(67294),l=r(11915),p=r(71893),d=r(85330),f=r(3016),h=r(42894),m=r(15812),v=r(36575),x=r(91679),b=r(36089),w=r(85893),j=p.ZP.div(t||(t=(0,u.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n  & button {\n    min-width: 180px;\n  }\n"]))),g={idirEmail:"",role:"member",id:new Date().getTime()};n.Z=(0,m.hU)(function(e){var n,r=e.onSubmit,t=e.alert,u=((0,o.useContext)(b.SessionContext)||{}).session,s=(0,o.useState)([g]),p=s[0],m=s[1],y=(0,o.useState)(""),Z=y[0],k=y[1],O=(0,o.useState)(!1),P=O[0],z=O[1],C=(0,o.useState)(),E=C[0],S=C[1],A=(n=(0,c.Z)(i().mark(function e(){var n,c,u,s,o,l,d,h,v;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={name:Z,members:p},c=(0,x.p)(n),s=(u=(0,a.Z)(c,2))[0],o=u[1],!s){e.next=4;break}return e.abrupt("return",S(o));case 4:return z(!0),e.next=7,(0,f.Cm)(n);case 7:if(l=e.sent,h=(d=(0,a.Z)(l,2))[0],(v=d[1])?t.show({variant:"danger",fadeOut:1e4,closable:!0,content:v}):t.show({variant:"success",fadeOut:1e4,closable:!0,content:"Team ".concat(Z," successfully created")}),!h){e.next=15;break}return e.next=15,r(h.id);case 15:m([g]),k(""),z(!1),window.location.hash="#";case 19:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,w.jsxs)("div",{children:[(0,w.jsx)(l.default,{label:"Team Name",onChange:function(e){k(e.target.value)},value:Z}),E&&E.name&&(0,w.jsx)(v.Z,{children:null==E?void 0:E.name}),(0,w.jsx)("br",{}),(0,w.jsx)("strong",{children:"Team Members"}),(0,w.jsx)(x.Z,{errors:E,members:p,setMembers:m,currentUser:u}),(0,w.jsxs)(j,{children:[(0,w.jsx)(d.zx,{variant:"secondary",onClick:function(){window.location.hash="#"},children:"Cancel"}),(0,w.jsx)(d.zx,{type:"button",onClick:A,children:P?(0,w.jsx)(h.rj,{color:"#FFF",height:18,width:50,visible:P}):"Send Invitation"})]})]})})},91679:function(e,n,r){r.d(n,{p:function(){return F}});var t,a,c,u,s,i,o,l,p,d,f=r(59499),h=r(27812),m=r(71383);r(67294);var v=r(11915),x=r(35611),b=r(71893),w=r(48966),j=r.n(w),g=r(99603),y=r(59417),Z=r(36575),k=r(74150),O=r(85893);function P(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function z(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?P(Object(r),!0).forEach(function(n){(0,f.Z)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var C=b.ZP.div(t||(t=(0,m.Z)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  align-items: end;\n  margin-bottom: 10px;\n  grid-gap: 0 1em;\n"]))),E=(0,b.ZP)(x.default)(a||(a=(0,m.Z)(["\n  & .pg-select-wrapper {\n    height: 44px;\n    ","\n  }\n"])),function(e){return e.readOnlyRole?"padding-left:6px;":""}),S=b.ZP.div(c||(c=(0,m.Z)(["\n  border-bottom: 1px solid black;\n  grid-column: 1 / 3;\n"]))),A=b.ZP.span(u||(u=(0,m.Z)(["\n  margin: 10px 0;\n  cursor: pointer;\n  & span {\n    margin-left: 5px;\n  }\n"]))),D=b.ZP.section(s||(s=(0,m.Z)(["\n  max-height: 50vh;\n  overflow-y: scroll;\n"]))),M=(0,b.ZP)(C)(i||(i=(0,m.Z)(["\n  grid-template-columns: 2.2fr 0.9fr 1.2fr;\n  align-items: start;\n  margin-bottom: 20px;\n"]))),T=(0,b.ZP)(g.G)(o||(o=(0,m.Z)(["\n  align-self: center;\n  color: red;\n  cursor: pointer;\n"]))),N=(0,b.ZP)(g.G)(l||(l=(0,m.Z)(["\n  padding: 3px;\n  border-radius: 25px;\n  border-style: solid;\n  border-color: black;\n  border-width: thin;\n"]))),R=(0,b.ZP)(g.G)(p||(p=(0,m.Z)(["\n  padding: 3px;\n  border-radius: 25px;\n  border-style: solid;\n  border-color: black;\n  border-width: thin;\n  color: white;\n  background-color: black;\n"]))),G=b.ZP.p(d||(d=(0,m.Z)(["\n  font-style: italic;\n  font-size: 0.95em;\n"]))),F=function(e){var n={name:null,members:[]};return e.name||(n.name="Please enter a name"),e.members.forEach(function(e,r){e.idirEmail&&j().isEmail(e.idirEmail)||(n.members[r]="Please enter an email")}),[n.name||n.members.length>0,n]};n.Z=function(e){var n=e.errors,r=e.members,t=e.setMembers,a=e.allowDelete,c=void 0===a||a,u=e.currentUser,s=void 0===u?null:u,i=function(e,n){var a=z({},r[e]);a.idirEmail=n.target.value;var c=(0,h.Z)(r);c[e]=a,t(c)},o=function(e,n){var a=z({},r[e]);a.role=n.target.value;var c=(0,h.Z)(r);c[e]=a,t(c)},l=function(e){t(r.filter(function(n,r){return r!==e}))};return(0,O.jsxs)("div",{children:[(0,O.jsxs)("p",{children:["Enter your team memberâ€™s government email address and they will be sent an invitation to join the project. Once they accept the invitation, they will have access to your project. Their invitation will expire in"," ",(0,O.jsx)("strong",{children:"2 business days"}),"."]}),(0,O.jsxs)("p",{children:[(0,O.jsx)("span",{className:"strong",children:"Roles:"}),(0,O.jsx)("br",{}),(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{children:(0,O.jsx)(R,{icon:y.Tab})}),"\xa0\xa0",(0,O.jsx)("span",{className:"underline",style:{verticalAlign:"top"},children:"Admins"}),(0,O.jsxs)("span",{style:{verticalAlign:"top"},children:["\xa0have ",(0,O.jsx)("b",{children:"managing"})," powers"]})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{children:(0,O.jsx)(N,{icon:y.Tab})}),"\xa0\xa0",(0,O.jsx)("span",{className:"underline",style:{verticalAlign:"top"},children:"Members"}),(0,O.jsxs)("span",{style:{verticalAlign:"top"},children:["\xa0have ",(0,O.jsx)("b",{children:"viewing"})," powers"]})]}),(0,O.jsx)("br",{}),(0,O.jsx)("div",{children:(0,O.jsx)("span",{className:"underline",children:(0,O.jsx)(k.default,{external:!0,href:"https://github.com/bcgov/sso-keycloak/wiki/CSS-App-My-Teams",children:"View a detailed breakdown of roles on our wiki page"})})})]}),(0,O.jsxs)(D,{children:[(0,O.jsxs)(C,{children:[(0,O.jsx)("strong",{children:"Member"}),(0,O.jsx)("strong",{children:"Role"}),(0,O.jsx)(S,{})]}),(0,O.jsx)(G,{children:"*Please enter email address tied to and IDIR to allow your user to login"}),s&&(0,O.jsxs)(M,{children:[(0,O.jsx)(v.default,{value:(null==s?void 0:s.email)||"",readOnly:!0}),(0,O.jsx)(E,{label:"Role",disabled:!0,value:"admin",readOnlyRole:!0,children:(0,O.jsx)("option",{value:"admin",children:"Admin"})})]}),r.map(function(e,r){return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(M,{children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(v.default,{placeholder:"Enter email address",onChange:function(e){return i(r,e)},value:e.idirEmail}),n&&n.members&&n.members[r]&&(0,O.jsx)(Z.Z,{children:n.members[r]})]}),(0,O.jsxs)(E,{label:"Role",onChange:function(e){return o(r,e)},value:e.role,children:[(0,O.jsx)("option",{value:"member",children:"Member"}),(0,O.jsx)("option",{value:"admin",children:"Admin"})]}),r>=0&&c&&(0,O.jsx)(T,{icon:y.uMC,onClick:function(){return l(r)},title:"Delete"})]},e.id)})}),(0,O.jsxs)(A,{onClick:function(){t([].concat((0,h.Z)(r),[{idirEmail:"",role:"member",id:new Date().getTime(),pending:!0}]))},children:[(0,O.jsx)(g.G,{style:{color:"#006fc4"},icon:y.KtF,title:"Add Item"}),(0,O.jsx)("span",{children:"Add another team member"})]})]})]})}},3016:function(e,n,r){r.d(n,{Cm:function(){return O},Dc:function(){return Z},Gc:function(){return G},MH:function(){return S},Sx:function(){return T},YY:function(){return C},ZT:function(){return N},fC:function(){return D},l8:function(){return k},rU:function(){return A},rl:function(){return M},vM:function(){return R},w2:function(){return P},yG:function(){return z},yN:function(){return F},zZ:function(){return E}});var t,a,c,u,s,i,o,l,p,d,f,h,m,v,x,b,w=r(50029),j=r(87794),g=r.n(j),y=r(21963),Z=(t=(0,w.Z)(g().mark(function e(){var n;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.get("teams").then(function(e){return e.data});case 3:return n=e.sent,e.abrupt("return",[n,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return t.apply(this,arguments)}),k=(a=(0,w.Z)(g().mark(function e(){var n;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.get("allowed-teams").then(function(e){return e.data});case 3:return n=e.sent,e.abrupt("return",[n,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return a.apply(this,arguments)}),O=(c=(0,w.Z)(g().mark(function e(n){var r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.post("teams",n).then(function(e){return e.data});case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return c.apply(this,arguments)}),P=(u=(0,w.Z)(g().mark(function e(n){var r,t,a,c;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n.name,t=n.id,a={name:r},e.next=5,y.e.put("teams/".concat(t),a).then(function(e){return e.data});case 5:return c=e.sent,e.abrupt("return",[c,null]);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(e){return u.apply(this,arguments)}),z=(s=(0,w.Z)(g().mark(function e(n){var r,t,a;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n.id,t=n.members,e.next=4,y.e.post("teams/".concat(r,"/members"),t).then(function(e){return e.data});case 4:return a=e.sent,e.abrupt("return",[a,null]);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return s.apply(this,arguments)}),C=(i=(0,w.Z)(g().mark(function e(n){var r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.get("teams/".concat(n,"/members")).then(function(e){return e.data});case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return i.apply(this,arguments)}),E=(o=(0,w.Z)(g().mark(function e(n,r,t){var a;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.put("teams/".concat(n,"/members/").concat(r),t).then(function(e){return e.data});case 3:return a=e.sent,e.abrupt("return",[a,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n,r){return o.apply(this,arguments)}),S=(l=(0,w.Z)(g().mark(function e(n,r){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.delete("teams/".concat(r,"/members/").concat(n)).then(function(e){return e.data});case 3:return t=e.sent,e.abrupt("return",[t,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n){return l.apply(this,arguments)}),A=(p=(0,w.Z)(g().mark(function e(n,r){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.post("teams/".concat(r,"/invite"),n).then(function(e){return e.data});case 3:return t=e.sent,e.abrupt("return",[t,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n){return p.apply(this,arguments)}),D=(d=(0,w.Z)(g().mark(function e(n){var r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.delete("teams/".concat(n)).then(function(e){return e.data});case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return d.apply(this,arguments)}),M=(f=(0,w.Z)(g().mark(function e(n){var r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.post("teams/".concat(n,"/service-accounts")).then(function(e){return e.data});case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return f.apply(this,arguments)}),T=(h=(0,w.Z)(g().mark(function e(n){var r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.get("teams/".concat(n,"/service-accounts")).then(function(e){return e.data});case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return h.apply(this,arguments)}),N=(m=(0,w.Z)(g().mark(function e(n,r){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.get("teams/".concat(n,"/service-accounts/").concat(r)).then(function(e){return e.data});case 3:return t=e.sent,e.abrupt("return",[t,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n){return m.apply(this,arguments)}),R=(v=(0,w.Z)(g().mark(function e(n,r){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.get("teams/".concat(n,"/service-accounts/").concat(r,"/credentials")).then(function(e){return e.data});case 3:return t=e.sent,e.abrupt("return",[t,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n){return v.apply(this,arguments)}),G=(x=(0,w.Z)(g().mark(function e(n,r){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.put("teams/".concat(n,"/service-accounts/").concat(r,"/credentials")).then(function(e){return e.data});case 3:return t=e.sent,e.abrupt("return",[t,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n){return x.apply(this,arguments)}),F=(b=(0,w.Z)(g().mark(function e(n,r){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.e.delete("teams/".concat(n,"/service-accounts/").concat(r)).then(function(e){return e.data});case 3:return t=e.sent,e.abrupt("return",[t,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,y.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,n){return b.apply(this,arguments)})}}]);