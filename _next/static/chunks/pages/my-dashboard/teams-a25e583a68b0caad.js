(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[592],{51022:function(e,t,n){"use strict";var r=n(71893).ZP.span.withConfig({displayName:"ErrorText",componentId:"sc-4hgude-0"})(["color:#dc3545;margin:0;padding:0;"]);t.Z=r},16481:function(e,t,n){"use strict";var r=n(16835),a=n(50029),i=n(64687),o=n.n(i),s=n(67294),c=n(11915),l=n(71893),d=n(40291),u=n(42894),m=n(4680),p=n(51022),h=n(62026),f=n(10662),x=n(85893),b=l.ZP.div.withConfig({displayName:"CreateTeamForm__ButtonsContainer",componentId:"sc-1lj4dme-0"})(["display:flex;justify-content:space-between;margin-top:20px;& button{min-width:180px;}"]),g={idirEmail:"",role:"member",id:new Date().getTime()};t.Z=(0,m.hU)(function(e){var t,n=e.onSubmit,i=e.alert,l=e.setOpenCreateTeamModal,m=((0,s.useContext)(f.SessionContext)||{}).session,v=(0,s.useState)([g]),j=v[0],y=v[1],w=(0,s.useState)(""),C=w[0],S=w[1],Z=(0,s.useState)(!1),T=Z[0],k=Z[1],P=(0,s.useState)(null),N=P[0],_=P[1],O=(t=(0,a.Z)(o().mark(function e(){var t,a,s,c,u,p,f,x,b;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m,a={name:C,members:j},s=(0,h.p)(a,t.email),u=(c=(0,r.Z)(s,2))[0],p=c[1],!u){e.next=5;break}return e.abrupt("return",_(p));case 5:return k(!0),e.next=8,(0,d.Cm)(a);case 8:if(f=e.sent,b=(x=(0,r.Z)(f,2))[0],x[1]?i.show({variant:"danger",fadeOut:1e4,closable:!0,content:"Failed to create team. Please try again."}):i.show({variant:"success",fadeOut:1e4,closable:!0,content:"Team ".concat(C," successfully created")}),!b){e.next=16;break}return e.next=16,n(b.id);case 16:y([g]),S(""),k(!1),_(null),l(!1);case 21:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,x.jsxs)("div",{children:[(0,x.jsx)(c.default,{label:"Team Name",onChange:function(e){S(e.target.value)},maxLength:"255","data-testid":"team-name",value:C}),N&&N.name&&(0,x.jsx)(p.Z,{children:null==N?void 0:N.name}),(0,x.jsx)("br",{}),(0,x.jsx)("strong",{children:"Team Members"}),(0,x.jsx)(h.Z,{errors:N,members:j,setMembers:y,currentUser:m}),(0,x.jsxs)(b,{children:[(0,x.jsx)("button",{className:"secondary",onClick:function(){y([g]),S(""),k(!1),_(null),l(!1)},children:"Cancel"}),(0,x.jsx)("button",{className:"primary",type:"button",onClick:O,"data-testid":"send-invitation",children:T?(0,x.jsx)(u.rj,{color:"#FFF",height:18,width:50,visible:T}):"Send Invitation"})]})]})})},62026:function(e,t,n){"use strict";n.d(t,{p:function(){return _}});var r=n(59499),a=n(27812);n(67294);var i=n(11915),o=n(35611),s=n(71893),c=n(48966),l=n.n(c),d=n(99603),u=n(59417),m=n(51022),p=n(74150),h=n(20827),f=n(35685),x=n(86022),b=n(85893);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var j=s.ZP.div.withConfig({displayName:"TeamMembersForm__Container",componentId:"sc-85tcc3-0"})(["display:grid;grid-template-columns:1fr 1fr;align-items:end;margin-bottom:10px;grid-gap:0 1em;"]),y=(0,s.ZP)(o.default).withConfig({displayName:"TeamMembersForm__Dropdown",componentId:"sc-85tcc3-1"})(["& .pg-select-wrapper{height:44px;","}"],function(e){return e.readOnlyRole?"padding-left:6px;":""}),w=s.ZP.div.withConfig({displayName:"TeamMembersForm__Divider",componentId:"sc-85tcc3-2"})(["border-bottom:1px solid black;grid-column:1 / 3;"]),C=s.ZP.span.withConfig({displayName:"TeamMembersForm__AddMemberButton",componentId:"sc-85tcc3-3"})(["margin:10px 0;cursor:pointer;& span{margin-left:5px;}"]),S=s.ZP.section.withConfig({displayName:"TeamMembersForm__MembersSection",componentId:"sc-85tcc3-4"})(["max-height:50vh;overflow-y:scroll;padding-left:1em;"]),Z=(0,s.ZP)(j).withConfig({displayName:"TeamMembersForm__MemberContainer",componentId:"sc-85tcc3-5"})(["grid-template-columns:2.2fr 0.9fr 1.2fr;align-items:start;margin-bottom:20px;.email-select > .select-inner__control{padding:0.13em 0;border:2px solid #606060;visibility:inherit;&:focus-within{outline:4px solid #3b99fc !important;outline-offset:2px !important;}}"]),T=(0,s.ZP)(d.G).withConfig({displayName:"TeamMembersForm__Icon",componentId:"sc-85tcc3-6"})(["align-self:center;color:red;cursor:pointer;"]),k=(0,s.ZP)(d.G).withConfig({displayName:"TeamMembersForm__LightOutlinedStar",componentId:"sc-85tcc3-7"})(["padding:3px;border-radius:25px;border-style:solid;border-color:black;border-width:thin;"]),P=(0,s.ZP)(d.G).withConfig({displayName:"TeamMembersForm__DarkOutlinedStar",componentId:"sc-85tcc3-8"})(["padding:3px;border-radius:25px;border-style:solid;border-color:black;border-width:thin;color:white;background-color:black;"]),N=s.ZP.p.withConfig({displayName:"TeamMembersForm__EmailAddrValidHeader",componentId:"sc-85tcc3-9"})(["font-style:italic;font-size:0.95em;"]),_=function(e,t){var n={name:null,members:[]};return e.name||(n.name="Please enter a name"),e.members.forEach(function(r,a){r.idirEmail?l().isEmail(r.idirEmail)?(e.members.filter(function(e){return e.idirEmail===r.idirEmail}).length>1||r.idirEmail===t)&&(n.members[a]="Please use unique email"):n.members[a]="Please enter a valid email":n.members[a]="Please enter an email"}),[n.name||n.members.length>0,n]};t.Z=function(e){var t=e.errors,n=e.members,r=e.setMembers,o=e.allowDelete,s=void 0===o||o,c=e.currentUser,l=void 0===c?null:c,g=function(e,t){var i=v({},n[t]);i.idirEmail=(null==e?void 0:e.label.toLowerCase())||"";var o=(0,a.Z)(n);o[t]=i,r(o)},_=function(e,t){var i=v({},n[e]);i.role=t.target.value;var o=(0,a.Z)(n);o[e]=i,r(o)},O=function(e){r(n.filter(function(t,n){return n!==e}))};return(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{children:["Enter your team member’s government email address and they will be sent an invitation to join the project. Once they accept the invitation, they will have access to your project. Their invitation will expire in"," ",(0,b.jsx)("strong",{children:"2 business days"}),"."]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"strong",children:"Roles:"}),(0,b.jsx)("br",{}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{children:(0,b.jsx)(P,{icon:u.Tab})}),"\xa0\xa0",(0,b.jsx)("span",{className:"underline",style:{verticalAlign:"top"},children:"Admins"}),(0,b.jsxs)("span",{style:{verticalAlign:"top"},children:["\xa0have ",(0,b.jsx)("b",{children:"managing"})," powers"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{children:(0,b.jsx)(k,{icon:u.Tab})}),"\xa0\xa0",(0,b.jsx)("span",{className:"underline",style:{verticalAlign:"top"},children:"Members"}),(0,b.jsxs)("span",{style:{verticalAlign:"top"},children:["\xa0have ",(0,b.jsx)("b",{children:"viewing"})," powers"]})]}),(0,b.jsx)("br",{}),(0,b.jsx)("div",{children:(0,b.jsx)("span",{className:"underline",children:(0,b.jsx)(p.default,{external:!0,href:(0,h.eO)("CSS-App-My-Teams#ive-created-a-team-now-what"),children:"View a detailed breakdown of roles on our wiki page"})})})]}),(0,b.jsxs)(S,{children:[(0,b.jsxs)(j,{children:[(0,b.jsx)("strong",{children:"Member"}),(0,b.jsx)("strong",{children:"Role"}),(0,b.jsx)(w,{})]}),(0,b.jsx)(N,{children:"*Please enter email address tied to an IDIR to allow your user to login"}),l&&(0,b.jsxs)(Z,{children:[(0,b.jsx)(i.default,{value:(null==l?void 0:l.email)||"",readOnly:!0,fullWidth:!0}),(0,b.jsx)(y,{label:"Role",disabled:!0,value:"admin",readOnlyRole:!0,children:(0,b.jsx)("option",{value:"admin",children:"Admin"})})]}),n.map(function(e,n){return(0,b.jsxs)(Z,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Z,{loadOptions:x.c,onChange:function(e){return g(e,n)},noOptionsMessage:function(){return"Start typing email..."},className:"email-select",menuPlacement:"top",maxMenuHeight:120,classNamePrefix:"select-inner",placeholder:"Enter email address"}),t&&t.members&&t.members[n]&&(0,b.jsx)(m.Z,{children:t.members[n]})]}),(0,b.jsxs)(y,{label:"Role",onChange:function(e){return _(n,e)},value:e.role,"data-testid":"user-role",children:[(0,b.jsx)("option",{value:"member",children:"Member"}),(0,b.jsx)("option",{value:"admin",children:"Admin"})]}),n>=0&&s&&(0,b.jsx)(T,{icon:u.uMC,onClick:function(){return O(n)},title:"Delete","data-testid":"delete-user-role"})]},e.id)}),(0,b.jsxs)(C,{onClick:function(){r([].concat((0,a.Z)(n),[{idirEmail:"",role:"member",id:new Date().getTime(),pending:!0}]))},children:[(0,b.jsx)(d.G,{style:{color:"#006fc4"},icon:u.KtF,title:"Add Item","data-testid":"add-user-role"}),(0,b.jsx)("span",{children:"Add another team member"})]})]})]})}},29201:function(e,t,n){"use strict";n(67294);var r=n(11163),a=n(46312),i=n(71893),o=n(85330),s=n(82587),c=n(89666),l=n(85893),d=i.ZP.div.withConfig({displayName:"VerticalLayout__InnerResizable",componentId:"sc-4gcsr8-0"})(["height:100%;overflow:auto;"]);t.Z=function(e){var t=e.tab,n=e.leftPanel,i=e.rightPanel,u=e.showResizable;e.children;var m=(0,r.useRouter)(),p=(0,l.jsxs)(o.mQ,{onChange:function(e){m.replace("/my-dashboard/".concat(e))},activeKey:t,tabBarGutter:30,children:[(0,l.jsx)(o.OK,{tab:"My Projects"},"integrations"),(0,l.jsx)(o.OK,{tab:"My Teams"},"teams")]});return(0,l.jsxs)(s.Z,{rules:c.F,children:[p,void 0===u||u?(0,l.jsx)(a.e,{style:{paddingTop:"2px",borderBottom:"3px solid black"},defaultSize:{width:"100%",height:.4*window.innerHeight},enable:{bottom:!0},handleStyles:{bottom:{bottom:0}},children:(0,l.jsx)(d,{children:n&&n()})}):n&&n(),(0,l.jsx)("br",{}),i&&i()]})}},8164:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ey}});var r=n(16835),a=n(50029),i=n(64687),o=n.n(i),s=n(67294),c=n(29201),l=n(59499),d=n(11163),u=n(71893),m=n(85330),p=n(84403),h=n(35611),f=n(48349),x=n(62026),b=n(3528),g=n(40291),v=n(4680),j=n(76457),y=n(99603),w=n(59417),C=n(96052),S=n(39247),Z=n(85893),T=(0,u.ZP)(y.G).withConfig({displayName:"WarningModalContents__RedIcon",componentId:"sc-1qnw94-0"})(["color:#ff0303;"]),k=u.ZP.div.withConfig({displayName:"WarningModalContents__ModalContentContainer",componentId:"sc-1qnw94-1"})(["display:grid;grid-template-columns:1fr 6fr;"]),P=function(e){var t=e.title,n=e.content,r=e.note;return(0,Z.jsxs)(k,{children:[(0,Z.jsx)(T,{icon:w.RLE,size:"3x"}),(0,Z.jsxs)("div",{children:[t&&(0,Z.jsx)("strong",{children:t}),n&&(0,Z.jsx)("p",{children:n}),r&&(0,Z.jsx)("i",{children:r})]})]})},N=n(52583),_=n(64735),O=n(42894),A=n(52008),I=u.ZP.div.withConfig({displayName:"ServiceAccountActionButtons__ActionButtonContainer",componentId:"sc-4fomyx-0"})(["height:100%;display:flex;justify-content:center;align-items:center;padding-right:15px;& > *{margin-left:15px;}"]),E=(0,u.ZP)(y.G).withConfig({displayName:"ServiceAccountActionButtons__ActionButton",componentId:"sc-4fomyx-1"})(["cursor:",";"," ",";"],function(e){return e.disabled?"not-allowed":"pointer"},function(e){return e.disabled?"color: #CACACA;":"color: inherit; &:hover { color: ".concat(e.activeColor||"#000","; }")},function(e){return e.isUnread?"color: ".concat(A.Uo):""});function M(e){var t=e.copyOrDownloadAction,n=e.showDeleteModal,r=e.showUpdateModal,a=e.actionsDisabled;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(I,{children:[(0,Z.jsx)(E,{icon:w.kZ_,role:"button","aria-label":"copy",onClick:function(){return t(!1)},title:"Copy to clipboard",size:"lg",disabled:a}),(0,Z.jsx)(E,{icon:w.q7m,role:"button","aria-label":"download",onClick:function(){return t(!0)},title:"Download",size:"lg",disabled:a}),(0,Z.jsx)(E,{icon:w.lUd,role:"button","aria-label":"download",onClick:r,title:"Update secret",size:"lg",disabled:a}),(0,Z.jsx)(E,{icon:w.$aW,role:"button","aria-label":"delete",onClick:n,title:"Delete",size:"lg",disabled:a})]})})}u.ZP.div.withConfig({displayName:"ServiceAccountActionButtons__VerticalLine",componentId:"sc-4fomyx-2"})(["height:40px;border-right:2px solid #e3e3e3;"]);var D=n(90559),R=u.ZP.td.withConfig({displayName:"ServiceAccountsList__RightFloatButtons",componentId:"sc-yh23py-0"})(["float:right;"]);(0,u.ZP)(y.G).withConfig({displayName:"ServiceAccountsList__RedIcon",componentId:"sc-yh23py-1"})(["color:#000000;"]);var F=u.ZP.div.withConfig({displayName:"ServiceAccountsList__StyledP",componentId:"sc-yh23py-2"})(["margin-bottom:5px;display:flex;align-items:center;"]);function B(){return(0,Z.jsx)("span",{style:{float:"right",paddingRight:"2.7em"},children:"Actions"})}u.ZP.div.withConfig({displayName:"ServiceAccountsList__ModalContentContainer",componentId:"sc-yh23py-3"})(["display:grid;grid-template-columns:1fr 6fr;"]);var U=(0,v.hU)(function(e){var t,n,i,c=e.team,l=e.selectedServiceAccount,d=e.setSelectedServiceAccount,u=e.teamServiceAccounts,m=e.getTeamServiceAccounts,h=e.alert,x=(0,s.useState)(!1),b=x[0],v=x[1],j=(0,s.useState)(!1),y=j[0],w=j[1],C=(0,s.useState)(!1),S=C[0],T=C[1],k=function(e){return e&&(null==e?void 0:e.status)!=="applied"&&!(null!=e&&e.archived)},N=function(){k(l)||w(!0)},_=(t=(0,a.Z)(o().mark(function e(){var t,n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.yN)(c.id,null==l?void 0:l.id);case 2:if(t=e.sent,(n=(0,r.Z)(t,2))[0],!n[1]){e.next=9;break}return h.show({variant:"danger",content:"Failed to delete service account, please try again."}),e.abrupt("return");case 9:m(c.id);case 10:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),A=function(){k(l)||v(!0)},I=(n=(0,a.Z)(o().mark(function e(){var t,n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.Gc)(c.id,null==l?void 0:l.id);case 2:t=e.sent,(n=(0,r.Z)(t,2))[0],n[1]&&h.show({variant:"danger",content:"Failed to update secret, please try again."});case 7:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),E=(i=(0,a.Z)(o().mark(function e(t){var n,a,i,s,d,u;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!k(l)){e.next=2;break}return e.abrupt("return");case 2:return T(!0),e.next=5,(0,g.vM)(c.id,null==l?void 0:l.id);case 5:if(a=e.sent,s=(i=(0,r.Z)(a,2))[0],d=i[1],T(!1),!d){e.next=13;break}return h.show({variant:"danger",content:"Failed to ".concat(t?"download":"copy",", please try again.")}),e.abrupt("return");case 13:s=s||{},u={tokenUrl:"".concat(s["token-url"]),clientId:"".concat(s.resource),clientSecret:"".concat(null===(n=s.credentials)||void 0===n?void 0:n.secret)},t?(0,D.Di)((0,D.ON)(u),"".concat(null==l?void 0:l.clientId,".json")):((0,D.TE)((0,D.ON)(u)),h.show({variant:"success",content:"Copied to clipboard",fadeOut:3e3}));case 16:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)});return(0,Z.jsxs)(Z.Fragment,{children:[S?(0,Z.jsx)(O.rj,{color:"#000",height:45,width:45,wrapperClass:"d-block",visible:!0}):(0,Z.jsx)(p.Z,{headers:[{accessor:"id",Header:"API Account ID"},{accessor:"actions",Header:(0,Z.jsx)(B,{}),disableSortBy:!0}],data:u.map(function(e){return{id:e.id,actions:(0,Z.jsx)(R,{children:(0,Z.jsx)(M,{copyOrDownloadAction:E,showUpdateModal:A,showDeleteModal:N,actionsDisabled:!!k(e)})})}}),colfilters:[],activateRow:function(e){var t=e.cells[0].row.original.id;u.forEach(function(e){e.id==t&&d(e)})},rowSelectorKey:"id"}),(0,Z.jsx)(f.Z,{id:"update-service-account-secret-modal",title:"Request a new secret for CSS API Account",onConfirm:I,openModal:b,handleClose:function(){return v(!1)},content:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(F,{children:(0,Z.jsx)("strong",{children:"You are about to request a new secret for CSS API Account"})}),(0,Z.jsx)("br",{}),(0,Z.jsx)("p",{children:"Once the new secret gets generated, your previous secret will no longer be valid for any applications using it."}),(0,Z.jsx)("p",{children:"This means any application using CSS API through this account should be configured with the new secret."})]}),buttonStyle:"primary",confirmText:"Confirm",closable:!0}),(0,Z.jsx)(f.Z,{id:"delete-service-account-modal",title:"Delete CSS API Account",icon:null,onConfirm:_,openModal:y,handleClose:function(){return w(!1)},content:(0,Z.jsx)(P,{title:"Are you sure that you want to delete this CSS API Account?",content:"Once you delete this CSS PI Account, this action cannot be undone."}),buttonStyle:"danger",confirmText:"Delete",closable:!0})]})}),z=n(21885),H=n(9206),L=n(10662),G=n(20827);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var K=u.ZP.div.withConfig({displayName:"TeamInfoTabs__TabWrapper",componentId:"sc-4tt29d-0"})(["padding-left:1rem;",""],function(e){return"\n  margin-top: ".concat(e.marginTop||"0",";\n  margin-bottom: ").concat(e.marginBottom||"0",";\n  margin-left: ").concat(e.marginLeft||"0",";\n  margin-right: ").concat(e.marginRight||"0",";\n  ")}),Y=u.ZP.td.withConfig({displayName:"TeamInfoTabs__RightFloat",componentId:"sc-4tt29d-1"})(["float:right;"]),W=u.ZP.td.withConfig({displayName:"TeamInfoTabs__CenteredTD",componentId:"sc-4tt29d-2"})(["text-align:left !important;"]),V=u.ZP.div.withConfig({displayName:"TeamInfoTabs__TopMargin",componentId:"sc-4tt29d-3"})(["height:var(--field-top-spacing);"]);function X(){return(0,Z.jsxs)("span",{children:["Role\xa0",(0,Z.jsx)(N.Z,{title:"",content:'Admin: can manage integrations <span class="strong">and</span> teams. <br> Members: can <span class="strong">only</span> manage integrations.',hide:200})]})}function $(){return(0,Z.jsx)("span",{style:{float:"right",paddingRight:"1.8em"},children:"Actions"})}function Q(){return(0,Z.jsx)("span",{style:{float:"right",paddingRight:"0.4em"},children:"Actions"})}var J={idirEmail:"",role:"member",pending:!0},ee=function(e){var t=e.onConfirmDelete,n=e.type,r=e.openModal,a=e.handleClose,i={confirmText:"Delete",buttonStyle:"danger",openModal:r,handleClose:void 0===a?function(){}:a},o="",s="";switch(n){case"allow":o="Once they are deleted, they will no longer have access to the team's integrations.",s="Are you sure that you want to delete this team member?",i.onConfirm=t;break;case"notAllowed":o="Before you delete the last team admin, you must assign a new admin.",i.confirmText="Okay",i.buttonStyle="primary"}return(0,Z.jsx)(f.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:"delete-member-modal",title:"Delete Team Member",icon:null,content:(0,Z.jsx)(P,{content:o,title:s}),closable:!0},i))},et=(0,u.ZP)(y.G).withConfig({displayName:"TeamInfoTabs__ButtonIcon",componentId:"sc-4tt29d-4"})(["margin-right:10px;&:hover{cursor:pointer;}"]),en=function(e){var t=e.status;if(!t)return null;var n=w.RLE,r="black";return"draft"===t?(n=w.Xcf,r="#1a5a96"):"submitted"===t?(n=w.SZw,r="#fcba19"):["prFailed","applyFailed","planFailed"].includes(t)?(n=w.nYk,r="#ff0303"):"applied"===t&&(r="#2e8540",n=w.f8k),(0,Z.jsx)(y.G,{icon:n,title:t,style:{color:r}})},er=function(e){var t,n,r,a=e.pending,i=e.invitationSendTime;if(!i)return null;var o=new Date().getTime()-new Date(i).getTime();return a&&o/864e5>2?(t=w.RLE,n="#ff0303",r="Invitation Expired"):a?(t=w.SZw,n="#fcba19",r="Invitation Sent"):(n="#2e8540",t=w.f8k,r="Active Member"),(0,Z.jsx)(y.G,{icon:t,title:r,style:{color:n}})};u.ZP.div.withConfig({displayName:"TeamInfoTabs__Requester",componentId:"sc-4tt29d-5"})(["font-size:18px;font-weight:bold;color:#000;margin-bottom:1rem;"]),u.ZP.div.withConfig({displayName:"TeamInfoTabs__SubTitle",componentId:"sc-4tt29d-6"})(["font-size:18px;font-weight:bold;color:#000;border-bottom:1px solid gray;"]);var ea=u.ZP.div.withConfig({displayName:"TeamInfoTabs__AlignCenter",componentId:"sc-4tt29d-7"})(["text-align:center;"]),ei=(0,v.hU)(function(e){var t,n,i,c,l,u,v,y=e.alert,T=e.currentUser,k=e.team,P=e.loadTeams,N=(0,d.useRouter)(),A=(0,s.useState)([]),I=A[0],E=A[1],M=(0,s.useState)([]),D=M[0],R=M[1],F=(0,s.useState)([]),B=F[0],q=F[1],ei=(0,s.useState)(null),eo=ei[0],es=ei[1],ec=(0,s.useState)(null),el=ec[0],ed=ec[1],eu=(0,s.useState)(null),em=eu[0],ep=eu[1],eh=(0,s.useState)([J]),ef=eh[0],ex=eh[1],eb=(0,s.useState)(),eg=eb[0],ev=eb[1],ej=(0,s.useState)(!1),ey=ej[0],ew=ej[1],eC=(0,s.useState)(),eS=eC[0],eZ=eC[1],eT=(0,s.useState)("allow"),ek=eT[0],eP=eT[1],eN=(0,s.useContext)(L.SurveyContext),e_=(0,s.useState)(!1),eO=e_[0],eA=e_[1],eI=(0,s.useState)(!1),eE=eI[0],eM=eI[1],eD=(t=(0,a.Z)(o().mark(function e(t){var n,a,i,s,c,l,d,u,m,p;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ew(!0),e.next=3,Promise.all([(0,g.YY)(t),(0,b.H0)(t)]);case 3:return n=e.sent,i=(a=(0,r.Z)(n,2))[0],s=a[1],l=(c=(0,r.Z)(i,2))[0],d=c[1],m=(u=(0,r.Z)(s,2))[0],p=u[1],d||p?(E([]),ep(null),R([])):(E(l),ep(l.find(function(e){return e.idirEmail===T.email})),R(m||[])),e.next=12,eR(t);case 12:ew(!1);case 13:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),eR=(n=(0,a.Z)(o().mark(function e(t){var n,a,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ew(!0),"admin"!==k.role){e.next=11;break}return e.next=4,(0,g.Sx)(t);case 4:n=e.sent,i=(a=(0,r.Z)(n,2))[0],a[1]?q([]):(q(i),es(i&&i.length>0?i[0]:null)),e.next=13;break;case 11:q([]),es(null);case 13:ew(!1);case 14:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});(0,s.useEffect)(function(){ed(null),eD(k.id)},[k.id]),(0,s.useEffect)(function(){eo&&"applied"!==eo.status&&!eo.archived&&ed(eo)},[eo]),(0,s.useEffect)(function(){return el&&"applied"!==el.status?(clearInterval(v),v=setInterval((0,a.Z)(o().mark(function e(){var t,n,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.ZT)(k.id,el.id);case 2:t=e.sent,a=(n=(0,r.Z)(t,2))[0],n[1]?clearInterval(v):ed(a);case 7:case"end":return e.stop()}},e)})),5e3)):(eR(k.id),ed(null)),function(){v&&clearInterval(v)}},[el]);var eF=function(e){e&&((0,C.Wv)(I,e)?eP("allow"):eP("notAllowed"),eZ(e),eM(!0))},eB=(i=(0,a.Z)(o().mark(function e(){var t,n,a,i,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,x.p)({name:k.name,members:ef},T.email),a=(n=(0,r.Z)(t,2))[0],i=n[1],!a){e.next=4;break}return ev(i),e.abrupt("return");case 4:return e.next=6,(0,g.yG)({members:ef,id:k.id});case 6:if(s=e.sent,!(0,r.Z)(s,2)[1]){e.next=13;break}y.show({variant:"danger",fadeOut:1e4,closable:!0,content:G.sY.ADD_TEAM_MEMBERS_ERROR}),e.next=18;break;case 13:return e.next=15,eD(k.id);case 15:ex([J]),window.location.hash="",y.show({variant:"success",fadeOut:1e4,closable:!0,content:G.sY.ADD_TEAM_MEMBERS_SUCCESS});case 18:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)}),eU=(c=(0,a.Z)(o().mark(function e(){var t,n,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!eS||!k.id)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,g.MH)(Number(eS),k.id);case 4:t=e.sent,(0,r.Z)(t,2)[1]?y.show({variant:"danger",fadeOut:1e4,closable:!0,content:G.sY.DELETE_TEAM_MEMBER_ERROR}):(E(I.filter(function(e){return e.id!==eS})),a=null===(n=I.find(function(e){return e.id===eS}))||void 0===n?void 0:n.idirEmail,y.show({variant:"success",fadeOut:1e4,closable:!0,content:"".concat(a," has successfully been deleted.")}));case 8:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)}),ez=function(e){N.push({pathname:"/my-dashboard/integrations",query:{integr:e}})},eH=(l=(0,a.Z)(o().mark(function e(t){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,g.rU)(t,k.id);case 4:n=e.sent,(0,r.Z)(n,2)[1]?y.show({variant:"danger",fadeOut:1e4,closable:!0,content:"Failed to resend invitation."}):y.show({variant:"success",fadeOut:1e4,closable:!0,content:"Sent new invitation for team member ".concat(t.idirEmail)});case 8:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),eL=(u=(0,a.Z)(o().mark(function e(t,n){var a,i,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.zZ)(k.id,t,{role:n});case 2:if(a=e.sent,s=(i=(0,r.Z)(a,2))[0],!i[1]){e.next=9;break}return y.show({variant:"danger",content:"Failed to update user role. Please try again."}),e.abrupt("return");case 9:E(I.map(function(e){return e.id===t?s:e})),y.show({variant:"success",fadeOut:1e4,closable:!0,content:"Member role updated successfully"});case 12:case"end":return e.stop()}},e)})),function(e,t){return u.apply(this,arguments)});if(!k||!em)return null;var eG="admin"===em.role;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h2",{children:"Team Details"}),(0,Z.jsxs)(m.mQ,{defaultActiveKey:"members",tabBarGutter:30,children:[(0,Z.jsx)(m.OK,{tab:"Members",children:(0,Z.jsxs)(K,{children:[eG?(0,Z.jsx)("button",{className:"primary",style:{margin:"1rem 0"},onClick:function(){return eA(!0)},"data-testid":"add-new-team-member",children:"+ Add New Team Members"}):(0,Z.jsx)("br",{}),(0,Z.jsx)(j.Z,{type:"text",rows:7,ready:!ey,style:{marginTop:"20px"},children:(0,Z.jsx)(p.Z,{"data-testid":"team-members-table",variant:"medium",headers:[{accessor:"status",Header:"Invite Status",disableSortBy:!0},{accessor:"idirEmail",Header:"Email"},{accessor:"role",Header:(0,Z.jsx)(X,{}),disableSortBy:!0},{accessor:"actions",Header:(0,Z.jsx)(Q,{}),disableSortBy:!0}],data:I.map(function(e){var t=eG&&em.id!==e.id;return{status:(0,Z.jsx)(er,{pending:e.pending,invitationSendTime:e.createdAt}),idirEmail:e.idirEmail,role:t&&!e.pending?(0,Z.jsxs)(h.default,{onChange:function(t){return eL(e.id,t.target.value)},value:e.role,children:[(0,Z.jsx)("option",{value:"member",children:"Member"}),(0,Z.jsx)("option",{value:"admin",children:"Admin"})]}):(0,C.kC)(e.role),actions:(0,Z.jsxs)(Y,{children:[t&&e.pending&&(0,Z.jsx)(et,{icon:w.zBy,size:"lg",onClick:function(){return eH(e)},title:"Resend Invitation",style:{marginRight:"6px"},"data-testid":"resend-invitation"}),t&&(0,Z.jsx)(et,{icon:w.$aW,onClick:function(){return eF(e.id)},size:"lg",title:"Delete User",style:{marginRight:"16px"},"data-testid":"delete-member"})]})}}),colfilters:[],rowSelectorKey:"status",readOnly:!0})})]})},"members"),(0,Z.jsx)(m.OK,{tab:"Integrations",children:(0,Z.jsx)(K,{marginTop:"20px",children:(0,Z.jsx)(j.Z,{type:"text",rows:7,ready:!ey,style:{marginTop:"20px"},children:(0,Z.jsx)(p.Z,{variant:"medium",headers:[{accessor:"status",Header:"Status",disableSortBy:!0},{accessor:"id",Header:"Request ID"},{accessor:"projectName",Header:"Project Name"},{accessor:"actions",Header:(0,Z.jsx)($,{}),disableSortBy:!0}],data:(null==D?void 0:D.length)>0?null==D?void 0:D.map(function(e){return{status:(0,Z.jsx)(en,{status:null==e?void 0:e.status}),id:e.id,projectName:e.projectName,actions:(0,Z.jsx)(Y,{children:(0,Z.jsx)(S.ZP,{request:e,onDelete:function(){P(),eD(null==k?void 0:k.id)},children:(0,Z.jsx)(S.Kk,{icon:w.Mdf,"aria-label":"view",onClick:function(){return ez(e.id)},size:"lg"})})})}}):[],readOnly:!0,colfilters:[],rowSelectorKey:"status",noDataFoundElement:(0,Z.jsxs)(W,{colSpan:5,children:[(0,Z.jsx)("br",{}),"There are no integrations for this team yet.",(0,Z.jsx)("br",{}),(0,Z.jsx)("br",{}),"To add this team to an ",(0,Z.jsx)("span",{className:"strong",children:"existing integration"}),":",(0,Z.jsx)("span",{className:"line-height-200"}),(0,Z.jsxs)("ol",{children:[(0,Z.jsxs)("li",{children:["Go to your"," ",(0,Z.jsx)("span",{className:"text-blue",children:(0,Z.jsx)("span",{className:"strong",children:"Projects"})})," ","tab"]}),(0,Z.jsx)("li",{children:"Select the “pencil” icon to edit the integration"}),(0,Z.jsx)("li",{children:"Select this team from the “Project Team” drop down"})]}),(0,Z.jsx)("br",{}),"To add this team to a ",(0,Z.jsx)("span",{className:"strong",children:"new integration"}),":",(0,Z.jsx)("span",{className:"line-height-200"}),(0,Z.jsxs)("ol",{children:[(0,Z.jsxs)("li",{children:["Go to your"," ",(0,Z.jsx)("span",{className:"text-blue",children:(0,Z.jsx)("span",{className:"strong",children:"Projects"})})," ","tab"]}),(0,Z.jsx)("li",{children:"Select “+ Request SSO Integration”"}),(0,Z.jsx)("li",{children:"Select “Yes” to allow multiple team members to manage the integration"}),(0,Z.jsx)("li",{children:"Select this team from the “Project Team” drop down"})]})]})})})})},"integrations"),eG&&(0,Z.jsx)(m.OK,{tab:"CSS API Account",children:(0,Z.jsx)(K,{marginTop:"10px",children:ey?(0,Z.jsxs)(ea,{children:[(0,Z.jsx)(V,{}),(0,Z.jsx)(O.rj,{color:"#000",height:45,width:45,wrapperClass:"d-block",visible:!0})]}):(0,Z.jsxs)(_.ZP,{cols:10,children:[(0,Z.jsxs)(_.ZP.Row,{collapse:"1100",gutter:[15,2],children:[(0,Z.jsx)(_.ZP.Col,{span:4,children:B.length>0?(0,Z.jsx)(U,{team:k,selectedServiceAccount:eo,setSelectedServiceAccount:es,teamServiceAccounts:B,getTeamServiceAccounts:eR}):(0,Z.jsx)("button",{style:{marginBottom:10},onClick:(0,a.Z)(o().mark(function e(){var t,n,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ew(!0),e.next=3,(0,g.rl)(k.id);case 3:t=e.sent,(n=(0,r.Z)(t,2))[0],(a=n[1])?(ew(!1),y.show({variant:"danger",fadeOut:1e4,closable:!0,content:a})):(null==eN||eN.setShowSurvey(!0,"cssApiRequest"),eR(k.id));case 8:case"end":return e.stop()}},e)})),className:"primary",children:"+ Request CSS API Account"})}),(0,Z.jsx)(_.ZP.Col,{span:6,children:el&&(0,Z.jsx)("div",{style:{display:"inline-flex",margin:"20px 0 20px 0",background:"#FFCCCB",borderRadius:"5px"},children:(0,Z.jsx)("div",{style:{padding:5},children:(0,Z.jsxs)(z.B,{children:["Your request for an API account could not be completed. Please"," ",(0,Z.jsx)(H.rU,{external:!0,href:"mailto:bcgov.sso@gov.bc.ca",children:"contact the Pathfinder SSO Team"})]})})})})]}),B.length>0&&(0,Z.jsx)(_.ZP.Row,{children:(0,Z.jsxs)(z.$,{children:["For more information on how to use the CSS API Account with your integrations,"," ",(0,Z.jsx)(H.rU,{href:"".concat(G.UN,"/integrating-your-application/css-app-api"),external:!0,children:"click to learn more on our wiki page"}),"."]})})]})})},"service-accounts")]}),(0,Z.jsx)(f.Z,{id:"add-member-modal",openModal:eO,handleClose:function(){ev(null),ex([J]),eA(!1)},title:"Add a New Team Member",icon:null,content:(0,Z.jsx)(x.Z,{members:ef,setMembers:ex,allowDelete:eG,errors:eg,currentUser:T}),onConfirm:eB,buttonStyle:"primary",skipCloseOnConfirm:!0,closable:!0}),(0,Z.jsx)(ee,{onConfirmDelete:eU,type:ek,openModal:eE,handleClose:function(){return eM(!1)}})]})}),eo=n(16481),es=n(11915),ec=n(51022),el=u.ZP.div.withConfig({displayName:"EditTeamNameForm__ButtonsContainer",componentId:"sc-1obtlr1-0"})(["display:flex;justify-content:space-between;margin-top:20px;& button{min-width:180px;}"]);function ed(e){var t,n=e.onSubmit,i=e.teamId,c=e.initialTeamName,l=e.setOpenEditTeamModal,d=(0,s.useState)(""),u=d[0],m=d[1],p=(0,s.useState)(!1),h=p[0],f=p[1],x=(0,s.useState)(),b=x[0],v=x[1],j=(0,s.useState)(!1),y=j[0],w=j[1];(0,s.useEffect)(function(){m(c)},[c]);var C=function(e){var t={members:[]},n=!1;return(e.name.trim()||(t.name="Please enter a name",n=!0),n)?t:(v(void 0),null)},S=(t=(0,a.Z)(o().mark(function e(){var t,a,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!1),!(a=C(t={name:u.trim(),id:i}))){e.next=5;break}return e.abrupt("return",v(a));case 5:return f(!0),e.next=8,(0,g.w2)(t);case 8:if(s=e.sent,!(0,r.Z)(s,2)[1]){e.next=15;break}return w(!0),f(!1),e.abrupt("return");case 15:return e.next=17,n();case 17:f(!1),l(!1);case 19:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(es.default,{label:"New Team Name",onChange:function(e){m(e.target.value)},value:u,"data-testid":"edit-name"}),b&&b.name&&(0,Z.jsx)(ec.Z,{children:null==b?void 0:b.name}),y&&(0,Z.jsx)(ec.Z,{children:"Failed to update team name"}),(0,Z.jsx)("br",{}),(0,Z.jsxs)(el,{children:[(0,Z.jsx)("button",{className:"secondary",onClick:function(){m(c),l(!1)},style:{marginRight:"20px"},"data-testid":"cancel-edit-name",children:"Cancel"}),(0,Z.jsx)("button",{className:"primary",type:"button",onClick:S,"data-testid":"save-edit-name",children:h?(0,Z.jsx)(O.rj,{color:"#FFF",height:18,width:50,visible:h}):"Save"})]})]})}var eu=n(77212),em=n(86552),ep=n(34798),eh=n.n(ep);function ef(e){var t=e.team,n=e.showEditTeamNameModal,r=e.showDeleteModal,a=(0,em.te)(t),i=(0,em.VV)(t);return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)(S.c4,{children:[(0,Z.jsx)(S.Kk,{disabled:!i,icon:w.Xcf,role:"button","aria-label":"edit",title:"Edit",size:"lg",onClick:function(){return i?n(t):eh()},"data-testid":"edit-team-button"}),(0,Z.jsx)(S.Kk,{disabled:!a,icon:w.$aW,role:"button","aria-label":"delete",title:"Delete",size:"lg",onClick:function(){return a?r(t):eh()},style:{marginLeft:"7px"},"data-testid":"delete-team-button"})]})})}var ex=n(70928),eb=u.ZP.tr.withConfig({displayName:"TeamList__RightFloatButtons",componentId:"sc-13fd1wv-0"})(["float:right;padding-right:0.5em;"]);function eg(){return(0,Z.jsx)("span",{style:{float:"right",paddingRight:"1em"},children:"Actions"})}var ev=function(e){var t=e.handleNewTeamClick;return(0,Z.jsx)("button",{onClick:t,className:"callout",children:"+ Create a New Team"})},ej=(0,v.hU)(function(e){var t,n,i,c,l=e.currentUser,d=e.setTeam,u=e.loading,m=e.teams,h=e.loadTeams,x=e.hasError,b=e.alert,v=(0,s.useState)(null),j=v[0],y=v[1],w=(0,s.useState)(void 0),C=w[0],S=w[1],T=(0,s.useState)([]),k=T[0],N=T[1],_=(0,s.useState)(!1),O=_[0],A=_[1],I=(0,s.useState)(!1),E=I[0],M=I[1],D=(0,s.useState)(!1),R=D[0],F=D[1],B=(0,s.useState)(!1),U=B[0],z=B[1],H=(0,s.useState)(!1),L=H[0],q=H[1],K=(t=(0,a.Z)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y(t),S(null==t?void 0:t.id),d(t),!t){e.next=7;break}return e.next=6,Y(t.id);case 6:q(j&&0===Number(j.integrationCount)||!1);case 7:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),Y=(n=(0,a.Z)(o().mark(function e(t){var n,a,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((null==j?void 0:j.role)!=="admin"){e.next=13;break}return e.next=3,(0,g.Sx)(t);case 3:if(n=e.sent,i=(a=(0,r.Z)(n,2))[0],!a[1]){e.next=10;break}return b.show({variant:"danger",content:"Failed to load service accounts for team. Please refresh."}),e.abrupt("return");case 10:N(i),e.next=14;break;case 13:N([]);case 14:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});(0,s.useEffect)(function(){(null==m?void 0:m.length)>0?C&&m.find(function(e){return e.id===C})||K(m[0]):K(null)},[m]);var W=(i=(0,a.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M(!0));case 1:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)}),V=function(e){A(!1),K(e),C===e.id&&z(!0)},X=function(e){K(e),F(!0)},$=x?(0,Z.jsx)(ex.q1,{}):m&&(null==m?void 0:m.length)!==0?(0,Z.jsx)(p.Z,{headers:[{accessor:"name",Header:"Team Name"},{accessor:"actions",Header:(0,Z.jsx)(eg,{}),disableSortBy:!0}],data:m&&m.map(function(e){return{teamId:e.id,name:e.name,actions:(0,Z.jsx)(eb,{children:(0,Z.jsx)(ef,{team:e,showEditTeamNameModal:X,showDeleteModal:V})})}}),activateRow:function(e){var t=e.cells[0].row.original.teamId;m.forEach(function(e){e.id==t&&K(e)})},rowSelectorKey:"teamId",activeSelector:C,colfilters:[]}):(0,Z.jsx)(ex.Vs,{message:"You have not been added to any teams yet."}),Q=(c=(0,a.Z)(o().mark(function e(){var t,n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!1),L){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,g.fC)(C);case 5:t=e.sent,(n=(0,r.Z)(t,2))[0],n[1]?A(!0):h();case 10:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)});return u?(0,Z.jsx)(eu.Z,{}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("br",{}),(0,Z.jsx)(ev,{handleNewTeamClick:W}),(0,Z.jsx)("br",{}),(0,Z.jsx)("br",{}),$,(0,Z.jsx)(f.Z,{id:G.zw,title:"Create a New Team",icon:null,onConfirm:function(){return console.log("confirm")},content:(0,Z.jsx)(eo.Z,{onSubmit:h,currentUser:l,setOpenCreateTeamModal:M}),showCancel:!1,showConfirm:!1,openModal:E,handleClose:function(){return M(!1)},closable:!0}),(0,Z.jsx)(f.Z,{id:G.HW,title:"Edit Team Name",icon:null,onConfirm:function(){return console.log("confirm")},content:(0,Z.jsx)(ed,{onSubmit:h,teamId:C,initialTeamName:(null==j?void 0:j.name)||"",setOpenEditTeamModal:F}),showCancel:!1,showConfirm:!1,openModal:R,handleClose:function(){return F(!1)},closable:!0}),(0,Z.jsx)(f.Z,{id:G.aS,title:"Delete team",icon:null,onConfirm:Q,content:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(P,{title:"Are you sure that you want to delete this team?",content:L?"Once you delete this team, this action cannot be undone.":"Before you delete this team, you will need to delete the integration(s) the team is responsible for.",note:L&&k.length>0?"*By deleting this team, you are also deleting the CSS App API Account that belongs to this team.":""}),O&&(0,Z.jsx)(ec.Z,{children:"Failed to delete. Please try again"})]}),buttonStyle:"danger",confirmText:L?"Delete Team":"Okay",openModal:U,handleClose:function(){return z(!1)},closable:!0})]})}),ey=function(e){var t,n=e.session,i=(0,s.useState)(!0),l=i[0],d=i[1],u=(0,s.useState)(!1),m=u[0],p=u[1],h=(0,s.useState)(null),f=h[0],x=h[1],b=(0,s.useState)([]),v=b[0],j=b[1],y=(t=(0,a.Z)(o().mark(function e(){var t,n,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,(0,g.Dc)();case 3:t=e.sent,a=(n=(0,r.Z)(t,2))[0],p(!!n[1]),j(a||[]),d(!1);case 10:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,s.useEffect)(function(){y()},[]),(0,Z.jsx)(c.Z,{tab:"teams",leftPanel:function(){return(0,Z.jsx)(ej,{currentUser:n,setTeam:x,loading:l,teams:v,loadTeams:y,hasError:m})},rightPanel:function(){return f&&(0,Z.jsx)(ei,{team:f,currentUser:n,loadTeams:y})}})}},90559:function(e,t,n){"use strict";n.d(t,{Di:function(){return i},ON:function(){return r},TE:function(){return a}});var r=function(e){return JSON.stringify(e,void 0,2)},a=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{return document.execCommand("copy"),document.body.removeChild(t),!0}catch(e){return document.body.removeChild(t),!1}},i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json",r=window.URL.createObjectURL(new Blob([e],{type:n})),a=document.createElement("a");a.href=r,a.setAttribute("download",t),document.body.appendChild(a),a.click(),document.body.removeChild(a)}},69137:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-dashboard/teams",function(){return n(8164)}])}},function(e){e.O(0,[302,930,830,528,601,680,888,774,179],function(){return e(e.s=69137)}),_N_E=e.O()}]);