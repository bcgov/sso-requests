(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[950],{83746:function(e,n,t){"use strict";t.d(n,{FE:function(){return v}});var r=t(85893),i=t(27261),o=t(67294),a=t(11163),s=t(64735),c=t(42745),u=t(56841),l=t(20374),d=t(40602),f=t(83727),p=t(81235);function h(){var e=(0,i.Z)(["\n  padding-top: 2px;\n"]);return h=function(){return e},e}function x(){var e=(0,i.Z)(["\n  overflow: auto;\n"]);return x=function(){return e},e}var v=[{maxWidth:900,marginTop:0,marginLeft:10,marginRight:10,marginUnit:"px",horizontalAlign:"none"},{width:480,marginTop:0,marginLeft:2.5,marginRight:2.5,marginUnit:"rem",horizontalAlign:"none"}],m=c.default.div(x()),j=c.default.div(h()),g=o.createContext({});n.ZP=function(e){var n,t=e.tab,i=e.leftPanel,c=e.rightPanel,h=e.children,x=(0,a.useRouter)(),b=(0,o.useReducer)(f.Z,f.E),y=b[0],w=b[1],Z=(0,o.useContext)(p.SessionContext)||{},k=Z.user,P=Z.enableGold,C=null===k||void 0===k||null===(n=k.integrations)||void 0===n?void 0:n.find((function(e){return"silver"===e.serviceType})),S=(0,o.useMemo)((function(){return{state:y,dispatch:w}}),[y,w]),I=(0,r.jsxs)(l.H,{onSelect:function(e){x.replace("/my-dashboard/".concat(e))},activeKey:t,children:[(0,r.jsx)(u.Z,{eventKey:"integrations",title:"My Projects"}),(0,r.jsx)(u.Z,{eventKey:"teams",title:"My Teams"}),P&&C&&(0,r.jsx)(u.Z,{eventKey:"s2g",title:"*New - Silver to Gold Upgrade"})]});return(0,r.jsx)(d.Z,{rules:v,children:(0,r.jsx)(g.Provider,{value:S,children:h?(0,r.jsxs)(j,{children:[I,h]}):(0,r.jsx)(s.ZP,{cols:10,children:(0,r.jsxs)(s.ZP.Row,{collapse:"1100",gutter:[15,2],children:[(0,r.jsx)(s.ZP.Col,{span:6,children:(0,r.jsxs)(m,{children:[I,i&&i(y,w)]})}),(0,r.jsx)(s.ZP.Col,{span:4,children:c&&c(y,w)})]})})})})}},84645:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Rt}});var r=t(85893),i=t(67294),o=t(27261),a=t(42745),s=t(56841),c=t(26265),u=t(16530),l=t(69829);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=(0,u._v)({shared:{container:"\n      line-height: 1.5em;\n      border: 1px solid transparent;\n      border-radius: 0.2222em;\n      padding: 1em 0.5em;\n\n      & a {\n        text-decoration: underline;\n      }\n\n      & .pg-notification-content>svg {\n        overflow: initial;\n      }\n    ",close:"\n      cursor: pointer !important;\n      text-align: center;\n      text-decoration: none;\n      border-radius: 0.2222em;\n      padding: 0.4em 0.5em;\n      margin-right: 20px;\n    "},size:{small:{container:"\n        font-size: 0.8rem;\n      "},medium:{container:"\n        font-size: 1rem;\n      "},large:{container:"\n        font-size: 1.2rem;\n      "}},variant:{success:{container:"\n        background-color: #dff0d8;\n        border-color: #d6e9c6;\n        color: #2d4821;\n\n        & a {\n          color: #2b542c;\n        }\n      ",content:"\n        color: #2d4821;\n      ",close:"\n        color: #2d4821;\n        border: 1px solid #2d4821;\n\n        &:hover {\n          background: #2d4821;\n          color: #fff;\n        }\n      ",group:"\n        color: #2d4821;\n      "},info:{container:"\n        background-color: #d9eaf7;\n        border-color: #afd3ee;\n        color: #313132;\n\n        & a {\n          color: #1a5a96;\n        }\n      ",content:"\n        color: #313132;\n      ",close:"\n        color: #313132;\n        border: 1px solid #313132;\n\n        &:hover {\n          background: #313132;\n          color: #fff;\n        }\n      ",group:"\n        color: #313132;\n      "},warning:{container:"\n        background-color: #f9f1c6;\n        border-color: #faebcc;\n        color: #6c4a00;\n\n        & a {\n          color: #66512c;\n        }\n      ",content:"\n        color: #66512c;\n      ",close:"\n        color: #66512c;\n        border: 1px solid #66512c;\n\n        &:hover {\n          background: #66512c;\n          color: #fff;\n        }\n      ",group:"\n        color: #66512c;\n      "},danger:{container:"\n        background-color: #f2dede;\n        border-color: #ebccd1;\n        color: #a12622;\n\n        & a {\n          color: #843534;\n        }\n      ",content:"\n        color: #a12622;\n      ",close:"\n        color: #a12622;\n        border: 1px solid #a12622;\n\n        &:hover {\n          background: #a12622;\n          color: #fff;\n        }\n      ",group:"\n        color: #a12622;\n      "}},flex:{container:"\n      display: flex;\n    ",group:"\n      margin: auto 0.5rem;\n    "}},{defaultProps:{variant:"info",size:"medium",flex:!0},staticProps:[]},{group:{align:{left:"\n        margin-right: auto;\n    ",right:"\n        margin-left: auto;\n    "}}}),h=function(e){switch(e){case"success":return l.CheckCircle;case"info":return l.InfoCircle;case"warning":return l.ExclamationTriangle;default:return l.ExclamationCircle}};function x(e){return(0,r.jsxs)(p,f(f({},e),{},{children:[(0,r.jsx)(p.Group,{style:{marginTop:"1px"},children:(0,r.jsx)(l.FaSVG,{children:(0,r.jsx)("path",{fill:"currentColor",d:h(e.variant)})})}),(0,r.jsx)(p.Content,{children:e.content?e.content:e.children}),e.closable&&(0,r.jsx)(p.Group,{align:"right",children:(0,r.jsx)(p.Close,{children:"x"})})]}))}var v=t(809),m=t.n(v),j=t(64121),g=t(92447),b=t(17625),y=t(51436),w=t(64735),Z=t(31607),k=t(70513),P=function(){var e=(0,g.Z)(m().mark((function e(n,t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.e.post("installation",{requestId:n,environment:t}).then((function(e){return e.data}));case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),C=function(){var e=(0,g.Z)(m().mark((function e(n,t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.e.put("installation",{requestId:n,environment:t}).then((function(e){return e.data}));case 3:return r=e.sent,e.abrupt("return",[r,null]);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),S=function(){var e=(0,g.Z)(m().mark((function e(n){var t,r,i,o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.environment,r=n.idp,i=n.property,o=n.searchKey,e.prev=1,e.next=4,k.e.post("keycloak/users",{environment:t,idp:r,property:i,searchKey:o}).then((function(e){return e.data}));case 4:return a=e.sent,e.abrupt("return",[a,null]);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),I=function(){var e=(0,g.Z)(m().mark((function e(n){var t,r,i,o,a,s,c,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.environment,r=n.integrationId,i=n.search,o=void 0===i?"":i,a=n.first,s=void 0===a?0:a,c=n.max,u=void 0===c?50:c,e.prev=1,e.next=4,k.e.post("keycloak/roles",{environment:t,integrationId:r,search:o,first:s,max:u}).then((function(e){return e.data}));case 4:return l=e.sent,e.abrupt("return",[l,null]);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=(0,g.Z)(m().mark((function e(n){var t,r,i,o,a,s,c,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.environment,r=n.integrationId,i=n.username,o=n.first,a=void 0===o?0:o,s=n.max,c=void 0===s?50:s,e.prev=1,e.next=4,k.e.post("keycloak/user-roles",{environment:t,integrationId:r,username:i,first:a,max:c}).then((function(e){return e.data}));case 4:return u=e.sent,e.abrupt("return",[u,null]);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),E=function(){var e=(0,g.Z)(m().mark((function e(n){var t,r,i,o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.environment,r=n.integrationId,i=n.username,o=n.roleName,a=n.mode,e.prev=1,e.next=4,k.e.put("keycloak/user-roles",{environment:t,integrationId:r,username:i,roleName:o,mode:a}).then((function(e){return e.data}));case 4:return s=e.sent,e.abrupt("return",[s,null]);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),D=function(){var e=(0,g.Z)(m().mark((function e(n){var t,r,i,o,a,s,c,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.environment,r=n.integrationId,i=n.roleName,o=n.first,a=void 0===o?0:o,s=n.max,c=void 0===s?50:s,e.prev=1,e.next=4,k.e.post("keycloak/role-users",{environment:t,integrationId:r,roleName:i,first:a,max:c}).then((function(e){return e.data}));case 4:return u=e.sent,e.abrupt("return",[u,null]);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=(0,g.Z)(m().mark((function e(n){var t,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.integrationId,r=n.roles,e.prev=1,e.next=4,k.e.post("keycloak/bulk-roles",{integrationId:t,roles:r}).then((function(e){return e.data}));case 4:return i=e.sent,e.abrupt("return",[i,null]);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),R=function(){var e=(0,g.Z)(m().mark((function e(n){var t,r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.environment,r=n.integrationId,i=n.roleName,e.prev=1,e.next=4,k.e.post("keycloak/delete-role",{environment:t,integrationId:r,roleName:i}).then((function(e){return e.data}));case 4:return o=e.sent,e.abrupt("return",[o,null]);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),F=t(83024),z=t(30454),T={shared:{button:"\n      border-radius: 0.222em;\n      border-width: 0;\n      padding: 0.6em 1.1em;\n      text-align: center;\n      text-decoration: none;\n      font-weight: 700;\n      letter-spacing: 1px;\n      display: inline-block;\n      cursor: pointer;\n      box-shadow: 0px 0px 0px 2px transparent inset, 0px 0em 0px 0px rgba(34, 36, 38, 0.15) inset;\n    "},size:{xsmall:{button:"\n        font-size: 0.7rem;\n      "},small:{button:"\n        font-size: 0.8rem;\n      "},medium:{button:"\n        font-size: ".concat(z.n5,";\n      ")},large:{button:"\n        font-size: ".concat(z.zA,";\n      ")}},variant:{primary:{button:"\n        background-color: #D5EDFF;\n        box-shadow: 0px 0px 0px 2px #D5EDFF inset !important;\n        color: #3E3E3E;\n\n        &:hover {\n          text-decoration: underline;\n          background-color: #FFF7D5;\n          box-shadow: 0px 0px 0px 2px #FFF7D5 inset !important;\n          opacity: 0.80;\n        }\n\n        &:active {\n          opacity: 1;\n        }\n      "},grey:{button:"\n        background-color: #B2B2B2;\n        box-shadow: 0px 0px 0px 1px #707070 inset !important;\n        color: #F8F8F8;\n        min-width: 110px;\n\n        &:hover {\n          background-color: ".concat(z.TU,";\n          box-shadow: 0px 0px 0px 1px #707070 inset !important;\n        }\n      ")}}},B=(0,F.applyTheme)(T,{defaultProps:{variant:"primary",size:"medium"},breakProps:[],staticProps:["fullHeight","fullWidth"]}),A=function(e){return JSON.stringify(e,void 0,2)},G=function(e){var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.focus(),n.select();try{return document.execCommand("copy"),document.body.removeChild(n),!0}catch(t){return document.body.removeChild(n),!1}},q=function(e,n){var t=window.URL.createObjectURL(new Blob([e],{type:"application/json"})),r=document.createElement("a");r.href=t,r.setAttribute("download",n),document.body.appendChild(r),r.click(),document.body.removeChild(r)},M=t(6434),K=t(28783),L=t(34605),U=t(74150);function H(){var e=(0,o.Z)(["\n  font-size: 18px;\n  font-weight: bold;\n  color: #000;\n  border-bottom: 1px solid gray;\n"]);return H=function(){return e},e}function V(){var e=(0,o.Z)(["\n  height: var(--field-top-spacing);\n"]);return V=function(){return e},e}function _(){var e=(0,o.Z)(["\n  color: #3e3e3e;\n  font-size: 14px;\n  font-weight: 700;\n"]);return _=function(){return e},e}function Y(){var e=(0,o.Z)(["\n  color: #000;\n  font-size: ",";\n  font-weight: bold;\n"]);return Y=function(){return e},e}function W(){var e=(0,o.Z)(["\n  text-align: center;\n"]);return W=function(){return e},e}var J=a.default.div(W()),X=a.default.span(Y(),z.n5),$=a.default.span(_()),Q=a.default.div(V()),ee=a.default.div(H()),ne=(0,K.hU)((function(e){var n=e.selectedRequest,t=e.alert,o=(0,i.useState)(!1),a=o[0],s=o[1],c=function(){var e=(0,g.Z)(m().mark((function e(t){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,P(n.id,t);case 3:return r=e.sent,i=(0,j.Z)(r,1),o=i[0],s(!1),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,g.Z)(m().mark((function e(n){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(n);case 2:r=e.sent,G(A(r)),i=r?"success":"danger",o=r?"Installation copied to clipboard":"Failed to download installation",t.show({variant:i,fadeOut:1e4,closable:!0,content:o});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,g.Z)(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:r=e.sent,q(A(r),"".concat(n.projectName,"-installation-").concat(t,".json"));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return a?(0,r.jsxs)(J,{children:[(0,r.jsx)(Q,{}),(0,r.jsx)(Z.Z,{type:"Grid",color:"#000",height:45,width:45,visible:!0})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Q,{}),(0,r.jsx)(ee,{children:"Installation JSONs"}),(0,r.jsx)("br",{}),(0,r.jsx)(w.ZP,{cols:3,children:(0,M.Dy)(n).map((function(e){return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(w.ZP.Row,{collapse:"992",gutter:[],align:"center",children:(0,r.jsx)(w.ZP.Col,{span:1,style:{maxWidth:"200px",height:"30px"},children:(0,r.jsx)(X,{children:e.display})})}),(0,r.jsx)(w.ZP.Row,{collapse:"992",gutter:[],align:"center",children:(0,r.jsxs)(w.ZP.Col,{span:3,children:[(0,r.jsx)(B,{size:"medium",variant:"grey",onClick:function(){return u(e.name)},children:"Copy"}),"\xa0",(0,r.jsx)(B,{size:"medium",variant:"grey",onClick:function(){return l(e.name)},children:"Download"}),"\xa0\xa0",(0,r.jsx)(b.G,{color:"green",icon:y.f8k,title:"Ready"}),"\xa0",(0,r.jsx)($,{children:"Ready"})]})}),(0,r.jsx)("br",{})]},e.name)}))}),(0,r.jsxs)(L.Z,{children:["For more information on how to use these details, or for the public endpoints associated to your client, see"," ",(0,r.jsx)(U.ZP,{href:"https://github.com/bcgov/sso-requests/blob/dev/docs/user-guide.md#using-your-integration",external:!0,children:"here"}),"."]})]})})),te=t(4826),re=t(98806);function ie(){var e=(0,o.Z)(["\n  background-color: black;\n"]);return ie=function(){return e},e}function oe(){var e=(0,o.Z)(["\n  margin-bottom: 5px;\n  display: flex;\n  align-items: center;\n"]);return oe=function(){return e},e}function ae(){var e=(0,o.Z)(["\n  margin-right: 20px;\n"]);return ae=function(){return e},e}function se(){var e=(0,o.Z)(["\n  color: #000;\n  font-size: 1.1rem;\n  font-weight: bold;\n"]);return se=function(){return e},e}function ce(){var e=(0,o.Z)(["\n  height: var(--field-top-spacing);\n"]);return ce=function(){return e},e}var ue=a.default.div(ce()),le=a.default.span(se()),de=(0,a.default)(b.G)(ae()),fe=a.default.div(oe()),pe=a.default.hr(ie()),he=(0,K.hU)((function(e){var n=e.selectedRequest,t=e.alert,o=(0,i.useState)(null),a=o[0],s=o[1],c=(0,M.Dy)(n),u=function(){var e=(0,g.Z)(m().mark((function e(){var r,i,o,s,c,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n.id,(null===a||void 0===a?void 0:a.name)||null);case 2:r=e.sent,i=(0,j.Z)(r,2),o=i[0],s=i[1],c=s?"danger":"success",u=s?"Failed to regenerate secret":"Client Secret Successfully Updated",t.show({variant:c,fadeOut:1e4,closable:!0,content:u}),window.location.hash="#",console.error(o,s);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(fe,{children:[(0,r.jsx)(de,{icon:y.eHv,color:"black",title:"Warning",size:"2x"}),(0,r.jsxs)("strong",{children:["You're About to Change Your Client Secret for Your ",null===a||void 0===a?void 0:a.display," Environment."]})," "]}),(0,r.jsx)(pe,{}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Once you change your secret, your previous secret will no longer be valid for any applications using it."}),(0,r.jsx)("li",{children:"This means you will need to update any applications using this client with the new JSON details before they are functional again."})]})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ue,{}),c.map((function(e){return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(le,{children:[e.display,": "]}),!n.publicAccess&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)(te.ZP,{type:"button",onClick:function(){return function(e){s(e),window.location.hash="confirm-new-secret"}(e)},children:"Change your client secret"})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]},e.name)}))]}),(0,r.jsx)(re.Z,{id:"confirm-new-secret",content:l,onConfirm:u,icon:y.eHv,title:"You're About to Change Your Client Secret",closable:!0})]})})),xe=t(85330),ve=t(96486),me=t(246),je=t.n(me),ge=t(11915),be=t(20374),ye=t(69696);function we(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ze(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?we(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):we(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ke(){var e=(0,o.Z)(["\n  min-width: 350px;\n  margin-top: 20px;\n  display: flex;\n  justify-content: "," & button {\n    min-width: 150px;\n    display: inline-block;\n  }\n"]);return ke=function(){return e},e}function Pe(){var e=(0,o.Z)(["\n  margin-right: 5px;\n  height: 30px;\n"]);return Pe=function(){return e},e}function Ce(){var e=(0,o.Z)(["\n  font-size: 1.5em;\n  padding: 0.75em;\n  background: #38598a;\n  color: #fff;\n  & a {\n    float: right;\n  }\n"]);return Ce=function(){return e},e}function Se(){var e=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n  text-align: left !important;\n\n  & .pg-modal-main {\n    margin: auto;\n    box-shadow: 5px 5px 10px black;\n  }\n"]);return Se=function(){return e},e}var Ie=(0,a.default)(ye.ZP)(Se()),Oe=(0,a.default)(ye.ZP.Header)(Ce()),Ee=(0,a.default)(b.G)(Pe()),De=a.default.div(ke(),(function(e){return"none"===e.buttonAlign?"space-between;":"".concat(e.buttonAlign,";")})),Ne={open:ve.noop,close:ve.noop,updateConfig:ve.noop,getId:function(){return 1}},Re=function(e,n){var t=e.id,o=void 0===t?(new Date).getTime().toString():t,a=e.title,s=void 0===a?"":a,c=e.onConfirm,u=void 0===c?function(e,n){return!0}:c,l=e.onCancel,d=void 0===l?ve.noop:l,f=e.onClose,p=void 0===f?ve.noop:f,h=e.closable,x=void 0===h||h,v=e.children,j=e.icon,w=void 0===j?y.eHv:j,k=e.confirmButtonText,P=void 0===k?"Confirm":k,C=e.cancelButtonText,S=void 0===C?"Cancel":C,I=e.confirmButtonVariant,O=void 0===I?"bcPrimary":I,E=e.cancelButtonVariant,D=void 0===E?"bcSecondary":E,N=e.showConfirmButton,R=void 0===N||N,F=e.showCancelButton,z=void 0===F||F,T=e.buttonAlign,B=void 0===T?"none":T,A=e.style,G=void 0===A?{}:A,q={confirmButtonText:P,cancelButtonText:S,confirmButtonVariant:O,cancelButtonVariant:D,showConfirmButton:R,showCancelButton:z,buttonAlign:B},M=(0,i.useRef)(),K=(0,i.useState)(!1),L=K[0],U=K[1],H=(0,i.useState)(null),V=H[0],_=H[1],Y=(0,i.useState)(q),W=Y[0],J=Y[1];(0,i.useImperativeHandle)(n,(function(){return{open:function(e){_(e),window.location.hash=o},close:function(e){J(Ze({},q)),p(M,V,e),window.location.hash=(null===e||void 0===e?void 0:e._hash)||(null===V||void 0===V?void 0:V._hash)||"#"},updateConfig:function(e){J(Ze(Ze({},W),e))},getId:function(){return o}}}));var X=function(){var e=(0,g.Z)(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,u(M,V);case 3:n=e.sent,U(!1),!1!==n&&(J(Ze({},q)),window.location.hash=(null===V||void 0===V?void 0:V._hash)||"#");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,g.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(M,V),J(Ze({},q)),window.location.hash=(null===V||void 0===V?void 0:V._hash)||"#";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"function"===typeof v&&(v=v(V));var Q=[];return"object"===typeof v&&(Array.isArray(v)?Q=v:Q.push(v)),Q=i.Children.map(Q,(function(e,n){return(0,i.cloneElement)(e,{ref:M})})),(0,r.jsxs)(Ie,{id:o,children:[(0,r.jsxs)(Oe,{title:s,as:"div",children:[w&&(0,r.jsx)(Ee,{icon:w,title:"Information",size:"2x",style:{paddingRight:"10px"}}),s,x&&(0,r.jsx)(ye.ZP.Close,{onClick:$,title:"cancel",children:(0,r.jsx)(b.G,{icon:y.NBC,size:"lg"})})]}),(0,r.jsxs)(ye.ZP.Content,{style:G,children:[Q,(0,r.jsxs)(De,{buttonAlign:W.buttonAlign,children:[W.showCancelButton&&(0,r.jsx)(xe.zx,{variant:W.cancelButtonVariant,onClick:$,type:"button",children:W.cancelButtonText}),W.showConfirmButton&&(0,r.jsx)(xe.zx,{onClick:X,variant:W.confirmButtonVariant,type:"button",children:L?(0,r.jsx)(Z.Z,{type:"Grid",color:"#FFF",height:18,width:50,visible:L}):W.confirmButtonText})]})]})]})},Fe=(0,i.forwardRef)(Re),ze=t(61408),Te=t(23451),Be=t(26141);function Ae(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ge(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ae(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ae(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function qe(){var e=(0,o.Z)(["\n  color: #ff0000;\n"]);return qe=function(){return e},e}function Me(){var e=(0,o.Z)(["\n  padding-top: 10px;\n  padding-bottom: 10px;\n"]);return Me=function(){return e},e}function Ke(){var e=(0,o.Z)(["\n  display: flex;\n  & > * {\n    padding-right: 0.5rem;\n  }\n"]);return Ke=function(){return e},e}function Le(){var e=(0,o.Z)(["\n  margin: 10px 0;\n  cursor: pointer;\n  & span {\n    margin-left: 5px;\n  }\n"]);return Le=function(){return e},e}function Ue(){var e=(0,o.Z)(["\n  .env {\n    width: 300px;\n  }\n"]);return Ue=function(){return e},e}var He=a.default.table(Ue()),Ve=a.default.span(Le()),_e=a.default.div(Ke()),Ye=a.default.div(Me()),We=a.default.div(qe()),Je={name:"",envs:["dev"]};function Xe(e,n){var t=e.integrationId,o=e.environments,a=void 0===o?["dev"]:o,s=(0,i.useState)(!1),c=s[0],u=s[1],l=(0,i.useState)({}),d=l[0],f=l[1],p=(0,i.useState)([Je]),h=p[0],x=p[1];(0,i.useImperativeHandle)(n,(function(){return{submit:function(){var e=(0,g.Z)(m().mark((function e(){var n,r,i,o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h,c&&(n=[],(0,ve.forEach)(d,(function(e,t){n.push({name:t,envs:e})}))),e.next=4,N({integrationId:t,roles:n});case 4:return r=e.sent,i=(0,j.Z)(r,2),o=i[0],i[1],a={},s=!1,(0,ve.forEach)(o,(function(e){e.failure.length>0&&(0,ve.forEach)(e.failure,(function(n){a[n]||(a[n]=[]),a[n].push(e.env),s=!0}))})),f(a),u(!0),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),reset:function(){x([Je]),f({}),u(!1)}}}));var v=function(){var e=(0,g.Z)(m().mark((function e(n,t,r){var i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=h.map((function(e,r){return r===n?{name:e.name,envs:t.map((function(e){return e.value}))}:e})),x(i);case 2:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();return(0,r.jsx)("div",{children:(0,r.jsxs)(He,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"role",children:"Role Name"}),(0,r.jsx)("th",{className:"env",children:"Environments"}),(0,r.jsx)("th",{})]})}),(0,r.jsxs)("tbody",{children:[h.length>0?h.map((function(e,n){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"role",children:(0,r.jsx)(ge.ZP,{size:"small",minLength:"2",maxLength:"100",value:e.name,disabled:c,onChange:function(e){return function(e,n){var t=h.map((function(t,r){return r===e?{name:n,envs:t.envs}:t}));x(t)}(n,e.target.value)}})}),(0,r.jsx)("td",{className:"env",children:(0,r.jsx)(Be.ZP,{value:e.envs.map((function(e){return{value:e,label:e}})),options:a.map((function(e){return{value:e,label:e}})),isMulti:!0,isDisabled:c,placeholder:"Select...",noOptionsMessage:function(){return"You selected all environments"},onChange:function(e,t){return v(n,e,t)},styles:{multiValue:function(n,t){return d[e.name]&&d[e.name].includes(t.children)?Ge(Ge({},n),{},{backgroundColor:"#F1BFBF"}):n}}})}),(0,r.jsx)("td",{children:!c&&h.length>1&&(0,r.jsx)(Ve,{onClick:function(){return function(e){x(h.filter((function(n,t){return t!==e})))}(n)},children:(0,r.jsx)(b.G,{style:{color:"#FF0303"},icon:y.uMC,title:"Remove Role"})})})]})})):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:3,children:"No roles added."})}),(0,r.jsx)("tr",{children:c?(0,r.jsx)("td",{colSpan:3,children:(0,r.jsxs)(_e,{children:[(0,r.jsx)(Ye,{children:(0,r.jsx)(b.G,{icon:y.RLE,color:"#D44331",title:"Edit",size:"lg"})}),(0,r.jsxs)(Ye,{children:["We were unable to save some of your changes.",(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"fw-bold",children:"Please try submitting again."})]})]})}):(0,r.jsx)("td",{colSpan:3,children:h.length<20?(0,r.jsxs)(Ve,{onClick:function(){x(h.concat(Je))},children:[(0,r.jsx)(b.G,{style:{color:"#006fc4"},icon:y.KtF,title:"Add Role"}),(0,r.jsx)("span",{children:"Add another role"})]}):(0,r.jsx)(We,{children:"You can only create 20 roles at a time. Please save before creating any new roles."})})})]})]})})}var $e=(0,i.forwardRef)(Xe);function Qe(){var e=(0,o.Z)(["\n  height: var(--field-top-spacing);\n"]);return Qe=function(){return e},e}function en(){var e=(0,o.Z)(["\n  text-align: right;\n"]);return en=function(){return e},e}function nn(){var e=(0,o.Z)(["\n  text-align: center;\n"]);return nn=function(){return e},e}function tn(){var e=(0,o.Z)(["\n  display: inline-block;\n  input {\n    min-width: 200px;\n    height: 40px;\n  }\n"]);return tn=function(){return e},e}var rn=(0,a.default)(ge.ZP)(tn()),on=a.default.div(nn()),an=a.default.div(en()),sn=a.default.div(Qe()),cn=function(){return(0,r.jsxs)(on,{children:[(0,r.jsx)(sn,{}),(0,r.jsx)(Z.Z,{type:"Grid",color:"#000",height:45,width:45,visible:!0})]})},un=(0,K.hU)((function(e){var n=e.selectedRequest,t=(e.alert,(0,i.useRef)(Ne)),o=(0,i.useRef)(Ne),a=(0,i.useState)("dev"),c=a[0],u=a[1],l=(0,i.useState)(!1),d=l[0],f=l[1],p=(0,i.useState)(!1),h=p[0],x=p[1],v=(0,i.useState)(0),b=v[0],Z=v[1],k=(0,i.useState)(""),P=k[0],C=k[1],S=(0,i.useState)(20),O=S[0],E=(S[1],(0,i.useState)(!0)),N=E[0],F=E[1],z=(0,i.useState)(0),T=z[0],B=z[1],A=(0,i.useState)(20),G=A[0],q=(A[1],(0,i.useState)(!0)),M=q[0],K=q[1],L=(0,i.useState)([]),U=L[0],H=L[1],V=(0,i.useState)([]),_=V[0],Y=V[1],W=(0,i.useState)(""),J=W[0],X=W[1],$=function(){Q(!0),Y([]),H([]),X("")};(0,i.useEffect)((function(){u("dev"),$()}),[n.id]),(0,i.useEffect)((function(){$()}),[c]),(0,i.useEffect)((function(){ee(!0,J)}),[J]);var Q=function(){var e=(0,g.Z)(m().mark((function e(t){var r,i,o,a,s,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return");case 2:return r=0,i=[],f(!0),t?(Z(r),X("")):(r=b,i=U),e.next=8,I({environment:c,integrationId:n.id,first:r,search:P,max:O});case 8:o=e.sent,a=(0,j.Z)(o,2),s=a[0],a[1],u=s||[],l=i.concat(u),F(u.length===O),H(l),Z(r+O),f(!1),1===l.length&&X(l[0]);case 19:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ee=function(){var e=(0,g.Z)(m().mark((function e(t,r){var i,o,a,s,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=2;break}return e.abrupt("return");case 2:if(!(r.length<2)){e.next=4;break}return e.abrupt("return");case 4:return i=0,o=[],x(!0),t?B(i):(i=T,o=_),e.next=10,D({environment:c,integrationId:n.id,roleName:r,first:i,max:G});case 10:a=e.sent,s=(0,j.Z)(a,2),u=s[0],s[1],K((l=u||[]).length===G),Y(o.concat(l)),B(i+G),X(r),x(!1);case 20:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ne=function(){var e=(0,g.Z)(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.current.open(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),te=null;0===T&&h?te=(0,r.jsx)(cn,{}):J&&(te=(0,r.jsxs)(Te.Z,{variant:"mini",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"First Name"}),(0,r.jsx)("th",{children:"Last Name"}),(0,r.jsx)("th",{children:"Email"}),(0,r.jsx)("th",{children:"Username"})]})}),_.length>0?(0,r.jsx)(je(),{element:"tbody",loadMore:function(){return ee(!1,J)},hasMore:M,loader:(0,r.jsx)(cn,{}),children:_.map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.firstName}),(0,r.jsx)("td",{children:e.lastName}),(0,r.jsx)("td",{children:e.email}),(0,r.jsx)("td",{children:e.username})]})}))}):(0,r.jsx)("tbody",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4,children:"No users found."})})})]}));var re=(0,r.jsx)("tbody",{});re=U.length>0?(0,r.jsx)(je(),{element:"tbody",loadMore:function(){return Q(!1)},hasMore:N,loader:(0,r.jsx)(cn,{}),children:U.map((function(e){return(0,r.jsxs)("tr",{className:J===e?"active":"",onClick:function(){X(e)},children:[(0,r.jsx)("td",{children:e}),(0,r.jsx)("td",{children:(0,r.jsx)(an,{children:(0,r.jsx)(ze.Kk,{icon:y.$aW,role:"button","aria-label":"delete",onClick:function(n){n.stopPropagation(),ne(e)},title:"Delete",size:"lg",style:{marginRight:"1rem"}})})})]},e)}))}):(0,r.jsx)("tbody",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:2,children:"No roles found."})})});var ie=(0,r.jsxs)(Te.Z,{variant:"mini",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Role Name"}),(0,r.jsx)("th",{})]})}),re]}),oe=(null===n||void 0===n?void 0:n.environments)||[];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(sn,{}),(0,r.jsx)(xe.zx,{size:"medium",variant:"primary",onClick:function(){t.current.open()},children:"+ Create a New Role"}),(0,r.jsx)(sn,{}),(0,r.jsx)(be.H,{onSelect:function(e){u(e)},activeKey:c,children:oe.map((function(e){return(0,r.jsx)(s.Z,{eventKey:e,title:(0,ve.startCase)(e)})}))}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{children:[(0,r.jsx)(rn,{type:"text",size:"small",maxLength:"1000",placeholder:"Search existing roles",value:P,onChange:function(e){C(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&Q(!0)}}),(0,r.jsx)(xe.zx,{type:"button",size:"small",variant:"bcPrimary",onClick:function(){return Q(!0)},children:"Search"})]}),(0,r.jsx)(sn,{}),0===b&&d?(0,r.jsx)(cn,{}):(0,r.jsx)(w.ZP,{cols:10,children:(0,r.jsxs)(w.ZP.Row,{collapse:"1100",gutter:[15,2],children:[(0,r.jsx)(w.ZP.Col,{span:4,children:ie}),(0,r.jsx)(w.ZP.Col,{span:6,children:te})]})}),(0,r.jsx)(Fe,{ref:t,title:"Create New Role",icon:null,onConfirm:function(){var e=(0,g.Z)(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.current.submit();case 2:if(e.sent){e.next=9;break}return e.next=6,n.current.reset();case 6:$(),e.next=11;break;case 9:return t.current.updateConfig({confirmButtonText:"Try Again"}),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onCancel:function(e){e.current.reset()},confirmButtonText:"Save",confirmButtonVariant:"primary",cancelButtonVariant:"secondary",style:{maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:(0,r.jsx)($e,{integrationId:n.id,environments:oe})}),(0,r.jsx)(Fe,{ref:o,title:"Delete Role",icon:y.eHv,onConfirm:function(){var e=(0,g.Z)(m().mark((function e(t,r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R({environment:c,integrationId:n.id,roleName:r});case 2:return e.next=4,$();case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),confirmButtonText:"Delete",confirmButtonVariant:"primary",cancelButtonVariant:"secondary",children:(0,r.jsx)("div",{children:"Are you sure you want to delete this role?"})})]})})),ln=t(68306),dn=function(){var e=(0,g.Z)(m().mark((function e(n){var t,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.field,r=n.search,e.prev=1,e.next=4,k.e.post("bceid-webservice/idir/search",{field:t,search:r}).then((function(e){return e.data}));case 4:return i=e.sent,e.abrupt("return",[i,null]);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),fn=function(){var e=(0,g.Z)(m().mark((function e(n){var t,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.guid,r=n.userId,e.prev=1,e.next=4,k.e.post("bceid-webservice/idir/import",{guid:t,userId:r}).then((function(e){return e.data}));case 4:return i=e.sent,e.abrupt("return",[i,null]);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),pn=[{value:"idir",label:"IDIR"}],hn=[{value:"firstName",label:"First Name",allowed:["idir"]},{value:"lastName",label:"Last Name",allowed:["idir"]},{value:"email",label:"Email",allowed:["idir","bceidbasic","bceidbusiness"]},{value:"userId",label:"Username",allowed:["idir","bceidbasic","bceidbusiness"]},{value:"guid",label:"IDP GUID",allowed:["bceidbasic","bceidbusiness"]}];function xn(e,n){var t=e.key,o=e.idp,a=e.property,s=e.search,c=e.infoModalRef,u=e.parentModalRef,l=(0,i.useState)(!1),d=l[0],f=l[1],p=(0,i.useState)(!1),h=p[0],x=p[1],v=(0,i.useState)([]),b=v[0],w=v[1],Z=(0,i.useState)(""),k=Z[0],P=Z[1],C=(0,i.useState)(a),S=C[0],I=C[1],O=(0,i.useState)(s),E=O[0],D=O[1];(0,i.useEffect)((function(){P(o)}),[o]),(0,i.useEffect)((function(){if(k){var e=hn.find((function(e){return e.value===S}));if(null===e||void 0===e?void 0:e.allowed.includes(k))N(E,S);else{var n=hn.find((function(e){return e.allowed.includes(k)}));I((null===n||void 0===n?void 0:n.value)||""),D("")}}}),[k]);var N=function(){var e=(0,g.Z)(m().mark((function e(n){var t,r,i,o,a=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>1&&void 0!==a[1]?a[1]:S,!(n.length<2)){e.next=3;break}return e.abrupt("return");case 3:return x(!0),w([]),f(!0),e.next=8,dn({field:t,search:n});case 8:r=e.sent,i=(0,j.Z)(r,2),o=i[0],i[1],o&&w(o),x(!1);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),R=function(){var e=(0,g.Z)(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn({guid:n.guid,userId:n.userId});case 2:u.current.close({idp:k,guid:n.guid});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),F=null;return F=d?b.length>0?b.map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.individualIdentity.name.firstname}),(0,r.jsx)("td",{children:e.individualIdentity.name.surname}),(0,r.jsx)("td",{children:e.contact.email}),(0,r.jsx)("td",{children:e.userId}),(0,r.jsx)("td",{children:(0,r.jsxs)(ze.c4,{children:[(0,r.jsx)(ze.Kk,{icon:y.Mdf,role:"button","aria-label":"view",onClick:function(){c.current.open({guid:e.guid,attributes:{username:e.userId,displayName:e.displayName,firstName:e.individualIdentity.name.firstname,middleName:e.individualIdentity.name.middleName,lastName:e.individualIdentity.name.surname,initials:e.individualIdentity.name.initials,email:e.contact.email,telephone:e.contact.telephone,company:e.internalIdentity.company,department:e.internalIdentity.department,title:e.internalIdentity.title},_hash:u.current.getId()})},title:"View",size:"lg"}),(0,r.jsx)(ze.Kk,{icon:y.q7m,role:"button","aria-label":"import",onClick:function(){return R(e)},title:"Import",size:"lg"})]})})]},e.guid)})):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,className:"text-center",children:"The user you searched for does not exist. Please try again, by entering the full search criteria."})}):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,className:"text-center",children:"You have not searched for any users yet."})}),(0,r.jsx)(ln.Z,{variant:"mini",searchLocation:"right",filters:[{value:k,multiselect:!1,onChange:P,options:pn},{value:S,multiselect:!1,onChange:I,options:hn.filter((function(e){return e.allowed.includes(k)}))}],headers:[{name:"First name"},{name:"Last Name"},{name:"Email"},{name:"IDIR username"}],searchKey:E,searchPlaceholder:"Enter search criteria",onSearch:N,onEnter:N,loading:h,totalColSpan:20,searchColSpan:10,filterColSpan:10,children:F},"".concat(t,"-").concat(E))}var vn=(0,i.forwardRef)(xn);function mn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function jn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mn(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function gn(){var e=(0,o.Z)(["\n  padding-top: 10px;\n  padding-bottom: 10px;\n"]);return gn=function(){return e},e}function bn(){var e=(0,o.Z)(["\n  display: flex;\n  & > * {\n    padding-right: 0.5rem;\n  }\n"]);return bn=function(){return e},e}function yn(){var e=(0,o.Z)(["\n  text-align: center;\n"]);return yn=function(){return e},e}function wn(){var e=(0,o.Z)(["\n  height: var(--field-top-spacing);\n"]);return wn=function(){return e},e}function Zn(){var e=(0,o.Z)(["\n  text-align: center;\n"]);return Zn=function(){return e},e}function kn(){var e=(0,o.Z)(["\n  font-size: 0.9rem;\n  ","\n"]);return kn=function(){return e},e}function Pn(){var e=(0,o.Z)(["\n  background-color: #f1f1f1;\n  margin: 2px 0 2px 0;\n  padding: 4px 6px;\n  ","\n"]);return Pn=function(){return e},e}function Cn(){var e=(0,o.Z)(["\n  display: flex;\n  & > div:first-child {\n    margin-right: 20px;\n  }\n"]);return Cn=function(){return e},e}function Sn(){var e=(0,o.Z)(["\n  font-weight: bold;\n  margin-bottom: 2px;\n"]);return Sn=function(){return e},e}var In=a.default.label(Sn()),On=a.default.div(Cn()),En=a.default.div(Pn(),(function(e){return e.width?"width: ".concat(e.width,";"):"width: 300px;"})),Dn=a.default.div(kn(),(function(e){return e.width?"width: ".concat(e.width,";"):"width: 300px;"})),Nn=function(e){var n=e.children,t=e.width;return(0,r.jsx)(En,{width:t,children:(0,r.jsx)(w.ZP,{cols:6,children:(0,r.jsxs)(w.ZP.Row,{gutter:[],children:[(0,r.jsx)(w.ZP.Col,{span:5,children:n}),(0,r.jsx)(w.ZP.Col,{span:1,style:{textAlign:"right"},children:(0,r.jsx)(b.G,{icon:y.byT,color:"#9F9F9F",size:"lg"})})]})})})},Rn=a.default.div(Zn()),Fn=a.default.div(wn()),zn=a.default.div(yn()),Tn=a.default.div(bn()),Bn=a.default.div(gn()),An=function(){return(0,r.jsxs)(Rn,{children:[(0,r.jsx)(Fn,{}),(0,r.jsx)(Z.Z,{type:"Grid",color:"#000",height:45,width:45,visible:!0})]})},Gn={idir:"IDIR",azureidir:"Azure IDIR",bceidbasic:"BCeID Basic",bceidbusiness:"BCeID Business",bceidboth:"BCeID Both"},qn=[{value:"lastName",label:"Last Name",allowed:["idir","azureidir"]},{value:"firstName",label:"First Name",allowed:["idir","azureidir"]},{value:"email",label:"Email",allowed:["idir","azureidir"]},{value:"guid",label:"IDP GUID",allowed:["idir","azureidir","bceidbasic","bceidbusiness","bceidboth"]}],Mn=(0,K.hU)((function(e){var n=e.selectedRequest,t=(e.alert,(0,i.useRef)(Ne)),o=(0,i.useRef)(Ne),a=(0,i.useState)(!1),s=a[0],c=a[1],u=(0,i.useState)(!1),l=u[0],d=u[1],f=(0,i.useState)(!1),p=f[0],h=f[1],x=(0,i.useState)([]),v=x[0],Z=x[1],k=(0,i.useState)([]),P=k[0],C=k[1],D=(0,i.useState)([]),N=D[0],R=D[1],F=(0,i.useState)("dev"),z=F[0],T=F[1],B=(0,i.useState)(""),A=B[0],G=B[1],q=(0,i.useState)(""),M=q[0],K=q[1],L=(0,i.useState)(""),U=L[0],H=L[1],V=(0,i.useState)(void 0),_=V[0],Y=V[1],W=function(){var e=(0,g.Z)(m().mark((function e(){var t,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d(!0);case 4:return e.next=6,I({environment:z,integrationId:n.id,first:0,max:1e3});case 6:t=e.sent,r=(0,j.Z)(t,2),i=r[0],r[1],C(i||[]),d(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){Z([]),C([]),R([]),Y(void 0),c(!1)};(0,i.useEffect)((function(){J(),function(){if(H(""),T("dev"),n.devIdps){var e=n.devIdps.length>0?n.devIdps[0]:"";G(e);var t=qn.find((function(n){return n.allowed.includes(e)}));K((null===t||void 0===t?void 0:t.value)||"")}}()}),[n.id]),(0,i.useEffect)((function(){J(),W(),n.devIdps&&G(n.devIdps.length>0?n.devIdps[0]:"")}),[z]),(0,i.useEffect)((function(){J();var e=qn.find((function(e){return e.value===M}));if(!(null===e||void 0===e?void 0:e.allowed.includes(A))){var n=qn.find((function(e){return e.allowed.includes(A)}));K((null===n||void 0===n?void 0:n.value)||"")}}),[A]);var X=function(){var e=(0,g.Z)(m().mark((function e(n){var t,r,i,o,a=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>1&&void 0!==a[1]?a[1]:M,!(n.length<2)){e.next=3;break}return e.abrupt("return");case 3:return d(!0),H(n),K(t),Z([]),R([]),Y(void 0),c(!0),e.next=12,S({environment:z,idp:A,property:t,searchKey:n});case 12:r=e.sent,i=(0,j.Z)(r,2),o=i[0],i[1],o&&(Z(o),1===o.length&&Y(o[0].username)),d(!1);case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$=function(){var e=(0,g.Z)(m().mark((function e(t,r){var i,o,a,s,c,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={},"remove-value"===r.action?(i.mode="del",i.roleName=null===(o=r.removedValue)||void 0===o?void 0:o.value):(i.mode="add",i.roleName=null===(a=r.option)||void 0===a?void 0:a.value),e.next=4,h(!0);case 4:return e.next=6,E(jn({environment:z,integrationId:n.id,username:_},i));case 6:return s=e.sent,c=(0,j.Z)(s,2),u=c[0],c[1],e.next=12,R(u||[]);case 12:return e.next=14,h(!1);case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,g.Z)(m().mark((function e(t){var r,i,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(!0);case 2:return e.next=4,O({environment:z,integrationId:n.id,username:t});case 4:return r=e.sent,i=(0,j.Z)(r,2),o=i[0],i[1],e.next=10,R(o||[]);case 10:Y(t),h(!1);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ee=null;p?ee=(0,r.jsx)(An,{}):_&&(ee=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(In,{children:"2. Assign User to a Role"}),(0,r.jsx)(Be.ZP,{value:N.map((function(e){return{value:e,label:e}})),options:P.map((function(e){return{value:e,label:e}})),isMulti:!0,placeholder:"Select...",noOptionsMessage:function(){return"No roles"},onChange:$})]}));var ne="idir"===A,re=null;re=s?v.length>0?v.map((function(e){return(0,r.jsxs)("tr",{className:_===e.username?"active":"",onClick:function(){Q(e.username)},children:[(0,r.jsx)("td",{children:e.firstName}),(0,r.jsx)("td",{children:e.lastName}),(0,r.jsx)("td",{children:e.email}),(0,r.jsx)("td",{children:(0,r.jsx)(ze.c4,{children:(0,r.jsx)(ze.Kk,{icon:y.Mdf,role:"button","aria-label":"view",onClick:function(n){n.stopPropagation(),t.current.open({guid:e.username.split("@")[0],attributes:jn({firstName:e.firstName,lastName:e.lastName,email:e.email},e.attributes)})},title:"View",size:"lg"})})})]},e.username)})):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,children:(0,r.jsxs)(Tn,{children:[(0,r.jsx)(Bn,{children:(0,r.jsx)(b.G,{icon:y.RLE,color:"#D44331",title:"Edit",size:"lg"})}),ne?(0,r.jsx)(Bn,{children:"The user you searched for does not exist. Please try again, by entering the full search criteria or try using our IDIM Web Service Lookup tool."}):(0,r.jsx)(Bn,{children:"The user you searched for does not exist. Please try again, by entering the full search criteria."})]})})}):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,children:(0,r.jsx)(zn,{children:"You have not searched for any users yet."})})});var ie=null;s&&ne&&(ie=(0,r.jsxs)(r.Fragment,{children:[v.length>0&&(0,r.jsx)("div",{className:"fst-italic small mb-1",children:"If you did not find the user you were looking for, you can try searching for the user in our IDIM Web Service Lookup tool. This tool uses a webservice to find IDIR users. so you will need to import the user that is found."}),(0,r.jsx)(te.ZP,{type:"button",size:"small",onClick:function(){return o.current.open({key:(new Date).getTime().toString(),idp:"idir",property:M,search:U})},children:"Search in IDIM Web Service Lookup"})]}));var oe=(null===n||void 0===n?void 0:n.environments)||[],ae=(null===n||void 0===n?void 0:n.devIdps)||[];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Fn,{}),(0,r.jsx)(w.ZP,{cols:10,children:(0,r.jsxs)(w.ZP.Row,{collapse:"1100",gutter:[15,2],children:[(0,r.jsxs)(w.ZP.Col,{span:6,children:[(0,r.jsx)(In,{children:"1. Search for a user based on the selection criteria below"}),(0,r.jsx)(ln.Z,{variant:"mini",searchLocation:"right",filters:[{value:z,multiselect:!1,onChange:T,options:oe.map((function(e){return{value:e,label:(0,ve.startCase)(e)}}))},{value:A,multiselect:!1,onChange:G,options:ae.map((function(e){return{value:e,label:Gn[e]}}))},{value:M,multiselect:!1,onChange:K,options:qn.filter((function(e){return e.allowed.includes(A)}))}],headers:[{name:"First name",style:{float:"left",width:"20%"}},{name:"Last Name",style:{float:"left",width:"40%"}},{name:"Email",style:{float:"left"}}],searchKey:U,searchPlaceholder:"Enter search criteria",onSearch:X,onEnter:X,loading:l,totalColSpan:20,searchColSpan:8,filterColSpan:12,children:re},U),ie]}),(0,r.jsx)(w.ZP.Col,{span:4,children:ee})]})}),(0,r.jsx)(Fe,{ref:t,id:"additiona-user-info",title:"Additional User Info",icon:null,cancelButtonText:"Close",cancelButtonVariant:"primary",showConfirmButton:!1,buttonAlign:"right",style:{maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:function(e){if(!e)return(0,r.jsx)(r.Fragment,{});var n=(0,ve.omitBy)(e.attributes,ve.isEmpty);return(0,r.jsxs)("div",{children:[(0,r.jsx)(In,{children:"GUID"}),(0,r.jsx)(Nn,{width:"400px",children:e.guid}),(0,r.jsx)("br",{}),(0,r.jsx)(In,{children:"Attributes"}),(0,r.jsxs)(On,{children:[(0,r.jsx)(Dn,{width:"200px",children:"Key"}),(0,r.jsx)(Dn,{width:"700px",children:"Value"})]}),(0,ve.map)(n,(function(e,n){return(0,r.jsxs)(On,{children:[(0,r.jsx)(Nn,{width:"200px",children:(0,ve.startCase)(n)}),(0,r.jsx)(Nn,{width:"700px",children:e})]})}))]})}}),(0,r.jsx)(Fe,{ref:o,id:"idim-webservice-lookup",title:"IDIM Web Service Lookup",icon:null,onClose:function(e,n,t){X(t.guid,"guid")},cancelButtonText:"Close",cancelButtonVariant:"primary",showConfirmButton:!1,buttonAlign:"right",style:{minWidth:"800px",maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:function(e){return e?(0,r.jsx)(vn,{idp:e.idp,property:e.property,search:e.search,infoModalRef:t,parentModalRef:o},e.key):(0,r.jsx)(r.Fragment,{})}})]})})),Kn=function(e){switch(e){case"draft":return"In Draft";case"applied":return"Completed";default:return"Submitted"}},Ln=t(90032),Un=t(87522),Hn=t(98224),Vn=t(25367);function _n(e){var n=e.requestId,t=(0,i.useState)(!1),o=t[0],a=t[1],s=(0,i.useState)(!1),c=s[0],u=s[1],l=(0,i.useState)([]),d=l[0],f=l[1],p=function(){var e=(0,g.Z)(m().mark((function e(){var t,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return a(!0),e.next=5,(0,Un.v)({requestId:n,eventCode:"request-update-success",clearNotifications:!0});case 5:t=e.sent,r=(0,j.Z)(t,2),i=r[0],r[1]?u(!0):i&&f(i.rows),a(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){p()}),[n]),c?(0,r.jsx)(x,{variant:"warning",content:"Failed to load details."}):o?(0,r.jsx)(Hn.Z,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(Vn.Z,{events:d})})}var Yn=t(32781),Wn=t(51479),Jn=t(65982);function Xn(){var e=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0;\n\n  & p {\n    max-width: 90%;\n    margin: 5px 0;\n  }\n"]);return Xn=function(){return e},e}function $n(){var e=(0,o.Z)(["\n  height: ",";\n  width: ",";\n  border-radius: ",";\n  margin: ",";\n  margin-left: 0;\n  border: 2px solid #b3b3b3;\n"]);return $n=function(){return e},e}var Qn="15px",et=a.default.div($n(),Qn,Qn,Qn,"0"),nt=a.default.li(Xn());function tt(e){var n=e.request.updatedAt,t=new Date(n||"").toLocaleString();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Wn.Z,{now:50}),(0,r.jsxs)(Jn.Z,{children:["Last updated at ",t]}),(0,r.jsxs)(Yn.Z,{children:[(0,r.jsxs)(nt,{children:["Requirements email sent to IDIM",(0,r.jsx)(b.G,{icon:y.f8k,color:"#00C45B"})]}),(0,r.jsxs)(nt,{children:[(0,r.jsxs)("p",{children:["Please reach out to IDIM if you do not hear back within the next 2-3 business days (",(0,r.jsx)(U.ZP,{href:"mailto:IDIM.Consulting@gov.bc.ca",children:"IDIM.Consulting@gov.bc.ca"}),")"]}),(0,r.jsx)(b.G,{icon:y.FU$,color:"#b3b3b3"})]}),(0,r.jsxs)(nt,{children:[(0,r.jsx)("p",{children:"Access to prod"}),(0,r.jsx)(et,{})]})]})]})}var rt=t(3278);function it(){var e=(0,o.Z)(["\n  font-size: 18px;\n  font-weight: bold;\n  color: #000;\n  border-bottom: 1px solid gray;\n"]);return it=function(){return e},e}function ot(){var e=(0,o.Z)(["\n  padding-left: 1.5rem;\n  padding-right: 1rem;\n  ","\n"]);return ot=function(){return e},e}function at(){var e=(0,o.Z)(["\n  margin-top: 10px;\n"]);return at=function(){return e},e}(0,a.default)(rt.Z)(at());var st=a.default.div(ot(),(function(e){return e.short?"max-width: 800px;":""})),ct=a.default.div(it());var ut=function(e){var n=e.integration,t=e.state,i=e.dispatch,o=t.panelTab;if(!n)return null;var a=n.status,c=n.environments,u=void 0===c?[]:c,l=n.bceidApproved,d=Kn(a||"draft"),f=(0,M.Jx)(n)&&u.includes("prod")&&!l,p="gold"===n.serviceType,h=null;return"In Draft"===d?h=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsxs)(x,{variant:"info",children:[(0,r.jsx)("div",{children:(0,r.jsx)("strong",{children:"Your request has not been submitted."})}),(0,r.jsx)("div",{children:'To complete your request, click "Edit" button.'})]})]}):"Submitted"===d?h=(0,r.jsx)(be.H,{activeKey:o,children:(0,r.jsx)(s.Z,{eventKey:"installation-json",title:"Technical Details",children:f?(0,r.jsx)(st,{short:!1,children:(0,r.jsxs)(w.ZP,{cols:15,children:[(0,r.jsx)("br",{}),(0,r.jsxs)(w.ZP.Row,{gutter:[],children:[(0,r.jsxs)(w.ZP.Col,{span:7,align:"center",children:[(0,r.jsx)(ct,{children:"Access to Dev and Test environment(s) will be provided in approx 20 min"}),(0,r.jsx)(Ln.Z,{selectedRequest:n})]}),(0,r.jsx)(w.ZP.Col,{span:1}),(0,r.jsxs)(w.ZP.Col,{span:7,align:"center",children:[(0,r.jsx)(ct,{children:"Access to Prod (TBD)"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(tt,{request:n})]})]})]})}):(0,r.jsxs)(st,{short:!0,children:[(0,r.jsx)("br",{}),(0,r.jsx)(ct,{children:"Access to environment(s) will be provided in approx 20 min"}),(0,r.jsx)(Ln.Z,{selectedRequest:n})]})})}):"Completed"===d&&(h=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(be.H,{activeKey:o,mountOnEnter:!0,unmountOnExit:!0,onSelect:function(e){return i({type:"setPanelTab",payload:e})},children:[(0,r.jsx)(s.Z,{eventKey:"installation-json",title:"Technical Details",children:(0,r.jsx)(st,{short:!1,children:(0,r.jsx)(w.ZP,{cols:15,children:(0,r.jsxs)(w.ZP.Row,{gutter:[],children:[(0,r.jsx)(w.ZP.Col,{span:7,children:(0,r.jsx)(ne,{selectedRequest:n})}),(0,r.jsx)(w.ZP.Col,{span:1}),(0,r.jsx)(w.ZP.Col,{span:7,children:f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)(ct,{children:"Access to Prod (TBD)"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(tt,{request:n})]})})]})})})}),p&&(0,r.jsx)(s.Z,{eventKey:"client-roles",title:"Role Management",children:(0,r.jsxs)(st,{children:[(0,r.jsx)("br",{}),(0,r.jsxs)("div",{children:["Please visit our"," ",(0,r.jsx)(U.ZP,{external:!0,href:"https://github.com/bcgov/sso-keycloak/wiki/Creating-a-Role",children:"wiki page"})," ","for more information on roles."]}),(0,r.jsx)(un,{selectedRequest:n})]})}),p&&(0,r.jsx)(s.Z,{eventKey:"user-roles",title:"Assign Users to Roles",children:(0,r.jsx)(st,{children:(0,r.jsx)(Mn,{selectedRequest:n})})}),!n.publicAccess&&(0,r.jsx)(s.Z,{eventKey:"configuration-url",title:"Secrets",children:(0,r.jsx)(st,{short:!0,children:(0,r.jsx)(he,{selectedRequest:n})})}),(0,r.jsx)(s.Z,{eventKey:"history",title:"Change History",children:(0,r.jsx)(st,{short:!0,children:(0,r.jsx)(_n,{requestId:n.id})})})]})})),h},lt=t(11163),dt=t(6645);function ft(){var e=(0,o.Z)(["\n  color: #006fc4;\n  height: 60px;\n  padding-left: 20px;\n  padding-top: 16px;\n  padding-bottom: 22px;\n  weight: 700;\n  background-color: #f8f8f8;\n"]);return ft=function(){return e},e}function pt(){var e=(0,o.Z)(["\n  color: #a12622;\n  height: 60px;\n  padding-left: 20px;\n  padding-top: 16px;\n  padding-bottom: 22px;\n  weight: 700;\n  background-color: #f2dede;\n"]);return pt=function(){return e},e}function ht(){var e=(0,o.Z)(["\n  margin: 0;\n"]);return ht=function(){return e},e}function xt(){var e=(0,o.Z)(["\n  text-align: center;\n  min-width: 100px;\n"]);return xt=function(){return e},e}var vt=a.default.th(xt()),mt=a.default.p(ht()),jt=a.default.div(pt()),gt=a.default.div(ft()),bt=(0,r.jsxs)(jt,{children:[(0,r.jsx)(b.G,{icon:y.RLE,title:"Unavailable"}),"\xa0 The system is unavailable at this moment. please refresh the page."]}),yt=function(e){var n=e.message;return(0,r.jsxs)(gt,{children:[(0,r.jsx)(b.G,{icon:y.sqG,title:"Information"}),"\xa0 ",n]})},wt=function(e){var n=e.handleNewIntegrationClick,t=e.integrations;return t&&0!=(null===t||void 0===t?void 0:t.length)?(0,r.jsx)(xe.zx,{size:"medium",onClick:n,variant:"callout",children:"+ Request SSO Integration"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:(0,r.jsx)("b",{children:"To request an integration for a Standard Realm, you\u2019ll need the following information:"})}),(0,r.jsxs)("div",{style:{background:"#D9EDFD",textAlign:"center",padding:"16px"},children:[(0,r.jsxs)(w.ZP,{cols:2,style:{textAlign:"left"},children:[(0,r.jsxs)(w.ZP.Row,{collapse:"992",gutter:[],align:"top",children:[(0,r.jsxs)(w.ZP.Col,{span:1,children:[(0,r.jsx)(xe.wk,{number:1,title:"Project Information",children:null}),(0,r.jsxs)(mt,{children:[(0,r.jsx)(b.G,{icon:y.LEp})," Project Name"]}),(0,r.jsxs)(mt,{children:[(0,r.jsx)(b.G,{icon:y.LEp})," Project Team Members (Optional)"]}),(0,r.jsxs)(mt,{children:[(0,r.jsx)(b.G,{icon:y.LEp})," Product Owner or Technical Contact"]})]}),(0,r.jsxs)(w.ZP.Col,{span:1,children:[(0,r.jsx)(xe.wk,{number:2,title:"Technical Info",children:null}),(0,r.jsxs)(mt,{children:[(0,r.jsx)(b.G,{icon:y.LEp})," Client type (",(0,r.jsx)(U.ZP,{href:"https://github.com/bcgov/sso-keycloak/wiki/Using-Your-SSO-Client#confidential-vs-private-client",children:"Public or Confidential, learn more"}),")"]}),(0,r.jsxs)(mt,{children:[(0,r.jsx)(b.G,{icon:y.LEp})," Identity Provider (IDIR, Azure, BCeID or Basic)"]}),(0,r.jsxs)(mt,{children:[(0,r.jsx)(b.G,{icon:y.LEp})," Environments (Development, Test, Production)"]}),(0,r.jsxs)(mt,{children:[(0,r.jsx)(b.G,{icon:y.LEp})," Redirect URIs for selected environments"]})]})]}),(0,r.jsx)("p",{style:{marginTop:"1.25rem"},children:"*You\u2019ll be able to save and return your integration request, anytime throughout the request form."})]}),(0,r.jsx)(xe.zx,{size:"medium",onClick:n,variant:"callout",children:"+ Request SSO Integration"})]})]})};function Zt(e){var n,t=e.setIntegration,o=e.state,a=e.dispatch,s=(0,lt.useRouter)(),c=s.query.integr,u=(0,i.useState)(!0),l=u[0],d=u[1],f=(0,i.useState)([]),p=f[0],h=f[1],x=(0,i.useState)(null),v=(x[0],x[1]),b=(0,i.useState)(c&&Number(c)||void 0),y=b[0],w=b[1],Z=o.downloadError,k=function(){var e=(0,g.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.push("/request");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e){v(e),w(e.id),t(e)},C=function(e){if(h(e||[]),y){var n=e.find((function(e){return(null===e||void 0===e?void 0:e.id)===y}));n?P(n):(null===e||void 0===e?void 0:e.length)>0&&P(e[0])}else(null===e||void 0===e?void 0:e.length)>0&&P(e[0])},S=function(){var e=(0,g.Z)(m().mark((function e(){var n,t,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,(0,dt.XJ)();case 3:n=e.sent,t=(0,j.Z)(n,2),r=t[0],t[1]?a({type:"setDownloadError",payload:!0}):C(r||[]),d(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){S(),s.replace("/my-dashboard/integrations")}),[]),(0,i.useEffect)((function(){return(0,M.rn)(p||[])&&(clearInterval(n),n=setInterval((0,g.Z)(m().mark((function e(){var t,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,dt.XJ)();case 2:t=e.sent,r=(0,j.Z)(t,2),i=r[0],r[1]?clearInterval(n):C(i||[]);case 7:case"end":return e.stop()}}),e)}))),5e3)),function(){n&&clearInterval(n)}}),[p,y]);var I=Z?bt:p&&0!==p.length?(0,r.jsxs)(Te.Z,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Request ID"}),(0,r.jsx)("th",{children:"Project Name"}),(0,r.jsx)("th",{children:"Status"}),(0,r.jsx)("th",{children:"Service Type"}),(0,r.jsx)(vt,{children:"Actions"})]})}),(0,r.jsx)("tbody",{children:null===p||void 0===p?void 0:p.map((function(e){return(0,r.jsxs)("tr",{className:y===e.id?"active":"",onClick:function(){return P(e)},children:[(0,r.jsx)("td",{children:(0,ve.padStart)(String(e.id),8,"0")}),(0,r.jsx)("td",{children:e.projectName}),(0,r.jsx)("td",{children:Kn(e.status||"draft")}),(0,r.jsx)("td",{children:"gold"===e.serviceType?"Gold":"Silver"}),(0,r.jsx)("td",{children:(0,r.jsx)(ze.ZP,{request:e,onDelete:function(){S()}})})]},e.id)}))})]}):(0,r.jsx)(yt,{message:"No Requests Submitted"});return l?(0,r.jsx)(Hn.Z,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)(wt,{handleNewIntegrationClick:k,integrations:p}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),I]})}var kt=t(29119),Pt=t(40602),Ct=t(83727),St=t(81235),It=t(83746);function Ot(){var e=(0,o.Z)(["\n  height: 100%;\n  overflow: auto;\n"]);return Ot=function(){return e},e}var Et=a.default.div(Ot()),Dt=i.createContext({});var Nt=function(e){var n,t,o=e.tab,a=e.leftPanel,c=e.rightPanel,u=(e.children,(0,lt.useRouter)()),l=(0,i.useReducer)(Ct.Z,Ct.E),d=l[0],f=l[1],p=(0,i.useContext)(St.SessionContext)||{},h=p.user,x=p.enableGold,v=null===h||void 0===h||null===(n=h.integrations)||void 0===n?void 0:n.find((function(e){return"silver"===e.serviceType})),m=(0,i.useMemo)((function(){return{state:d,dispatch:f}}),[d,f]),j=(0,r.jsxs)(be.H,{onSelect:function(e){u.replace("/my-dashboard/".concat(e))},activeKey:o,children:[(0,r.jsx)(s.Z,{eventKey:"integrations",title:"My Projects"}),(0,r.jsx)(s.Z,{eventKey:"teams",title:"My Teams"}),x&&v&&(0,r.jsx)(s.Z,{eventKey:"s2g",title:"*New - Silver to Gold Upgrade"})]});return(0,r.jsx)(Pt.Z,{rules:It.FE,children:(0,r.jsxs)(Dt.Provider,{value:m,children:[j,(0,r.jsx)(kt.e,{style:{paddingTop:"2px",borderBottom:"3px solid black"},defaultSize:{width:"100%",height:0==(null===h||void 0===h||null===(t=h.integrations)||void 0===t?void 0:t.length)||void 0==(null===h||void 0===h?void 0:h.integrations)?"100%":.4*window.innerHeight},enable:{bottom:!0},handleStyles:{bottom:{bottom:0}},children:(0,r.jsx)(Et,{children:a&&a(d,f)})}),(0,r.jsx)("br",{}),c&&c(d,f)]})})};var Rt=function(){var e=(0,i.useState)(null),n=e[0],t=e[1];return(0,r.jsx)(Nt,{tab:"integrations",leftPanel:function(e,n){return(0,r.jsx)(Zt,{setIntegration:t,state:e,dispatch:n})},rightPanel:function(e,t){return n&&(0,r.jsx)(ut,{integration:n,state:e,dispatch:t})}})}},83727:function(e,n,t){"use strict";t.d(n,{E:function(){return a}});var r=t(26265);function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var a={};n.Z=function(e,n){switch(n.type){case"setPanelTab":return o(o({},e),{},{panelTab:n.payload});case"setDownloadError":return o(o({},e),{},{downloadError:n.payload});default:return e}}},34226:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-dashboard/integrations",function(){return t(84645)}])}},function(e){e.O(0,[376,715,417,936,774,888,179],(function(){return n=34226,e(e.s=n);var n}));var n=e.O();_N_E=n}]);