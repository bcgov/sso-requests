(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[950],{40343:function(e,n,t){"use strict";var r,a=t(71383);t(67294);var i=t(11163),s=t(46312),o=t(71893),c=t(85330),l=t(79858),u=t(14493),d=t(85893),p=o.ZP.div(r||(r=(0,a.Z)(["\n  height: 100%;\n  overflow: auto;\n"])));n.Z=function(e){var n=e.tab,t=e.leftPanel,r=e.rightPanel,a=e.showResizable;e.children;var o=(0,i.useRouter)(),h=(0,d.jsxs)(c.mQ,{onChange:function(e){o.replace("/my-dashboard/".concat(e))},activeKey:n,tabBarGutter:30,children:[(0,d.jsx)(c.OK,{tab:"My Projects"},"integrations"),(0,d.jsx)(c.OK,{tab:"My Teams"},"teams")]});return(0,d.jsxs)(l.Z,{rules:u.F,children:[h,void 0===a||a?(0,d.jsx)(s.e,{style:{paddingTop:"2px",borderBottom:"3px solid black"},defaultSize:{width:"100%",height:.4*window.innerHeight},enable:{bottom:!0},handleStyles:{bottom:{bottom:0}},children:(0,d.jsx)(p,{children:t&&t()})}):t&&t(),(0,d.jsx)("br",{}),r&&r()]})}},84311:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return integrations}});var r,a,i,s,o,c,l,u,d,p,h,f,g,v,x,m,b,j,y,w,S,Z,C,P,k,I,_,D,T,O,N,R,E,F,A,B,L,U,M,G,q,K,z,H,W,V,Y,J,$,Q,X,ee=t(50029),en=t(71383),et=t(87794),er=t.n(et),ea=t(67294),ei=t(71893),es=t(59499),eo=t(52089),ec=t(69829),el=t(85893);function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(n){(0,es.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var eu=(0,eo.applyTheme)({shared:{container:"\n      line-height: 1.5em;\n      border: 1px solid transparent;\n      border-radius: 0.2222em;\n      padding: 1em 0.5em;\n\n      & a {\n        text-decoration: underline;\n      }\n\n      & .pg-notification-content>svg {\n        overflow: initial;\n      }\n    ",close:"\n      cursor: pointer !important;\n      text-align: center;\n      text-decoration: none;\n      border-radius: 0.2222em;\n      padding: 0.4em 0.5em;\n      margin-right: 20px;\n    "},size:{small:{container:"\n        font-size: 0.8rem;\n      "},medium:{container:"\n        font-size: 1rem;\n      "},large:{container:"\n        font-size: 1.2rem;\n      "}},variant:{success:{container:"\n        background-color: #dff0d8;\n        border-color: #d6e9c6;\n        color: #2d4821;\n\n        & a {\n          color: #2b542c;\n        }\n      ",content:"\n        color: #2d4821;\n      ",close:"\n        color: #2d4821;\n        border: 1px solid #2d4821;\n\n        &:hover {\n          background: #2d4821;\n          color: #fff;\n        }\n      ",group:"\n        color: #2d4821;\n      "},info:{container:"\n        background-color: #d9eaf7;\n        border-color: #afd3ee;\n        color: #313132;\n\n        & a {\n          color: #1a5a96;\n        }\n      ",content:"\n        color: #313132;\n      ",close:"\n        color: #313132;\n        border: 1px solid #313132;\n\n        &:hover {\n          background: #313132;\n          color: #fff;\n        }\n      ",group:"\n        color: #313132;\n      "},warning:{container:"\n        background-color: #f9f1c6;\n        border-color: #faebcc;\n        color: #6c4a00;\n\n        & a {\n          color: #66512c;\n        }\n      ",content:"\n        color: #66512c;\n      ",close:"\n        color: #66512c;\n        border: 1px solid #66512c;\n\n        &:hover {\n          background: #66512c;\n          color: #fff;\n        }\n      ",group:"\n        color: #66512c;\n      "},danger:{container:"\n        background-color: #f2dede;\n        border-color: #ebccd1;\n        color: #a12622;\n\n        & a {\n          color: #843534;\n        }\n      ",content:"\n        color: #a12622;\n      ",close:"\n        color: #a12622;\n        border: 1px solid #a12622;\n\n        &:hover {\n          background: #a12622;\n          color: #fff;\n        }\n      ",group:"\n        color: #a12622;\n      "}},flex:{container:"\n      display: flex;\n    ",group:"\n      margin: auto 0.5rem;\n    "}},{defaultProps:{variant:"info",size:"medium",flex:!0},staticProps:[]},{group:{align:{left:"\n        margin-right: auto;\n    ",right:"\n        margin-left: auto;\n    "}}}),getIconPath=function(e){switch(e){case"success":return ec.CheckCircle;case"info":return ec.InfoCircle;case"warning":return ec.ExclamationTriangle;default:return ec.ExclamationCircle}};function Alert(e){return(0,el.jsxs)(eu,_objectSpread(_objectSpread({},e),{},{children:[(0,el.jsx)(eu.Group,{style:{marginTop:"1px"},children:(0,el.jsx)(ec.FaSVG,{children:(0,el.jsx)("path",{fill:"currentColor",d:getIconPath(e.variant)})})}),(0,el.jsx)(eu.Content,{children:e.content?e.content:e.children}),e.closable&&(0,el.jsx)(eu.Group,{align:"right",children:(0,el.jsx)(eu.Close,{children:"x"})})]}))}var ed=t(16835),ep=t(99603),eh=t(59417),ef=t(64735),eg=t(42894),ev=t(65088),ex=t(38447),em=t(32581),eb=t(32997),ej=t(60915),ey=t(49269),ew=t(95107),eS=t(74150),eZ=t(61864),eC=ei.ZP.div(o||(o=(0,en.Z)(["\n  text-align: center;\n"]))),eP=ei.ZP.div(c||(c=(0,en.Z)(["\n  color: #000;\n  font-size: ",";\n  font-weight: bold;\n"])),eb.n5),ek=ei.ZP.span(l||(l=(0,en.Z)(["\n  color: #3e3e3e;\n  font-size: 14px;\n  font-weight: 700;\n"]))),eI=ei.ZP.div(u||(u=(0,en.Z)(["\n  height: var(--field-top-spacing);\n"]))),e_=ei.ZP.div(d||(d=(0,en.Z)(["\n  font-size: 18px;\n  font-weight: bold;\n  color: #000;\n  border-bottom: 1px solid gray;\n"]))),eD=(0,ej.hU)(function(e){var n,t,r,a=e.integration,i=e.alert,s=(0,ea.useState)(!1),o=s[0],c=s[1],l=(n=(0,ee.Z)(er().mark(function _callee(e){var n,t,r,s;return er().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return c(!0),o.next=3,(0,ev.OV)(a.id,e);case 3:if(n=o.sent,r=(t=(0,ed.Z)(n,2))[0],s=t[1],c(!1),!s){o.next=11;break}return i.show({variant:"danger",content:"Failed to download installation"}),o.abrupt("return",null);case 11:return o.abrupt("return",r);case 12:case"end":return o.stop()}},_callee)})),function(e){return n.apply(this,arguments)}),u=(t=(0,ee.Z)(er().mark(function _callee2(e){var n;return er().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:(n=t.sent)&&(0,ex.TE)((0,ex.ON)(n));case 4:case"end":return t.stop()}},_callee2)})),function(e){return t.apply(this,arguments)}),d=(r=(0,ee.Z)(er().mark(function _callee3(e){var n;return er().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:(n=t.sent)&&(0,ex.Di)((0,ex.ON)(n),"".concat(a.projectName,"-installation-").concat(e,".json"));case 4:case"end":return t.stop()}},_callee3)})),function(e){return r.apply(this,arguments)});return o?(0,el.jsxs)(eC,{children:[(0,el.jsx)(eI,{}),(0,el.jsx)(eg.rj,{color:"#000",height:45,width:45,wrapperClass:"d-block",visible:!0})]}):(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)(eI,{}),(0,el.jsx)(e_,{children:"Installation JSONs"}),(0,el.jsx)("br",{}),(0,el.jsx)(ef.ZP,{cols:3,children:(0,em.Dy)(a).map(function(e){if("service-account"!==a.authType&&0===e.idps.length)return null;var n=e.idps.length>0?"(".concat(e.idps.map(function(e){return ew.S[e]}).join(", "),")"):"";return(0,el.jsxs)(ea.Fragment,{children:[(0,el.jsx)(ef.ZP.Row,{collapse:"992",gutter:[],align:"center",children:(0,el.jsx)(ef.ZP.Col,{span:1,style:{width:"100%",height:"30px"},children:(0,el.jsxs)(eP,{children:[e.display," ",n]})})}),(0,el.jsx)(ef.ZP.Row,{collapse:"992",gutter:[],align:"center",children:(0,el.jsxs)(ef.ZP.Col,{span:3,children:[(0,el.jsx)("button",{className:"primary",onClick:function(){return u(e.name)},children:"Copy"}),"\xa0",(0,el.jsx)("button",{className:"primary",onClick:function(){return d(e.name)},children:"Download"}),"\xa0\xa0",(0,el.jsx)(ep.G,{color:"green",icon:eh.f8k,title:"Ready"}),"\xa0",(0,el.jsx)(ek,{children:"Ready"})]})}),(0,el.jsx)("br",{})]},e.name)})}),(0,el.jsxs)(ey.$,{children:["For more information on how to use these details, or for the public endpoints associated to your client,"," ",(0,el.jsx)(eS.default,{href:"".concat(eZ.UN,"/integrating-your-application/installation-json"),external:!0,children:"click to learn more on our wiki page"}),"."]})]})}),eT=t(28084),eO=ei.ZP.div(p||(p=(0,en.Z)(["\n  height: var(--field-top-spacing);\n"]))),eN=ei.ZP.span(h||(h=(0,en.Z)(["\n  color: #000;\n  font-size: 1.1rem;\n  font-weight: bold;\n"])));(0,ei.ZP)(ep.G)(f||(f=(0,en.Z)(["\n  margin-right: 20px;\n"])));var eR=ei.ZP.div(g||(g=(0,en.Z)(["\n  margin-bottom: 5px;\n  display: flex;\n  align-items: center;\n"])));ei.ZP.hr(v||(v=(0,en.Z)(["\n  background-color: black;\n"])));var eE=(0,ej.hU)(function(e){var n,t=e.selectedRequest,r=e.alert,a=(0,ea.useState)(null),i=a[0],s=a[1],o=(0,em.Dy)(t),c=(0,ea.useState)(!1),l=c[0],u=c[1],openModal=function(e){s(e),u(!0)},d=(n=(0,ee.Z)(er().mark(function _callee(){var e,n,a,s,o,c;return er().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,ev.hU)(t.id,(null==i?void 0:i.name)||null);case 2:e=l.sent,a=(n=(0,ed.Z)(e,2))[0],o=(s=n[1])?"danger":"success",c=s?"Failed to regenerate secret":"Client Secret Successfully Updated",r.show({variant:o,fadeOut:1e4,closable:!0,content:c}),window.location.hash="#",console.error(a,s);case 11:case"end":return l.stop()}},_callee)})),function(){return n.apply(this,arguments)}),p=(0,el.jsxs)(el.Fragment,{children:[(0,el.jsxs)(eR,{children:[(0,el.jsxs)("strong",{children:["You are about to change your client secret for your ",null==i?void 0:i.display," environment."]})," "]}),(0,el.jsx)("br",{}),(0,el.jsx)("p",{children:"Once you change your secret, your previous secret will no longer be valid for any applications using it."}),(0,el.jsx)("p",{children:"This means you will need to update any applications using this client with the new JSON details before they are functional again."})]});return(0,el.jsxs)(el.Fragment,{children:[(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)(eO,{}),o.map(function(e){return(0,el.jsxs)(ea.Fragment,{children:[(0,el.jsxs)(eN,{children:[e.display,": "]}),!t.publicAccess&&(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)("br",{}),(0,el.jsx)("button",{className:"primary",type:"button",onClick:function(){return openModal(e)},children:"Change your client secret"})]}),(0,el.jsx)("br",{}),(0,el.jsx)("br",{})]},e.name)})]}),(0,el.jsx)(eT.Z,{id:"confirm-new-secret",content:p,onConfirm:d,icon:eh.eHv,buttonStyle:"primary",title:"You are about to change your client secret",openModal:l,handleClose:function(){return u(!1)},closable:!0})]})}),eF=t(20070),eA=t.n(eF),eB=t(85726),eL=t(85330),eU=t(23157),eM=t(10908),eG=t(43590),eq=t.n(eG);function CreateRoleContent_ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function CreateRoleContent_objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?CreateRoleContent_ownKeys(Object(t),!0).forEach(function(n){(0,es.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CreateRoleContent_ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var eK=ei.ZP.table(x||(x=(0,en.Z)(["\n  .env {\n    width: 300px;\n  }\n"]))),ez=ei.ZP.span(m||(m=(0,en.Z)(["\n  margin: 10px 0;\n  cursor: pointer;\n  & span {\n    margin-left: 5px;\n  }\n"]))),eH=ei.ZP.div(b||(b=(0,en.Z)(["\n  display: flex;\n  & > * {\n    padding-right: 0.5rem;\n  }\n"]))),eW=ei.ZP.div(j||(j=(0,en.Z)(["\n  padding-top: 10px;\n  padding-bottom: 10px;\n"]))),eV=ei.ZP.div(y||(y=(0,en.Z)(["\n  color: #ff0000;\n"]))),eY={name:"",envs:["dev"]},eJ=(0,ea.forwardRef)(function(e,n){var t,r=e.integrationId,a=e.environments,i=void 0===a?["dev"]:a,s=(0,ea.useState)(!1),o=s[0],c=s[1],l=(0,ea.useState)({}),u=l[0],d=l[1],p=(0,ea.useState)({}),h=p[0],f=p[1],g=(0,ea.useState)([eY]),v=g[0],x=g[1];(0,ea.useImperativeHandle)(n,function(){var e;return{submit:(e=(0,ee.Z)(er().mark(function _callee(){var e,n,t,a,i,s,l,p;return er().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return e=v,o&&(e=[],eq()(u,function(n,t){e.push({name:t,envs:n})})),h.next=4,(0,ev.tK)({integrationId:r,roles:e});case 4:if(n=h.sent,a=(t=(0,ed.Z)(n,2))[0],!t[1]){h.next=10;break}return h.abrupt("return",[!0,!1]);case 10:return i={},s={},l=!1,p=!1,eq()(a,function(e){e.failure.length>0&&eq()(e.failure,function(n){i[n]||(i[n]=[]),i[n].push(e.env),l=!0}),e.duplicate.length>0&&eq()(e.duplicate,function(n){s[n]||(s[n]=[]),s[n].push(e.env),p=!0})}),d(i),f(s),c(!0),h.abrupt("return",[l,p]);case 19:case"end":return h.stop()}},_callee)})),function(){return e.apply(this,arguments)}),reset:function(){x([eY]),d({}),f({}),c(!1)}}});var handleRemove=function(e){x(v.filter(function(n,t){return t!==e}))},handleNameChange=function(e,n){x(v.map(function(t,r){return r===e?{name:n,envs:t.envs}:t}))},m=(t=(0,ee.Z)(er().mark(function _callee2(e,n,t){return er().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:x(v.map(function(t,r){return r===e?{name:t.name,envs:n.map(function(e){return e.value})}:t}));case 2:case"end":return t.stop()}},_callee2)})),function(e,n,r){return t.apply(this,arguments)}),b=null;if(o){var j=null,y=null;Object.keys(h).length>0&&(j=(0,el.jsx)("tr",{children:(0,el.jsx)("td",{colSpan:3,children:(0,el.jsxs)(eH,{children:[(0,el.jsx)(eW,{children:(0,el.jsx)(ep.G,{icon:eh.sqG,color:"#17a2b8",title:"duplicated roles",size:"lg"})}),(0,el.jsx)(eW,{children:"There are duplicated roles and we've skipped adding them."})]})})})),Object.keys(u).length>0&&(y=(0,el.jsx)("tr",{children:(0,el.jsx)("td",{colSpan:3,children:(0,el.jsxs)(eH,{children:[(0,el.jsx)(eW,{children:(0,el.jsx)(ep.G,{icon:eh.eHv,color:"#dc3545",title:"failed roles",size:"lg"})}),(0,el.jsxs)(eW,{children:["We were unable to save some of your changes.",(0,el.jsx)("br",{}),(0,el.jsx)("div",{className:"fw-bold",children:"Please try submitting again."})]})]})})})),b=(0,el.jsxs)(el.Fragment,{children:[j,y]})}else b=(0,el.jsx)("tr",{children:(0,el.jsx)("td",{colSpan:3,children:v.length<20?(0,el.jsxs)(ez,{onClick:function(){x(v.concat(eY))},children:[(0,el.jsx)(ep.G,{style:{color:"#006fc4"},icon:eh.KtF,title:"Add Role"}),(0,el.jsx)("span",{children:"Add another role"})]}):(0,el.jsx)(eV,{children:"You can only create 20 roles at a time. Please save before creating any new roles."})})});return(0,el.jsx)("div",{children:(0,el.jsxs)(eK,{children:[(0,el.jsx)("thead",{children:(0,el.jsxs)("tr",{children:[(0,el.jsx)("th",{className:"role",children:"Role Name"}),(0,el.jsx)("th",{className:"env",children:"Environments"}),(0,el.jsx)("th",{})]})}),(0,el.jsxs)("tbody",{children:[v.length>0?v.map(function(e,n){var transformStyles=function(n,t){return u[e.name]&&u[e.name].includes(t.children)?CreateRoleContent_objectSpread(CreateRoleContent_objectSpread({},n),{},{color:"#fff",backgroundColor:"#dc3545"}):h[e.name]&&h[e.name].includes(t.children)?CreateRoleContent_objectSpread(CreateRoleContent_objectSpread({},n),{},{color:"#fff",backgroundColor:"#17a2b8"}):n};return(0,el.jsxs)("tr",{children:[(0,el.jsx)("td",{className:"role",children:(0,el.jsx)(eM.default,{size:"small","data-testid":"role-name-input-field",minLength:"2",maxLength:"100",value:e.name,disabled:o,onChange:function(e){return handleNameChange(n,e.target.value)}})}),(0,el.jsx)("td",{className:"env",children:(0,el.jsx)(eU.ZP,{value:e.envs.map(function(e){return{value:e,label:e}}),options:i.map(function(e){return{value:e,label:e}}),isMulti:!0,isDisabled:o,placeholder:"Select...",noOptionsMessage:function(){return"You selected all environments"},onChange:function(e,t){return m(n,e,t)},styles:{multiValueLabel:transformStyles,multiValue:transformStyles}})}),(0,el.jsx)("td",{children:!o&&v.length>1&&(0,el.jsx)(ez,{onClick:function(){return handleRemove(n)},children:(0,el.jsx)(ep.G,{style:{color:"#FF0303"},icon:eh.uMC,title:"Remove Role"})})})]},n)}):(0,el.jsx)("tr",{children:(0,el.jsx)("td",{colSpan:3,children:"No roles added."})}),b]})]})})}),e$=t(29519),eQ=t(5363),eX=t(20839),e0=ei.ZP.div(w||(w=(0,en.Z)(["\n  height: var(--field-top-spacing);\n"]))),my_dashboard_RoleManagement=function(e){var n,t=e.integration,r=(0,ea.useRef)(eB.V),a=(0,ea.useState)("dev"),i=a[0],s=a[1],o=(0,ea.useState)(!1),c=o[0],l=o[1],u=(0,ea.useState)(0),d=u[0],p=u[1],h=(0,ea.useContext)(eX.SurveyContext);(0,ea.useEffect)(function(){s("dev"),l((0,e$.Yr)(t))},[t.id]);var f=(null==t?void 0:t.environments)||[];return(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)(e0,{}),(0,el.jsx)("button",{disabled:!c,className:"primary",onClick:function(){r.current.open()},"data-testid":"create-role-button",children:"+ Create a New Role"}),(0,el.jsx)(e0,{}),(0,el.jsxs)(eL.mQ,{onChange:function(e){s(e)},activeKey:i,tabBarGutter:30,destroyInactiveTabPane:!0,children:[(0,el.jsx)("br",{}),f.map(function(e){return(0,el.jsx)(eL.OK,{tab:eA()(e),children:(0,el.jsx)(eQ.Z,{environment:e,integration:t},d)},e)})]}),(0,el.jsx)(eB.Z,{ref:r,title:"Create New Role",icon:null,onConfirm:(n=(0,ee.Z)(er().mark(function _callee(e){var n,t,a,i;return er().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.current.submit();case 2:if(n=s.sent,a=(t=(0,ed.Z)(n,2))[0],i=t[1],!a){s.next=11;break}return r.current.updateConfig({confirmButtonText:"Try Again"}),s.abrupt("return",!1);case 11:if(!i){s.next=17;break}return r.current.updateConfig({showConfirmButton:!1,cancelButtonText:"Close",buttonAlign:"right"}),p(function(e){return e+1}),s.abrupt("return",!1);case 17:return s.next=19,e.current.reset();case 19:p(function(e){return e+1}),null==h||h.setShowSurvey(!0,"createRole");case 21:case"end":return s.stop()}},_callee)})),function(e){return n.apply(this,arguments)}),onCancel:function(e){e.current.reset()},confirmButtonText:"Save",confirmButtonVariant:"primary",cancelButtonVariant:"secondary",style:{maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:(0,el.jsx)(eJ,{integrationId:t.id,environments:f})})]})},e1=t(27812),e2=t(29208),e3=t.n(e2),e5=t(93096),e4=t.n(e5),e8=t(34766),e7=t.n(e8),e6=t(75913),e9=t(89928),ne=t(75946),nn=t(20281),nt=(r=(0,ee.Z)(er().mark(function _callee(e){var n,t,r;return er().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.field,t=e.search,a.prev=1,a.next=4,nn.e.post("bceid-webservice/idir/search",{field:n,search:t}).then(function(e){return e.data});case 4:return r=a.sent,a.abrupt("return",[r,null]);case 8:return a.prev=8,a.t0=a.catch(1),console.error(a.t0),a.abrupt("return",[null,a.t0]);case 12:case"end":return a.stop()}},_callee,null,[[1,8]])})),function(e){return r.apply(this,arguments)}),nr=(a=(0,ee.Z)(er().mark(function _callee2(e){var n,t,r;return er().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.guid,t=e.userId,a.prev=1,a.next=4,nn.e.post("bceid-webservice/idir/import",{guid:n,userId:t}).then(function(e){return e.data});case 4:return r=a.sent,a.abrupt("return",[r,null]);case 8:return a.prev=8,a.t0=a.catch(1),console.error(a.t0),a.abrupt("return",[null,a.t0]);case 12:case"end":return a.stop()}},_callee2,null,[[1,8]])})),function(e){return a.apply(this,arguments)}),na=[{value:"idir",label:"IDIR"}],ni=[{value:"givenName",label:"First Name",allowed:["idir"]},{value:"surname",label:"Last Name",allowed:["idir"]},{value:"mail",label:"Email",allowed:["idir","bceidbasic","bceidbusiness"]},{value:"mailNickname",label:"Username",allowed:["idir","bceidbasic","bceidbusiness"]},{value:"guid",label:"IDP GUID",allowed:["bceidbasic","bceidbusiness"]}],ns=(0,ea.forwardRef)(function(e,n){e.key;var t,r,a=e.idp,i=e.property,s=e.search,o=e.infoModalRef,c=e.parentModalRef,l=(0,ea.useState)(!1),u=(l[0],l[1]),d=(0,ea.useState)(!1),p=d[0],h=d[1],f=(0,ea.useState)([]),g=f[0],v=f[1],x=(0,ea.useState)(""),m=x[0],b=x[1],j=(0,ea.useState)(i),y=j[0],w=j[1],S=(0,ea.useState)(s),Z=S[0],C=S[1],P=(0,ea.useState)(!1),k=P[0],I=P[1];(0,ea.useEffect)(function(){b(a)},[a]),(0,ea.useEffect)(function(){if(m){var e=ni.find(function(e){return e.value===y});if(null==e?void 0:e.allowed.includes(m))_(Z,y);else{var n=ni.find(function(e){return e.allowed.includes(m)});w((null==n?void 0:n.value)||""),C("")}}},[m]);var _=(t=(0,ee.Z)(er().mark(function _callee(e){var n,t,r,a,i=arguments;return er().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:y,!(e.length<2)){s.next=3;break}return s.abrupt("return");case 3:return h(!0),v([]),u(!0),s.next=8,nt({field:n,search:e});case 8:t=s.sent,a=(r=(0,ed.Z)(t,2))[0],r[1],a&&v(a),h(!1);case 14:case"end":return s.stop()}},_callee)})),function(e){return t.apply(this,arguments)}),D=(r=(0,ee.Z)(er().mark(function _callee2(e){var n,t;return er().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return I(!1),r.next=3,nr({guid:e.guid,userId:e.userId});case 3:n=r.sent,(t=(0,ed.Z)(n,2))[0],t[1]?I(!0):c.current.close({idp:m,guid:e.guid});case 8:case"end":return r.stop()}},_callee2)})),function(e){return r.apply(this,arguments)});return(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)(e6.Z,{searchPlaceholder:"Enter search criteria",variant:"mini",headers:[{accessor:"firstName",Header:"First name"},{accessor:"lastName",Header:"Last Name"},{accessor:"email",Header:"Email"},{accessor:"idirUsername",Header:"IDIR username"},{accessor:"actions",Header:"",disableSortBy:!0}],rowSelectorKey:"guid",data:g.map(function(e){return{guid:e.guid,firstName:e.firstName,lastName:e.lastName,email:e.email,idirUsername:e.userId,actions:(0,el.jsxs)(e9.c4,{children:[(0,el.jsx)(e9.Kk,{icon:eh.Mdf,role:"button","aria-label":"view",onClick:function(){o.current.open({guid:e.guid,attributes:{username:e.userId,displayName:e.displayName,firstName:e.firstName,lastName:e.lastName,email:e.email,telephone:e.phone,company:e.company,department:e.department,title:e.jobTitle},_hash:c.current.getId()})},title:"View",size:"lg"}),(0,el.jsx)(e9.Kk,{icon:eh.q7m,role:"button","aria-label":"import",onClick:function(){return D(e)},title:"Import",size:"lg"})]})}}),colfilters:[{value:m,multiselect:!1,onChange:b,options:na},{value:y,multiselect:!1,onChange:w,options:ni.filter(function(e){return e.allowed.includes(m)})}],showFilters:!0,loading:p,totalColSpan:20,searchColSpan:10,headerAlign:"bottom",headerGutter:[5,0],searchKey:Z,searchLocation:"right",onSearch:_,onEnter:_,noDataFoundElement:(0,el.jsx)("p",{children:"The user you searched for does not exist. Please try again, by entering the full search criteria."})}),k&&(0,el.jsx)("p",{className:"text-danger",children:"Failed to import the user. Please try again."})]})}),no=t(52586);function UserRoles_ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function UserRoles_objectSpread(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?UserRoles_ownKeys(Object(t),!0).forEach(function(n){(0,es.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):UserRoles_ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nc=ei.ZP.label(S||(S=(0,en.Z)(["\n  font-weight: bold;\n  margin-bottom: 2px;\n"]))),nl=ei.ZP.div(Z||(Z=(0,en.Z)(["\n  text-align: center;\n"]))),nu=ei.ZP.div(C||(C=(0,en.Z)(["\n  height: var(--field-top-spacing);\n"]))),nd=ei.ZP.div(P||(P=(0,en.Z)(["\n  display: flex;\n  & > * {\n    padding-right: 0.5rem;\n  }\n"]))),np=ei.ZP.div(k||(k=(0,en.Z)(["\n  padding-top: 10px;\n  padding-bottom: 10px;\n"]))),nh=ei.ZP.div(I||(I=(0,en.Z)(["\n  text-align: center;\n"]))),Loading=function(){return(0,el.jsxs)(nl,{children:[(0,el.jsx)(nu,{}),(0,el.jsx)(eg.rj,{color:"#000",height:45,width:45,wrapperClass:"d-block",visible:!0})]})},nf=[{value:"firstName",label:"First Name",search:!0,result:!0},{value:"lastName",label:"Last Name",search:!0,result:!0,style:{minWidth:"170px"}},{value:"email",label:"Email",search:!0,result:!0,style:{minWidth:"170px"}},{value:"guid",label:"IDP GUID",search:!0,result:!1}],ng=[{value:"firstName",label:"Display Name",search:!0,result:!0},{value:"lastName",label:"Username",search:!0,result:!0,style:{minWidth:"170px"}},{value:"email",label:"Email",search:!0,result:!0,style:{minWidth:"170px"}},{value:"guid",label:"IDP GUID",search:!0,result:!1}],nv=[{value:"firstName",label:"Name",search:!0,result:!0},{value:"lastName",label:"Login",search:!0,result:!0,style:{minWidth:"170px"}},{value:"email",label:"Email",search:!0,result:!0,style:{minWidth:"170px"}},{value:"guid",label:"IDP GUID",search:!0,result:!1}],nx={idir:nf,azureidir:nf,bceidbasic:ng,bceidbusiness:ng,bceidboth:ng,githubpublic:nv,githubbcgov:nv},nm=(0,ej.hU)(function(e){var n,t,r,a,i,s=e.selectedRequest,o=e.alert,c=(0,ea.useRef)(eB.V),l=(0,ea.useRef)(eB.V),u=(0,ea.useState)(!1),d=u[0],p=u[1],h=(0,ea.useState)(1),f=h[0],g=h[1],v=(0,ea.useState)(0),x=v[0],m=v[1],b=(0,ea.useState)(15),j=b[0],y=b[1],w=(0,ea.useState)(!1),S=w[0],Z=w[1],C=(0,ea.useState)(!1),P=C[0],k=C[1],I=(0,ea.useState)(!1),_=I[0],D=I[1],T=(0,ea.useState)(""),O=T[0],N=T[1],R=(0,ea.useState)([]),E=R[0],F=R[1],A=(0,ea.useState)([]),B=A[0],L=A[1],U=(0,ea.useState)([]),M=U[0],G=U[1],q=(0,ea.useState)([]),K=q[0],z=q[1],H=(0,ea.useState)("dev"),W=H[0],V=H[1],Y=(0,ea.useState)(s.devIdps[0]),J=Y[0],$=Y[1],Q=(0,ea.useState)(""),X=Q[0],en=Q[1],et=(0,ea.useState)(""),ei=et[0],es=et[1],eo=(0,ea.useState)(void 0),ec=eo[0],eu=eo[1],eg=(0,ea.useState)(!1),ex=eg[0],em=eg[1],eb=(0,ea.useContext)(eX.SurveyContext),ej=(0,ea.useCallback)(e4()((n=(0,ee.Z)(er().mark(function _callee(e){var n,t;return er().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,D(!0);case 2:return N("Assigning role..."),em(!1),r.next=6,(0,ev.$C)({environment:W,integrationId:s.id,username:ec,roleNames:e});case 6:if(n=r.sent,t=(0,ed.Z)(n,2)[1],D(!1),t){r.next=16;break}return N("Last saved at ".concat(new Date().toLocaleString())),null==eb||eb.setShowSurvey(!0,"addUserToRole"),r.abrupt("return",!0);case 16:return em(!0),N("Failed to update roles."),r.abrupt("return",!1);case 19:case"end":return r.stop()}},_callee)})),function(e){return n.apply(this,arguments)}),2e3,{trailing:!0}),[null==s?void 0:s.id,W,ec,eb]),ey=(t=(0,ee.Z)(er().mark(function _callee2(){var e,n,t;return er().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Z(!0);case 4:return r.next=6,(0,ev.gE)({environment:W,integrationId:s.id,first:0,max:1e3});case 6:e=r.sent,t=(n=(0,ed.Z)(e,2))[0],n[1]&&o.show({variant:"danger",content:"Failed to fetch roles."}),L(null===t?[]:t.map(function(e){return e.name})),z(null===t?[]:t.map(function(e){return e.composite})),Z(!1);case 15:case"end":return r.stop()}},_callee2)})),function(){return t.apply(this,arguments)}),reset=function(){F([]),G([]),g(1),m(0),eu(void 0),p(!1)},resetSearchOptions=function(){if(es(""),V("dev"),s.devIdps){var e=s.devIdps.length>0?s.devIdps[0]:"";$(e);var n=nx[e]||[];n.length>0&&en(n[0].value)}},eS=(r=(0,ee.Z)(er().mark(function _callee3(e){var n,t,r;return er().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,k(!0);case 2:return a.next=4,(0,ev.nu)({environment:W,integrationId:s.id,username:e});case 4:if(n=a.sent,r=(t=(0,ed.Z)(n,2))[0],!t[1]){a.next=12;break}return o.show({variant:"danger",content:"Failed to fetch user roles."}),k(!1),a.abrupt("return");case 12:return a.next=14,G(r||[]);case 14:k(!1);case 15:case"end":return a.stop()}},_callee3)})),function(e){return r.apply(this,arguments)});(0,ea.useEffect)(function(){reset(),resetSearchOptions(),L([])},[s.id]),(0,ea.useEffect)(function(){eZ(ei,void 0,f)},[f]),(0,ea.useEffect)(function(){eZ(ei,void 0,1)},[j]),(0,ea.useEffect)(function(){reset(),ey(),s.devIdps&&$(s.devIdps.length>0?s.devIdps[0]:"")},[W]),(0,ea.useEffect)(function(){reset();var e=nx[J]||[];!e.find(function(e){return e.search&&e.value===X})&&e.length>0&&en(e[0].value)},[J]),(0,ea.useEffect)(function(){N(""),ec&&eS(ec)},[ec]);var eZ=(a=(0,ee.Z)(er().mark(function _callee4(e){var n,t,r,a,i,c=arguments;return er().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:X,t=c.length>2&&void 0!==c[2]?c[2]:f,!(e.length<2)){l.next=4;break}return l.abrupt("return");case 4:return Z(!0),es(e),g(t),en(n),F([]),G([]),eu(void 0),l.next=13,(0,ev.sp)({environment:W,idp:J,property:n,searchKey:e,integrationId:s.id||-1});case 13:if(r=l.sent,i=(a=(0,ed.Z)(r,2))[0],a[1]&&o.show({variant:"danger",content:"Failed to fetch users."}),i){var u;p(!0),F((u=t,i.rows.slice((u-1)*15,15*u))),m(i.count)}Z(!1);case 20:case"end":return l.stop()}},_callee4)})),function(e){return a.apply(this,arguments)}),handleSearch=function(e){return eZ(e,void 0,1)},eC=(i=(0,ee.Z)(er().mark(function _callee5(e,n){var t,r;return er().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],"clear"===n.action||(t="remove-value"===n.action?M.filter(function(e){var t;return e!==(null===(t=n.removedValue)||void 0===t?void 0:t.value)}):"pop-value"===n.action?(0,e1.Z)(M.slice(0,-1)):[].concat((0,e1.Z)(M),[null===(r=n.option)||void 0===r?void 0:r.value])),!(t.length!==M.length)){e.next=7;break}return e.next=5,ej(t);case 5:e.sent&&G(t);case 7:case"end":return e.stop()}},_callee5)})),function(e,n){return i.apply(this,arguments)}),eP=null;P?eP=(0,el.jsx)(Loading,{}):ec&&(eP=(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)(nc,{children:"2. Assign User to a Role"}),(0,el.jsx)(eU.ZP,{value:M.map(function(e){return{value:e,label:e}}),options:B.map(function(e,n){return{value:e,label:!0==K[n]?"".concat(e," (Composite role)"):e}}),isMulti:!0,placeholder:"Select...",noOptionsMessage:function(){return"No roles"},onChange:eC,"data-testid":"user-role-select"}),(0,el.jsx)(eL.Ad,{saving:_,content:O,variant:ex?"error":"success"})]}));var ek="idir"===J,eI=nx[J]||[],e_=eI.length>0?eI.filter(function(e){return e.result}):[],eD=null;d&&ek&&(eD=(0,el.jsxs)(el.Fragment,{children:[E.length>0&&(0,el.jsx)(eL.XU,{italic:!0,children:"If you did not find the user you were looking for, you can try searching for the user in our IDIM Web Service Lookup tool. This tool uses a webservice to find IDIR users. so you will need to import the user that is found."}),(0,el.jsx)("button",{type:"button",className:"primary",style:{marginTop:"0.5rem"},"data-testid":"idim-search-button",onClick:function(){return l.current.open({key:new Date().getTime().toString(),idp:"idir",property:X,search:ei})},children:"Search in IDIM Web Service Lookup"})]}));var eT=(null==s?void 0:s.environments)||[],eO=(null==s?void 0:s.devIdps)||[],eN="guid"===X||null!=J&&J.startsWith("bceid")?"Exact text match results will be displayed":"Partial text match results will be displayed",getTableHeaderLabel=function(e){var n=eI.find(function(n){return n.value===e});return null==n?void 0:n.label.toString()};return(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)(nu,{}),(0,el.jsx)(ef.ZP,{cols:10,children:(0,el.jsxs)(ef.ZP.Row,{collapse:"1100",gutter:[15,2],children:[(0,el.jsxs)(ef.ZP.Col,{span:6,children:[(0,el.jsxs)(eL.h4,{variant:"dark",size:"sm",children:["1. Search for a user based on the selection criteria below \xa0",(0,el.jsx)(no.Z,{title:"",content:"When searching BCeID GUID, please ensure your end users has logged in via your app (and indirectly our IDP) for this search to be successful.",hide:200})]}),(0,el.jsx)("div",{"data-testid":"role-search-table",children:(0,el.jsx)(e6.Z,{searchPlaceholder:"Enter search criteria",variant:"mini",rowSelectorKey:"username",headers:[{accessor:"firstName",Header:getTableHeaderLabel("firstName")||""},{accessor:"lastName",Header:getTableHeaderLabel("lastName")||""},{accessor:"email",Header:"Email"},{accessor:"actions",Header:"",disableSortBy:!0}],data:E.map(function(e){return{username:e3()(e,"username"),firstName:e3()(e,"firstName"),lastName:e3()(e,"lastName"),email:e3()(e,"email"),actions:(0,el.jsx)(e9.c4,{children:(0,el.jsx)(e9.Kk,{icon:eh.Mdf,role:"button","aria-label":"view",onClick:function(n){n.stopPropagation(),c.current.open({guid:e.username.split("@")[0],attributes:UserRoles_objectSpread(UserRoles_objectSpread({},e7()(e_,function(n,t){return n[t.label]=e3()(e,t.value),n},{})),e.attributes)})},title:"View",size:"lg"})})}}),colfilters:[{key:"user-role-filter-env",value:W,multiselect:!1,onChange:V,options:eT.map(function(e){return{value:e,label:eA()(e)}})},{key:"user-role-filter-idp",value:J,multiselect:!1,onChange:$,options:eO.filter(function(e){return!["digitalcredential","bcservicescard"].includes(e)}).map(function(e){return{value:e,label:ew.S[e]}})},{key:"user-role-filter-prop",value:X,multiselect:!1,onChange:en,options:eI.filter(function(e){return e.search})}],showFilters:!0,loading:S,totalColSpan:20,searchColSpan:10,headerAlign:"bottom",headerGutter:[5,0],searchKey:ei,searchLocation:"right",onSearch:handleSearch,onEnter:handleSearch,noDataFoundElement:d?(0,el.jsxs)(nd,{children:[(0,el.jsx)(np,{children:(0,el.jsx)(ep.G,{icon:eh.RLE,color:"#D44331",title:"Edit",size:"lg"})}),ek?(0,el.jsx)(np,{children:"The user you searched for does not exist. Please try again, by entering the full search criteria or try using our IDIM Web Service Lookup tool."}):(0,el.jsx)(np,{children:"The user you searched for does not exist. Please try again, by entering the full search criteria."})]}):(0,el.jsx)(nh,{children:"You have not searched for any users yet."}),pagination:!0,pageLimits:[15],onPage:g,rowCount:x,limit:j,onLimit:function(e){y(e)},activateRow:function(e){eu(e.original.username)},searchTooltip:eN})}),eD]}),(0,el.jsx)(ef.ZP.Col,{span:4,children:eP})]})}),(0,el.jsx)(ne.Z,{modalRef:c}),(0,el.jsx)(eB.Z,{ref:l,id:"idim-webservice-lookup",title:"IDIM Web Service Lookup",icon:null,onClose:function(e,n,t){eZ(t.guid,"guid",1)},cancelButtonText:"Close",cancelButtonVariant:"primary",showConfirmButton:!1,buttonAlign:"right",style:{minWidth:"800px",maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:function(e){return e?(0,el.jsx)(ns,{idp:e.idp,property:e.property,search:e.search,infoModalRef:c,parentModalRef:l},e.key):(0,el.jsx)(el.Fragment,{})}})]})}),nb=t(68401),nj=t(2697),ny=t(1389),nw=t(49206);function UserEventPanel(e){var n,t=e.requestId,r=(0,ea.useState)(!1),a=r[0],i=r[1],s=(0,ea.useState)(!1),o=s[0],c=s[1],l=(0,ea.useState)([]),u=l[0],d=l[1],p=(n=(0,ee.Z)(er().mark(function _callee(){var e,n,r;return er().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return");case 2:return i(!0),a.next=5,(0,nj.v)({requestId:t,eventCode:"request-update-success",clearNotifications:!0});case 5:e=a.sent,r=(n=(0,ed.Z)(e,2))[0],n[1]?c(!0):r&&d(r.rows),i(!1);case 11:case"end":return a.stop()}},_callee)})),function(){return n.apply(this,arguments)});return((0,ea.useEffect)(function(){p()},[t]),o)?(0,el.jsx)(Alert,{variant:"warning",content:"Failed to load details."}):a?(0,el.jsx)(ny.Z,{}):(0,el.jsx)(el.Fragment,{children:(0,el.jsx)(nw.Z,{events:u})})}var nS=t(66496),nZ=t(71431),nC=t.n(nZ),nP=ei.ZP.ul(_||(_=(0,en.Z)(["\n  list-style-type: none;\n  margin: 0;\n  position: relative;\n\n  & li {\n    border-bottom: 1px solid #d4d4d4;\n    & svg.svg-inline--fa {\n      position: absolute;\n      right: 0;\n    }\n\n    & div.icon {\n      position: absolute;\n      right: 0;\n      bottom: 5px;\n    }\n  }\n"]))),nk=ei.ZP.div(D||(D=(0,en.Z)(["\n  font-size: 18px;\n  font-weight: bold;\n  color: #000;\n  border-bottom: 1px solid gray;\n"]))),nI=ei.ZP.div(T||(T=(0,en.Z)(["\n  display: flex;\n  justify-content: flex-start;\n\n  & > *:nth-child(1) {\n    margin-right: 5px;\n  }\n"]))),n_="15px",nD=ei.ZP.div(O||(O=(0,en.Z)(["\n  height: ",";\n  width: ",";\n  border-radius: ",";\n  margin: ",";\n  margin-left: 0;\n  border: 2px solid #b3b3b3;\n"])),n_,n_,n_,"0"),nT=ei.ZP.li(N||(N=(0,en.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0;\n\n  & p {\n    max-width: 90%;\n    margin: 5px 0;\n  }\n"]))),ApprovedAndAvailable=function(){return(0,el.jsxs)(nI,{children:[(0,el.jsx)("div",{children:(0,el.jsx)(ep.G,{icon:eh.f8k,color:"#2E8540"})}),(0,el.jsx)("div",{children:(0,el.jsx)("span",{children:"Your integration is approved and available."})})]})};function Bceidstatus(){return(0,el.jsx)(el.Fragment,{children:(0,el.jsxs)(nP,{children:[(0,el.jsxs)(nT,{children:["Requirements email sent to IDIM",(0,el.jsx)(ep.G,{icon:eh.f8k,color:"#00C45B"})]}),(0,el.jsxs)(nT,{children:[(0,el.jsxs)("p",{children:["Please reach out to IDIM if you do not hear back within the next 2-3 business days (",(0,el.jsx)(eS.default,{href:"mailto:IDIM.Consulting@gov.bc.ca",children:"IDIM.Consulting@gov.bc.ca"}),")"]}),(0,el.jsx)(ep.G,{icon:eh.FU$,color:"#b3b3b3"})]}),(0,el.jsxs)(nT,{children:[(0,el.jsx)("p",{children:"Access to prod"}),(0,el.jsx)(nD,{})]})]})})}var IntegrationInfoTabs_BceidStatusPanel=function(e){var n=e.approvalContext,t=n.hasProd,r=n.hasBceid,a=n.awaitingBceidProd,i=n.bceidApproved;if(!t||!r)return null;var s=null;return i?s=(0,el.jsx)(ApprovedAndAvailable,{}):a&&(s=(0,el.jsx)(Bceidstatus,{})),(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)("br",{}),(0,el.jsx)(nk,{children:"Access to BCeID Prod"}),(0,el.jsx)("br",{}),s]})};function GithubStatus_Bceidstatus(){return(0,el.jsx)(el.Fragment,{children:(0,el.jsxs)(nP,{children:[(0,el.jsxs)(nT,{children:["Requirements email sent to GCIO",(0,el.jsx)(ep.G,{icon:eh.f8k,color:"#00C45B"})]}),(0,el.jsxs)(nT,{children:[(0,el.jsx)("p",{children:"Access to prod"}),(0,el.jsx)(nD,{})]})]})})}var IntegrationInfoTabs_GithubStatusPanel=function(e){var n=e.approvalContext,t=n.hasProd,r=n.hasGithub,a=n.awaitingGithubProd,i=n.githubApproved;if(!t||!r)return null;var s=null;return i?s=(0,el.jsx)(ApprovedAndAvailable,{}):a&&(s=(0,el.jsx)(GithubStatus_Bceidstatus,{})),(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)("br",{}),(0,el.jsx)(nk,{children:"Access to GitHub Prod"}),(0,el.jsx)("br",{}),s]})},nO=t(46323),nN=t(89678),nR=t(34798),nE=t.n(nR),nF=ei.ZP.label(R||(R=(0,en.Z)(["\n  font-weight: bold;\n  margin-bottom: 2px;\n"])));ei.ZP.div(E||(E=(0,en.Z)(["\n  background-color: #f1f1f1;\n  margin: 2px 0 2px 0;\n  padding: 4px 6px;\n  ","\n"])),function(e){return e.width?"width: ".concat(e.width,";"):"width: 300px;"});var nA=ei.ZP.div(F||(F=(0,en.Z)(["\n  text-align: center;\n"]))),nB=ei.ZP.div(A||(A=(0,en.Z)(["\n  height: var(--field-top-spacing);\n"]))),ServiceAccountRoles_Loading=function(){return(0,el.jsxs)(nA,{children:[(0,el.jsx)(nB,{}),(0,el.jsx)(eg.rj,{color:"#000",height:45,width:45,wrapperClass:"d-block",visible:!0})]})},nL=(0,ej.hU)(function(e){var n,t,r,a,i=e.selectedRequest,s=e.alert,o=(0,ea.useState)(!1),c=(o[0],o[1]),l=(0,ea.useState)(!1),u=l[0],d=l[1],p=(0,ea.useState)(!1),h=p[0],f=p[1],g=(0,ea.useState)(""),v=g[0],x=g[1],m=(0,ea.useState)([]),b=m[0],j=m[1],y=(0,ea.useState)([]),w=y[0],S=y[1],Z=(0,ea.useState)(void 0),C=Z[0];Z[1];var P=(0,ea.useState)("dev"),k=P[0],I=P[1],_=(0,ea.useState)(!1),D=_[0],T=_[1],O=(null==i?void 0:i.environments)||[],N=(0,ea.useCallback)(e4()((n=(0,ee.Z)(er().mark(function _callee(e){var n,t;return er().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return f(!0),x("Assigning role..."),T(!1),r.next=5,(0,ev.$C)({environment:k,integrationId:i.id,username:(0,nN.Sf)(i.clientId),roleNames:e});case 5:if(n=r.sent,t=(0,ed.Z)(n,2)[1],f(!1),!t){r.next=15;break}return T(!0),x("Failed to update roles."),r.abrupt("return",!1);case 15:return x("Last saved at ".concat(new Date().toLocaleString())),r.abrupt("return",!0);case 17:case"end":return r.stop()}},_callee)})),function(e){return n.apply(this,arguments)}),2e3,{trailing:!0}),[null==i?void 0:i.id,k,C]),R=(t=(0,ee.Z)(er().mark(function _callee2(e,n){var t,r;return er().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],"clear"===n.action||(t="remove-value"===n.action?w.filter(function(e){var t;return e!==(null===(t=n.removedValue)||void 0===t?void 0:t.value)}):"pop-value"===n.action?(0,e1.Z)(w.slice(0,-1)):[].concat((0,e1.Z)(w),[null===(r=n.option)||void 0===r?void 0:r.value])),!(w.length!==t.length)){e.next=7;break}return e.next=5,N(t);case 5:e.sent&&S(t);case 7:case"end":return e.stop()}},_callee2)})),function(e,n){return t.apply(this,arguments)}),E=(r=(0,ee.Z)(er().mark(function _callee3(){var e,n,t;return er().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,c(!0);case 4:return r.next=6,(0,ev.gE)({environment:k,integrationId:i.id,first:0,max:1e3});case 6:e=r.sent,t=(n=(0,ed.Z)(e,2))[0],n[1]&&s.show({variant:"danger",content:"Failed to fetch roles."}),j(null===t?[]:t.map(function(e){return e.name})),c(!1);case 14:case"end":return r.stop()}},_callee3)})),function(){return r.apply(this,arguments)}),F=(a=(0,ee.Z)(er().mark(function _callee4(e){var n,t,r;return er().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d(!0);case 2:return a.next=4,(0,ev.nu)({environment:k,integrationId:i.id,username:e});case 4:if(n=a.sent,r=(t=(0,ed.Z)(n,2))[0],!t[1]){a.next=12;break}return s.show({variant:"danger",content:"Failed to fetch roles."}),d(!1),a.abrupt("return");case 12:return a.next=14,S(r||[]);case 14:d(!1);case 15:case"end":return a.stop()}},_callee4)})),function(e){return a.apply(this,arguments)});return(0,ea.useEffect)(function(){E(),x(""),F((0,nN.Sf)(i.clientId))},[k]),(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)(nO.Z,{children:(0,el.jsx)(eL.bZ,{variant:"info",closable:!1,"data-testid":"assign-svc-acct-role-risk-alert",children:(0,el.jsxs)("span",{className:"normal",children:["There may be a security risk if you rely on client roles of a service account,"," ",(0,el.jsx)(eS.default,{external:!0,href:(0,eZ.eO)("Creating-a-Role#service-account-role-management"),children:"click to visit our wiki page"})]})})}),(0,el.jsxs)(eL.mQ,{onChange:function(e){I(e)},activeKey:k,tabBarGutter:30,destroyInactiveTabPane:!0,children:[(0,el.jsx)("br",{}),O.map(function(e){return(0,el.jsx)(eL.OK,{tab:eA()(e),children:(0,el.jsx)(ef.ZP,{cols:10,children:(0,el.jsxs)(ef.ZP.Row,{collapse:"1100",gutter:[15,2],children:[(0,el.jsx)(ef.ZP.Col,{span:5,children:(0,el.jsx)(e6.Z,{headers:[{accessor:"projectName",Header:"Service Account"}],data:[{projectName:i.projectName}],colfilters:[],activateRow:nE(),rowSelectorKey:"projectName"})}),(0,el.jsx)(ef.ZP.Col,{span:5,children:u?(0,el.jsx)(ServiceAccountRoles_Loading,{}):(0,el.jsxs)("div",{children:[(0,el.jsx)(nF,{children:"Assign Service Account to a Role"}),(0,el.jsx)("div",{"data-testid":"assign-svc-acct-to-role-select",children:(0,el.jsx)(eU.ZP,{value:w.map(function(e){return{value:e,label:e}}),options:b.map(function(e){return{value:e,label:e}}),isMulti:!0,placeholder:"Select...",noOptionsMessage:function(){return"No roles"},onChange:R})}),(0,el.jsx)(eL.Ad,{saving:h,content:v,variant:D?"error":"success"})]})})]})})},e)})]})]})});function BcServicesCardStatus(){return(0,el.jsx)(el.Fragment,{children:(0,el.jsxs)(nP,{children:[(0,el.jsxs)(nT,{children:["Requirements email sent to IDIM",(0,el.jsx)(ep.G,{icon:eh.f8k,color:"#00C45B"})]}),(0,el.jsxs)(nT,{children:[(0,el.jsxs)("p",{children:["Please reach out to IDIM if you do not hear back within the next 2-3 business days (",(0,el.jsx)(eS.default,{href:"mailto:IDIM.Consulting@gov.bc.ca",children:"IDIM.Consulting@gov.bc.ca"}),")"]}),(0,el.jsx)(ep.G,{icon:eh.FU$,color:"#b3b3b3"})]}),(0,el.jsxs)(nT,{children:[(0,el.jsx)("p",{children:"Access to prod"}),(0,el.jsx)(nD,{})]})]})})}var IntegrationInfoTabs_BcServicesCardStatusPanel=function(e){var n=e.approvalContext,t=n.hasProd,r=n.hasBcServicesCard,a=n.awaitingBcServicesCardProd,i=n.bcServicesCardApproved;if(!t||!r)return null;var s=null;return i?s=(0,el.jsx)(ApprovedAndAvailable,{}):a&&(s=(0,el.jsx)(BcServicesCardStatus,{})),(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)("br",{}),(0,el.jsx)(nk,{children:"Access to BC Services Card Prod"}),(0,el.jsx)("br",{}),s]})},nU=t(29009),nM=t(41087),nG=t(14195),nq=t(3023),nK=t(75358),nz=t(26050),nH=t(33558),nW=t(18242),nV=t(84642),nY=(i=(0,ee.Z)(er().mark(function _callee(e,n,t,r){var a;return er().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nn.e.get("requests/".concat(e,"/metrics?env=").concat(n,"&fromDate=").concat(t,"&toDate=").concat(r)).then(function(e){return null==e?void 0:e.data});case 3:return a=i.sent,i.abrupt("return",[a,null]);case 7:return i.prev=7,i.t0=i.catch(0),console.error(i.t0),i.abrupt("return",[null,i.t0]);case 11:case"end":return i.stop()}},_callee,null,[[0,7]])})),function(e,n,t,r){return i.apply(this,arguments)}),nJ=(s=(0,ee.Z)(er().mark(function _callee2(e,n,t,r,a,i){var s;return er().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,nn.e)({url:"requests/".concat(e,"/logs?env=").concat(n,"&start=").concat(t,"&end=").concat(r),responseType:"blob",onDownloadProgress:a,signal:null==i?void 0:i.signal}).then(function(e){return{data:null==e?void 0:e.data,message:null==e?void 0:e.headers["x-message"]}});case 3:return s=o.sent,o.abrupt("return",[s,null]);case 7:return o.prev=7,o.t0=o.catch(0),o.abrupt("return",[null,o.t0]);case 10:case"end":return o.stop()}},_callee2,null,[[0,7]])})),function(e,n,t,r,a,i){return s.apply(this,arguments)}),n$=t(9198),nQ=t.n(n$);t(35890);var nX=t(31879);function DateTimePicker_ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function DateTimePicker(e){return(0,el.jsx)(el.Fragment,{children:(0,el.jsx)(nQ(),function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?DateTimePicker_ownKeys(Object(t),!0).forEach(function(n){(0,es.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):DateTimePicker_ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({dateFormat:"yyyy-MM-dd",customInput:(0,el.jsx)(DateTimeInput,{label:e.label}),enableTabLoop:!1,popperPlacement:"bottom-start",maxDate:new Date},e))})}function DateTimeInput(e){var n=e.value,t=e.onClick,r=e.label;return(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)(nX.Z,{style:{fontWeight:"bold"},children:r}),(0,el.jsxs)("div",{className:"input-group",children:[(0,el.jsx)("input",{type:"text",className:"form-control",value:n,onClick:t,readOnly:!0}),(0,el.jsx)("div",{className:"input-group-append",children:(0,el.jsx)("span",{className:"input-group-text",style:{height:"100%"},children:(0,el.jsx)(ep.G,{icon:eh.fT7})})})]})]})}var n0=t(9206),n1=ei.ZP.div(B||(B=(0,en.Z)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  padding-right: 15px;\n  & > * {\n    margin-left: 15px;\n  }\n"])));ei.ZP.label(L||(L=(0,en.Z)(["\n  margin-bottom: 2px;\n"])));var n2=ei.ZP.div(U||(U=(0,en.Z)(["\n  height: var(--field-top-spacing);\n"])));ei.ZP.span(M||(M=(0,en.Z)(["\n  color: #000;\n  font-size: 1.1rem;\n  font-weight: bold;\n"]))),(0,ei.ZP)(ep.G)(G||(G=(0,en.Z)(["\n  margin-right: 20px;\n"]))),ei.ZP.div(q||(q=(0,en.Z)(["\n  margin-bottom: 5px;\n  display: flex;\n  align-items: center;\n"]))),ei.ZP.hr(K||(K=(0,en.Z)(["\n  background-color: black;\n"])));var getFormattedDateString=function(e){return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())},n3="December 01, 2023",n5=(0,ej.hU)(function(e){var n,t=e.integration,r=e.alert,a=(0,ea.useState)("dev"),i=a[0],s=a[1],o=(null==t?void 0:t.environments)||[],c=(0,ea.useState)([]),l=c[0],u=c[1],d=(0,ea.useState)(!1);d[0],d[1];var p=(0,ea.useState)((0,em.F3)(14)),h=p[0],f=p[1],g=(0,ea.useState)(new Date),v=g[0],x=g[1],m=(0,ea.useContext)(eX.SurveyContext),handleFromDateChange=function(e){f(e)},handleToDateChange=function(e){x(e)},b=(0,ea.useCallback)(e4()((n=(0,ee.Z)(er().mark(function _callee(e,n,a){var i,s,o;return er().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,nY(null==t?void 0:t.id,a,e,n);case 2:i=c.sent,o=(s=(0,ed.Z)(i,2))[0],s[1]?r.show({variant:"danger",content:"Failed to fetch metrics"}):(u(o),o.length>0&&(null==m||m.setShowSurvey(!0,"viewMetrics")));case 7:case"end":return c.stop()}},_callee)})),function(e,t,r){return n.apply(this,arguments)})),[null==t?void 0:t.clientId,i,h,v]);return(0,ea.useEffect)(function(){b(getFormattedDateString(h),getFormattedDateString(v),i)},[null==t?void 0:t.clientId,i,h,v]),(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)(n2,{}),(0,el.jsx)("div",{children:(0,el.jsxs)(n1,{children:[(0,el.jsx)(DateTimePicker,{placeholderText:"Start Date",selected:new Date(h),onChange:function(e){return handleFromDateChange(e)},minDate:new Date(n3),maxDate:v,label:"Start Date"}),(0,el.jsx)(DateTimePicker,{placeholderText:"End Date",selected:new Date(v),onChange:function(e){return handleToDateChange(e)},minDate:h,label:"End Date"})]})}),(0,el.jsxs)(eL.mQ,{onChange:function(e){s(e)},activeKey:i,tabBarGutter:30,destroyInactiveTabPane:!0,children:[(0,el.jsx)("br",{}),o.map(function(e){return(0,el.jsx)(eL.OK,{tab:eA()(e),children:(0,el.jsx)("div",{style:{width:"100%",height:300},children:(null==l?void 0:l.length)>0?(0,el.jsx)(nU.h,{children:(0,el.jsxs)(nM.v,{data:l,margin:{top:20,right:20,bottom:30,left:20},children:[(0,el.jsx)(nG.q,{strokeDasharray:"3 3"}),(0,el.jsx)(nq.K,{dataKey:"event",tick:{fontSize:10},label:{value:"Events",position:"insideBottomRight"}}),(0,el.jsx)(nK.B,{dataKey:"count",label:{value:"Count",angle:-90,position:"insideLeft"}}),(0,el.jsx)(nz.u,{}),(0,el.jsx)(nH.D,{}),(0,el.jsx)(nW.$,{dataKey:"count",fill:"#0d6efd",barSize:30,label:{fill:"#0d6efd",fontSize:20,position:"top"},background:{fill:"#eee"}})]})}):(0,el.jsx)("div",{style:{textAlign:"center"},children:(0,el.jsx)(nV.x,{children:"No data available yet!"})})})},e)})]}),(0,el.jsxs)(ey.$,{children:["This tab was released ",n3,". Please refer to"," ",(0,el.jsx)(n0.rU,{href:"https://access.redhat.com/documentation/en-us/red_hat_single_sign-on/7.4/html/server_administration_guide/auditing_and_events#event_types",external:!0,children:"Redhat's definition"})," ","for event type details."]})]})}),n4=ei.ZP.div(z||(z=(0,en.Z)(["\n  display: flex;\n  flex-direction: row;\n  column-gap: 1.5em;\n  justify-content: center;\n  min-width: 20em;\n  margin: 0;\n  padding: 0;\n"]))),n8=ei.ZP.form(H||(H=(0,en.Z)(["\n  display: flex;\n  flex-direction: column;\n  row-gap: 1.5em;\n\n  .header {\n    margin-top: 1em;\n    display: flex;\n    align-items: center;\n    p {\n      font-weight: bold;\n      padding-right: 0.4em;\n      margin: 0;\n      font-size: 18px;\n    }\n  }\n\n  .bold {\n    font-weight: bold;\n  }\n\n  .env-controls {\n    margin: 0;\n    legend {\n      font-size: unset;\n      font-weight: bold;\n    }\n\n    input {\n      margin-right: 0.2em;\n    }\n\n    label {\n      margin-right: 1em;\n    }\n  }\n\n  .date-picker-container {\n    height: 100%;\n    display: flex;\n    align-items: center;\n    column-gap: 1em;\n  }\n\n  select {\n    margin-left: 0.5em;\n    width: 200px;\n  }\n\n  .button-container {\n    display: flex;\n    flex-diretion: row;\n    align-items: center;\n\n    p {\n      margin: 0;\n      margin-left: 1em;\n    }\n  }\n\n  .error-text {\n    font-size: 14px;\n    color: red;\n    margin: 0;\n    height: 1em;\n  }\n"]))),saveTemplateAsFile=function(e,n){var t=document.createElement("a");t.download=e,t.href=window.URL.createObjectURL(n),t.dataset.downloadurl=["text/json",t.download,t.href].join(":");var r=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});t.dispatchEvent(r),t.remove()},n7={dev:"Development",test:"Test",prod:"Production"},n6=new Date("February 13, 2024"),n9=(0,ej.hU)(function(e){var n,t=e.integration,r=e.alert,a=(0,ea.useState)("dev"),i=a[0],s=a[1],o=(null==t?void 0:t.environments)||[],c=(0,ea.useState)(!1),l=c[0],u=c[1],d=(0,ea.useState)((0,em.F3)(1)),p=d[0],h=d[1],f=(0,ea.useState)(new Date),g=f[0],v=f[1],x=(0,ea.useState)(""),m=x[0],b=x[1],j=(0,ea.useState)(0),y=j[0],w=j[1],S=(0,ea.useState)(new Date),Z=S[0],C=S[1],P=(0,ea.useState)(),k=P[0],I=P[1],_=(0,ea.useContext)(eX.SurveyContext),D=(0,ea.useState)(!1),T=D[0],O=D[1];(0,ea.useEffect)(function(){p&&(Date.now()-p.getTime()>1728e5?C(new Date(p.getTime()+1728e5)):C(new Date),g&&(g.getTime()<p.getTime()||g.getTime()-p.getTime()>1728e5)&&v(null))},[p]),(0,ea.useEffect)(function(){g&&p&&g.getTime()<p.getTime()&&b("Please ensure your end date is later than your start date.")},[g]);var handleFromDateChange=function(e){b(""),h(e)},handleToDateChange=function(e){b(""),v(e)},handleFileProgress=function(e){if(void 0!==e.total&&void 0!==e.loaded){var n=Math.floor(e.loaded/Number(e.total)*100);n!==y&&w(n)}},resetForm=function(){s("dev"),h((0,em.F3)(1)),v(new Date)};(0,ea.useEffect)(function(){resetForm()},[t.clientId]);var N=(n=(0,ee.Z)(er().mark(function _callee(e){var n,a,s,o,c,l,d;return er().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(e.preventDefault(),null==k||k.abort(),I(n=new AbortController),O(!0),h.prev=5,!(!p||!g)){h.next=9;break}return b("Please select a date range."),h.abrupt("return");case 9:return u(!0),h.next=12,nJ(t.id,i,p,g,handleFileProgress,n);case 12:if(a=h.sent,o=(s=(0,ed.Z)(a,2))[0],!(c=s[1])){h.next=24;break}if("ERR_CANCELED"!==c.code){h.next=19;break}return h.abrupt("return");case 19:l="Error fetching logs.",(null==c?void 0:c.status)===429&&(l="Too many requests"),r.show({variant:"danger",fadeOut:1e4,closable:!0,content:l}),h.next=27;break;case 24:r.show({variant:"success",fadeOut:1e4,closable:!0,content:null!==(d=null==o?void 0:o.message)&&void 0!==d?d:"Downloaded logs."}),saveTemplateAsFile("".concat(t.clientId,"-").concat(p.toLocaleString(),"-").concat(g.toLocaleString(),".json"),o.data),null==_||_.setShowSurvey(!0,"downloadLogs");case 27:h.next=32;break;case 29:h.prev=29,h.t0=h.catch(5),console.error("Exception parsing file");case 32:return h.prev=32,u(!1),w(0),O(!1),h.finish(32);case 37:case"end":return h.stop()}},_callee,null,[[5,29,32,37]])})),function(e){return n.apply(this,arguments)}),handleEnvChange=function(e){s(e.target.value)};return(0,el.jsxs)(el.Fragment,{children:[(0,el.jsxs)(n8,{onSubmit:N,children:[(0,el.jsxs)("div",{className:"header",children:[(0,el.jsx)("p",{children:"Download Logs"}),(0,el.jsx)(no.Z,{content:"You can download upto 25,000 logs at a time. Result will indicate if all logs in the selected time interval were retrieved or a smaller time interval is required."})]}),(0,el.jsxs)("fieldset",{className:"env-controls",disabled:l,children:[(0,el.jsx)("legend",{children:"Select an Environment"}),o.map(function(e){return(0,el.jsxs)("span",{children:[(0,el.jsx)("input",{id:"radio-".concat(e),type:"radio",name:"environmentSelection",value:e,checked:i===e,onChange:handleEnvChange}),(0,el.jsx)("label",{htmlFor:"radio-".concat(e),children:n7[e]})]},e)})]}),(0,el.jsxs)("div",{children:[(0,el.jsxs)("div",{className:"date-picker-container",children:[(0,el.jsx)(DateTimePicker,{placeholderText:"Start Date",selected:p,onChange:function(e){return handleFromDateChange(e)},minDate:n6,shouldCloseOnSelect:!1,label:"Start Date",showTimeInput:!0,dateFormat:"MM/dd/yyyy h:mm aa",disabled:l}),(0,el.jsx)(DateTimePicker,{placeholderText:"End Date",selected:g,onChange:function(e){return handleToDateChange(e)},minDate:p,maxDate:Z,label:"End Date",shouldCloseOnSelect:!1,showTimeInput:!0,dateFormat:"MM/dd/yyyy h:mm aa",disabled:l})]}),(0,el.jsx)("p",{className:"error-text",children:m})]}),(0,el.jsx)("div",{className:"button-container",children:(0,el.jsx)("button",{className:"primary",type:"submit",disabled:!!m||!!l,children:"Download"})})]}),(0,el.jsx)(eT.Z,{id:"logs-modal",showConfirm:!1,title:"Downloading Logs",handleClose:function(){null==k||k.abort(),u(!1),w(0)},content:(0,el.jsxs)(n4,{children:[(0,el.jsx)(eg.rj,{color:"black",visible:l,height:25,width:25,wrapperStyle:{justifyContent:"center"}}),l&&0===y&&(0,el.jsx)("p",{children:"Querying logs..."}),l&&0!==y?(0,el.jsxs)("p",{children:[y,"% downloaded."]}):null]}),openModal:T})]})}),te=ei.ZP.div(W||(W=(0,en.Z)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  ","\n"])),function(e){return e.short?"max-width: 800px;":""}),tn=ei.ZP.div(V||(V=(0,en.Z)(["\n  text-align: center;\n"]))),tt=ei.ZP.div(Y||(Y=(0,en.Z)(["\n  height: var(--field-top-spacing);\n"]))),tr=ei.ZP.div(J||(J=(0,en.Z)(["\n  margin-bottom: 60px;\n"]))),ta="tech-details",ti="role-management",ts="user-role-management",to="service-account-role-management",tc="secret",tl="history",tu="metrics",td="Logs",IntegrationWrapper=function(e){var n=e.integration,t=e.children;return(0,el.jsxs)(el.Fragment,{children:[(0,el.jsxs)("h2",{children:["Integration Details - ",nC()(String(n.id),8,"0")]}),(0,el.jsx)(eL.OC,{children:t})]})},getInstallationTab=function(e){var n=e.integration,t=e.approvalContext;return(0,el.jsx)(eL.OK,{tab:"Technical Details",children:(0,el.jsx)(te,{short:!1,children:(0,el.jsx)(ef.ZP,{cols:15,children:(0,el.jsxs)(ef.ZP.Row,{gutter:[],children:[(0,el.jsx)(ef.ZP.Col,{span:7,children:(0,el.jsx)(eD,{integration:n})}),(0,el.jsx)(ef.ZP.Col,{span:1}),(0,el.jsxs)(ef.ZP.Col,{span:7,children:[(0,el.jsx)(IntegrationInfoTabs_BceidStatusPanel,{approvalContext:t}),(0,el.jsx)(IntegrationInfoTabs_GithubStatusPanel,{approvalContext:t}),(0,el.jsx)(IntegrationInfoTabs_BcServicesCardStatusPanel,{approvalContext:t})]})]})})})},ta)},getRoleManagementTab=function(e){var n=e.integration;return(0,el.jsx)(eL.OK,{tab:"Role Management",children:(0,el.jsxs)(te,{children:[(0,el.jsx)("br",{}),(0,el.jsxs)("div",{children:["Please visit our"," ",(0,el.jsx)(eS.default,{external:!0,href:(0,eZ.eO)("Creating-a-Role"),children:"wiki page"})," ","for more information on roles."]}),(0,el.jsx)(my_dashboard_RoleManagement,{integration:n})]})},ti)},getUserAssignmentTab=function(e){var n=e.integration;return(0,el.jsx)(eL.OK,{tab:"Assign Users to Roles",children:(0,el.jsx)(te,{children:(0,el.jsx)(nm,{selectedRequest:n})})},ts)},getServiceAccountAssignmentTab=function(e){var n=e.integration;return(0,el.jsx)(eL.OK,{tab:"Assign Service Account to Roles",children:(0,el.jsx)(te,{children:(0,el.jsx)(nL,{selectedRequest:n})})},to)},getSecretsTab=function(e){var n=e.integration;return(0,el.jsx)(eL.OK,{tab:"Secrets",children:(0,el.jsx)(te,{short:!0,children:(0,el.jsx)(eE,{selectedRequest:n})})},tc)},getMetricsTab=function(e){var n=e.integration;return(0,el.jsx)(eL.OK,{tab:"Metrics",children:(0,el.jsx)(te,{short:!1,children:(0,el.jsx)(n5,{integration:n})})},tu)},getLogsTab=function(e){var n=e.integration;return(0,el.jsx)(eL.OK,{tab:"Logs",children:(0,el.jsx)(te,{short:!1,children:(0,el.jsx)(n9,{integration:n})})},td)},getHistoryTab=function(e){var n=e.integration;return(0,el.jsx)(eL.OK,{tab:"Change History",children:(0,el.jsx)(te,{short:!0,children:(0,el.jsx)(UserEventPanel,{requestId:n.id})})},tl)},my_dashboard_IntegrationInfoTabs=function(e){var n,t,r=e.integration,a=(0,ea.useState)(ta),i=a[0],s=a[1];if(!r)return null;var o=r.status,c=r.environments,l=r.bceidApproved,u=void 0!==l&&l,d=r.githubApproved,p=void 0!==d&&d,h=(r.digitalCredentialApproved,r.bcServicesCardApproved),f=void 0!==h&&h,g=(0,nb.n)(o||"draft"),v=(void 0===c?[]:c).includes("prod"),x=(0,nS.Jx)(r),m=(0,nS.dV)(r),b=(0,nS.S3)(r),j=(0,nS.e$)(r),y=(0,em.he)(r),w=(0,em.R5)(r),S=(0,em.kF)(r),Z="gold"===r.serviceType,C="service-account"!==r.authType,P="both"===r.authType;if("In Draft"===g)return(0,el.jsx)(IntegrationWrapper,{integration:r,children:(0,el.jsxs)(Alert,{variant:"info",children:[(0,el.jsx)("div",{children:(0,el.jsx)("strong",{children:"Your request has not been submitted."})}),(0,el.jsx)("div",{children:'To complete your request, click "Edit" button.'})]})});var k=[],I=[],_=(null===(n=r.devIdps)||void 0===n?void 0:n.length)&&(null===(t=r.devIdps)||void 0===t?void 0:t.every(function(e){return["digitalcredential","bcservicescard"].includes(e)}));"Submitted"===g?(["planFailed","applyFailed"].includes(r.status)?k.push((0,el.jsx)(eL.OK,{tab:"Technical Details",children:(0,el.jsx)(te,{short:!1,children:(0,el.jsx)("div",{style:{display:"inline-flex",margin:"20px 0 20px 0",background:"#FFCCCB",borderRadius:"5px"},children:(0,el.jsx)("div",{style:{padding:5},children:(0,el.jsxs)(ey.B,{children:["Your request for an integration could not be completed. Please"," ",(0,el.jsx)(eS.default,{external:!0,href:"mailto:bcgov.sso@gov.bc.ca",children:"contact the Pathfinder SSO Team"})]})})})})},ta)):k.push((0,el.jsx)(eL.OK,{tab:"Technical Details",children:(0,el.jsx)(te,{short:!1,children:(0,el.jsxs)(ef.ZP,{cols:15,children:[(0,el.jsx)("br",{}),(0,el.jsxs)(tn,{children:[(0,el.jsx)(tt,{}),(0,el.jsx)(eg.rj,{color:"#000",height:45,width:45,wrapperClass:"d-block",visible:!0}),(0,el.jsx)(tr,{})]})]})})},ta)),I.push(ta)):"Completed"===g&&(k.push(getInstallationTab({integration:r,approvalContext:{hasProd:v,hasBceid:x,hasGithub:m,hasDigitalCredential:b,hasBcServicesCard:j,bceidApproved:u,githubApproved:p,bcServicesCardApproved:f,awaitingBceidProd:x&&v&&!u,awaitingGithubProd:m&&v&&!p,awaitingBcServicesCardProd:j&&v&&!f,bceidProdApplying:y,githubProdApplying:w,bcServicesCardProdApplying:S}})),I.push(ta),_||(k.push(getRoleManagementTab({integration:r})),I.push(ti)),Z&&C&&!_&&(k.push(getUserAssignmentTab({integration:r})),I.push(ts)),Z&&(!C||P)&&(k.push(getServiceAccountAssignmentTab({integration:r})),I.push(to)),r.publicAccess||(k.push(getSecretsTab({integration:r})),I.push(tc)),k.push(getHistoryTab({integration:r})),I.push(tl),k.push(getMetricsTab({integration:r})),I.push(tu),k.push(getLogsTab({integration:r})),I.push(td));var D=i;return I.includes(i)||(D=I[0]),(0,el.jsx)(IntegrationWrapper,{integration:r,children:(0,el.jsx)(eL.mQ,{activeKey:D,onChange:function(e){s(e)},tabBarGutter:30,destroyInactiveTabPane:!0,children:k})})},tp=t(11163),th=t(88669),tf=t(11162),tg=t(82500),tv=ei.ZP.tr($||($=(0,en.Z)(["\n  float: right;\n  padding-right: 0.5em;\n"]))),tx=ei.ZP.p(Q||(Q=(0,en.Z)(["\n  margin: 0;\n"])));function IntegrationListActionsHeader(){return(0,el.jsx)("span",{style:{float:"right",paddingRight:"1em"},children:"Actions"})}var formatIntegrationID=function(e){return nC()(String(e),8,"0")},NewEntityButton=function(e){var n=e.handleNewIntegrationClick,t=e.integrations;return t&&(null==t?void 0:t.length)!=0?(0,el.jsx)("button",{"data-testid":"request-integration",onClick:n,className:"callout",children:"+ Request SSO Integration"}):(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)("p",{children:(0,el.jsx)("b",{children:"To request an integration for a Standard Realm, you’ll need the following information:"})}),(0,el.jsxs)("div",{style:{background:"#D9EDFD",textAlign:"center",padding:"16px"},children:[(0,el.jsxs)(ef.ZP,{cols:2,style:{textAlign:"left"},children:[(0,el.jsxs)(ef.ZP.Row,{collapse:"992",gutter:[],align:"top",children:[(0,el.jsxs)(ef.ZP.Col,{span:1,children:[(0,el.jsx)(eL.wk,{number:1,title:"Project Information",children:null}),(0,el.jsxs)(tx,{children:[(0,el.jsx)(ep.G,{icon:eh.LEp})," Project Name"]}),(0,el.jsxs)(tx,{children:[(0,el.jsx)(ep.G,{icon:eh.LEp})," Project Team Members (Optional)"]}),(0,el.jsxs)(tx,{children:[(0,el.jsx)(ep.G,{icon:eh.LEp})," Product Owner or Technical Contact"]})]}),(0,el.jsxs)(ef.ZP.Col,{span:1,children:[(0,el.jsx)(eL.wk,{number:2,title:"Technical Info",children:null}),(0,el.jsxs)(tx,{children:[(0,el.jsx)(ep.G,{icon:eh.LEp})," Client type (",(0,el.jsx)(eS.default,{href:(0,eZ.eO)("Useful-References#client"),children:"Public or Confidential, learn more"}),")"]}),(0,el.jsxs)(tx,{children:[(0,el.jsx)(ep.G,{icon:eh.LEp})," Identity Provider (IDIR, Azure, BCeID or Basic)"]}),(0,el.jsxs)(tx,{children:[(0,el.jsx)(ep.G,{icon:eh.LEp})," Environments (Development, Test, Production)"]}),(0,el.jsxs)(tx,{children:[(0,el.jsx)(ep.G,{icon:eh.LEp})," Redirect URIs for selected environments"]})]})]}),(0,el.jsx)("p",{style:{marginTop:"1.25rem"},children:"*You’ll be able to save and return your integration request, anytime throughout the request form."})]}),(0,el.jsx)("button",{"data-testid":"request-integration",onClick:n,className:"callout",children:"+ Request SSO Integration"})]})]})},tm=(0,ej.hU)(function(e){var n,t,r,a=e.setIntegration,i=e.setIntegrationCount,s=e.alert,o=(0,tp.useRouter)(),c=o.query.integr,l=(0,ea.useState)(!0),u=l[0],d=l[1],p=(0,ea.useState)(!1),h=p[0],f=p[1],g=(0,ea.useState)([]),v=g[0],x=g[1],m=(0,ea.useState)(c&&Number(c)||void 0),b=m[0],j=m[1],y=(n=(0,ee.Z)(er().mark(function _callee(){return er().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.push("/request");case 1:case"end":return e.stop()}},_callee)})),function(){return n.apply(this,arguments)}),updateActiveIntegration=function(e){j(e.id),a(e)},updateIntegrations=function(e){var n=e||[];if(x(n),i(n.length),b){var t=e.find(function(e){return(null==e?void 0:e.id)===b});t?updateActiveIntegration(t):(null==e?void 0:e.length)>0&&updateActiveIntegration(e[0])}else(null==e?void 0:e.length)>0&&updateActiveIntegration(e[0])},w=(t=(0,ee.Z)(er().mark(function _callee2(){var e,n,t;return er().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return d(!0),r.next=3,(0,th.XJ)();case 3:e=r.sent,t=(n=(0,ed.Z)(e,2))[0],f(!!n[1]),updateIntegrations(t||[]),d(!1);case 10:case"end":return r.stop()}},_callee2)})),function(){return t.apply(this,arguments)});(0,ea.useEffect)(function(){w(),o.replace("/my-dashboard/integrations")},[]),(0,ea.useEffect)(function(){return(0,em.rn)(v||[])&&(clearInterval(r),r=setInterval((0,ee.Z)(er().mark(function _callee3(){var e,n,t;return er().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,th.XJ)();case 2:e=a.sent,t=(n=(0,ed.Z)(e,2))[0],n[1]?clearInterval(r):updateIntegrations(t||[]);case 7:case"end":return a.stop()}},_callee3)})),5e3)),function(){r&&clearInterval(r)}},[v,b]);var S=h?(0,el.jsx)(tg.q1,{}):v&&0!==v.length?(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)("h2",{children:"Integrations"}),(0,el.jsx)(e6.Z,{headers:[{accessor:"id",Header:"Request ID"},{accessor:"projectName",Header:"Project Name"},{accessor:"status",Header:"Status"},{accessor:"authType",Header:"Usecase"},{accessor:"serviceType",Header:"Service Type"},{accessor:"actions",Header:(0,el.jsx)(IntegrationListActionsHeader,{}),disableSortBy:!0}],data:null==v?void 0:v.map(function(e){return{id:formatIntegrationID(e.id),projectName:e.projectName,status:(0,nb.n)(e.status||"draft"),authType:tf.F[e.authType||"browser-login"],serviceType:"Gold",actions:(0,el.jsx)(tv,{children:(0,el.jsx)(e9.ZP,{request:e,onDelete:function(n,t){t?s.show({variant:"danger",content:"Failed to delete integration ".concat(e.projectName,".")}):w()},defaultActiveColor:"#fff",delIconStyle:{marginLeft:"7px"}})})}}),activateRow:function(e){var n=e.cells[0].value;v.forEach(function(e){e.id==n&&updateActiveIntegration(e)})},activeSelector:b&&formatIntegrationID(b),rowSelectorKey:"id",colfilters:[]})]}):(0,el.jsx)(tg.Vs,{message:"No Requests Submitted"});return u?(0,el.jsx)(ny.Z,{}):(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)("br",{}),(0,el.jsx)(NewEntityButton,{handleNewIntegrationClick:y,integrations:v}),(0,el.jsx)("br",{}),(0,el.jsx)("br",{}),S]})}),tb=t(40343),tj=ei.ZP.div(X||(X=(0,en.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: 100%;\n  flex: 1;\n"]))),integrations=function(e){e.session;var n,t=(0,tp.useRouter)(),r=(0,ea.useState)(null),a=r[0],i=r[1],s=(0,ea.useState)(1),o=s[0],c=s[1],l=(0,ea.useState)(!1),u=l[0],d=l[1],p="integration-failed-modal",h=(n=(0,ee.Z)(er().mark(function _callee(){return er().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.location.hash=p);case 1:case"end":return e.stop()}},_callee)})),function(){return n.apply(this,arguments)}),f=(0,ea.useState)(""),g=f[0],v=f[1];return(0,ea.useEffect)(function(){var e;v(t.query.requestId),(null==t?void 0:null===(e=t.query)||void 0===e?void 0:e.integrationFailedMessageModal)==="true"&&(d(!0),h())},[t.query.showModal]),(0,el.jsxs)(el.Fragment,{children:[(0,el.jsx)(tb.Z,{tab:"integrations",leftPanel:function(){return(0,el.jsx)(tm,{setIntegration:i,setIntegrationCount:c})},rightPanel:function(){return a&&(0,el.jsx)(my_dashboard_IntegrationInfoTabs,{integration:a})},showResizable:o>0}),(0,el.jsx)(eT.Z,{id:p,openModal:u,handleClose:function(){return d(!1)},title:"".concat(g," - Integration request failed"),content:(0,el.jsxs)("div",{children:[(0,el.jsx)("div",{children:(0,el.jsx)("p",{children:"The integration request could not be completed. Please contact the Pathfinder SSO Team."})}),(0,el.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",width:"100%"},children:[(0,el.jsx)(tj,{children:(0,el.jsx)("div",{children:(0,el.jsxs)("a",{href:"https://chat.developer.gov.bc.ca/channel/sso",target:"_blank",title:"Rocket Chat",style:{color:"#0d6efd"},children:[(0,el.jsx)(ep.G,{size:"1x",icon:eh.Z6I,color:"#0d6efd"})," Rocketchat"]})})}),(0,el.jsx)(tj,{children:(0,el.jsx)("div",{children:(0,el.jsxs)("a",{href:"mailto:bcgov.sso@gov.bc.ca",title:"Pathfinder SSO",style:{color:"#0d6efd"},children:[(0,el.jsx)(ep.G,{size:"1x",icon:eh.FU$,color:"#0d6efd"})," Email"]})})})]})]}),showCancel:!1,showConfirm:!1,skipCloseOnConfirm:!0,closable:!0})]})}},88669:function(e,n,t){"use strict";t.d(n,{A_:function(){return Z},H0:function(){return P},Jl:function(){return D},OS:function(){return k},Uw:function(){return T},WN:function(){return _},XJ:function(){return C},hG:function(){return S},zD:function(){return I}});var r,a,i,s,o,c,l,u,d,p=t(50029),h=t(87794),f=t.n(h),g=t(20281),v=t(75316),x=t.n(v),m=t(25751),b=t.n(m),j=t(76427),y=t.n(j),w=t(32581),S=(r=(0,p.Z)(f().mark(function _callee(e){var n;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.e.post("requests",e).then(function(e){return e.data});case 3:return n=t.sent,t.abrupt("return",[(0,w.UB)(n),null]);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(0,g.z)(t.t0));case 10:case"end":return t.stop()}},_callee,null,[[0,7]])})),function(e){return r.apply(this,arguments)}),Z=(a=(0,p.Z)(f().mark(function _callee2(e){var n;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.e.post("request",{requestId:b()(e)?parseInt(e):e}).then(function(e){return e.data});case 3:return n=t.sent,t.abrupt("return",[(0,w.UB)(n),null]);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(0,g.z)(t.t0));case 10:case"end":return t.stop()}},_callee2,null,[[0,7]])})),function(e){return a.apply(this,arguments)}),C=(i=(0,p.Z)(f().mark(function _callee3(){var e,n,t=arguments;return f().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e={params:{include:t.length>0&&void 0!==t[0]?t[0]:"active"}},r.prev=2,r.next=5,g.e.get("requests",e).then(function(e){return e.data});case 5:return n=r.sent,n=x()(n,["createdAt"],["desc"]),r.abrupt("return",[n.map(w.UB),null]);case 10:return r.prev=10,r.t0=r.catch(2),r.abrupt("return",(0,g.z)(r.t0));case 13:case"end":return r.stop()}},_callee3,null,[[2,10]])})),function(){return i.apply(this,arguments)}),P=(s=(0,p.Z)(f().mark(function _callee4(e){var n;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.e.get("team-integrations/".concat(e)).then(function(e){return e.data});case 3:return n=t.sent,n=x()(n,["createdAt"],["desc"]),t.abrupt("return",[n.map(w.UB),null]);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",(0,g.z)(t.t0));case 11:case"end":return t.stop()}},_callee4,null,[[0,8]])})),function(e){return s.apply(this,arguments)}),k=(o=(0,p.Z)(f().mark(function _callee6(e,n){var t;return f().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.e.post("requests/".concat(e,"/restore"),{email:n}).then(function(e){return e.data});case 3:return t=r.sent,r.abrupt("return",[(0,w.UB)(t),null]);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",(0,g.z)(r.t0));case 10:case"end":return r.stop()}},_callee6,null,[[0,7]])})),function(e,n){return o.apply(this,arguments)}),I=(c=(0,p.Z)(f().mark(function _callee7(e){var n;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.e.post("requests-all",e).then(function(e){return e.data});case 3:return n=t.sent,t.abrupt("return",[{count:n.count,rows:n.rows.map(w.UB)},null]);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(0,g.z)(t.t0));case 10:case"end":return t.stop()}},_callee7,null,[[0,7]])})),function(e){return c.apply(this,arguments)}),_=(l=(0,p.Z)(f().mark(function _callee8(e){var n,t,r,a,i,s=arguments;return f().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],o.prev=1,a="requests",n&&(a="".concat(a,"?submit=true")),(e=y()(e,["user","lastChanges"])).devLoginTitle=e.devLoginTitle||"",e.testLoginTitle=e.testLoginTitle||"",e.prodLoginTitle=e.prodLoginTitle||"",e.additionalRoleAttribute=e.additionalRoleAttribute||"",e.clientId=e.clientId||"",e.primaryEndUsers=null!==(t=e.primaryEndUsers)&&void 0!==t?t:[],e.primaryEndUsersOther=null!==(r=e.primaryEndUsersOther)&&void 0!==r?r:"",o.next=14,g.e.put(a,e).then(function(e){return e.data});case 14:return i=o.sent,o.abrupt("return",[(0,w.UB)(i),null]);case 18:return o.prev=18,o.t0=o.catch(1),o.abrupt("return",(0,g.z)(o.t0));case 21:case"end":return o.stop()}},_callee8,null,[[1,18]])})),function(e){return l.apply(this,arguments)}),D=(u=(0,p.Z)(f().mark(function _callee9(e){var n;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.e.delete("requests",{params:{id:e}}).then(function(e){return e.data});case 3:return n=t.sent,t.abrupt("return",[n,null]);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(0,g.z)(t.t0));case 10:case"end":return t.stop()}},_callee9,null,[[0,7]])})),function(e){return u.apply(this,arguments)}),T=(d=(0,p.Z)(f().mark(function _callee10(e){var n;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.e.put("request-metadata",e).then(function(e){return e.data});case 3:return n=t.sent,t.abrupt("return",[(0,w.UB)(n),null]);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(0,g.z)(t.t0));case 10:case"end":return t.stop()}},_callee10,null,[[0,7]])})),function(e){return d.apply(this,arguments)})},38447:function(e,n,t){"use strict";t.d(n,{Di:function(){return downloadText},ON:function(){return prettyJSON},TE:function(){return copyTextToClipboard}});var prettyJSON=function(e){return JSON.stringify(e,void 0,2)},copyTextToClipboard=function(e){var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.focus(),n.select();try{return document.execCommand("copy"),document.body.removeChild(n),!0}catch(e){return document.body.removeChild(n),!1}},downloadText=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json",r=window.URL.createObjectURL(new Blob([e],{type:t})),a=document.createElement("a");a.href=r,a.setAttribute("download",n),document.body.appendChild(a),a.click(),document.body.removeChild(a)}},80382:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-dashboard/integrations",function(){return t(84311)}])}},function(e){e.O(0,[662,925,936,706,620,479,812,240,226,774,888,179],function(){return e(e.s=80382)}),_N_E=e.O()}]);