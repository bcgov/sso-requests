(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{35611:function(e,n,t){"use strict";n.ZP=void 0;var r=t(96282),a=t(69829),i={shared:{label:"\n      display: block;\n      margin-bottom: 0.2777em;\n    ",wrapper:"\n      position: relative;\n      display: flex;\n      background: #fff;\n      overflow: hidden;\n      border: 2px solid #606060;\n      border-radius: 0;\n      padding: 0.3em 0;\n\n      &:after {\n        content: ' ';\n        background-image: "+(0,a.toSvgUrl)(a.ChevronDown)+";\n        background-size: contain;\n        background-repeat: no-repeat;\n        position: absolute;\n        right: 0.2em;\n        width: 1.2em;\n        height: 100%;\n        text-align: center;\n        cursor: pointer;\n        pointer-events: none;\n        -webkit-transition: .25s all ease;\n        -o-transition: .25s all ease;\n        transition: .25s all ease;\n      }\n\n      &:focus-within  {\n        outline: 4px solid #3B99FC;\n        outline-offset: 1px;\n      }\n\n      &:hover::after {}\n  ",input:"\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      -ms-appearance: none;\n      appearance: none;\n      outline: 0;\n      box-shadow: none;\n      border: 0 !important;\n      background: #fff;\n      background-image: none;\n      display: inline-block;\n      flex: 1;\n      padding: 0 .5em;\n      color: #000;\n      cursor: pointer;\n\n      &::-ms-expand {\n        display: none;\n      }\n    "},size:{small:{container:"\n        font-size: 0.8rem;\n      "},medium:{container:"\n        font-size: 1rem;\n      "},large:{container:"\n        font-size: 1.2rem;\n      "}},rounded:{wrapper:"\n      border-radius: 0.25em;\n    "}};var l=(0,r.applyTheme)(i,{defaultProps:{size:"medium",rounded:!0,required:!1},staticProps:["fullWidth"],includeWrapper:!0});n.ZP=l},96282:function(e,n,t){"use strict";var r=t(95318);Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.applyTheme=void 0;var a=r(t(22122)),i=r(t(19756)),l=r(t(67294)),s=r(t(86010)),o=t(80927),c=function(e,n){var t=(0,o.processStyle)(e),r=(0,o.createStyleBuilder)(t,n),c=n.as||{},u=r(c.container||"div","container"),d=r("label","label"),p=n.includeWrapper?r(c.wrapper||"div","wrapper"):null,f=r("select","input"),h=(0,o.createBootstrap)(t,"select");return function(e){var n=h(e),t=n.id,r=n.name,o=n.label,c=n.ariaLabel,x=n.styleProps,v=n.children,m=n.className,g=n.rest,b=g.style,j=g.labelStyle,y=g.inputStyle,w=g.wrapperStyle,P=(0,i.default)(g,["style","labelStyle","inputStyle","wrapperStyle"]),Z=l.default.createElement(f,(0,a.default)({"aria-label":c},P,{id:t,name:r,style:y,className:"pg-select-input"}),v);return l.default.createElement(u,(0,a.default)({},x,{style:b,className:(0,s.default)("pg-select",m)}),o&&l.default.createElement(d,(0,a.default)({htmlFor:t},x,{style:j,className:"pg-select-label"}),o),p?l.default.createElement(p,(0,a.default)({},x,{style:w,className:"pg-select-wrapper"}),Z):Z)}};n.applyTheme=c;var u=c({},{staticProps:["fullWidth"]});n.default=u},99304:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return oe}});var r=t(85893),a=t(809),i=t.n(a),l=t(39227),s=t(92447),o=t(27261),c=t(67294),u=t(11163),d=t(96486),p=t(31607),f=t(29163),h=t(17625),x=t(51436),v=t(64735),m=t(40602),g=t(11915),b=t(4826),j=t(35611),y=t(22122),w=t(19756),P=t(94184),Z=t.n(P),S=t(76792),k=t(84873),C=["active","disabled","className","style","activeLabel","children"],N=["children"],F=c.forwardRef((function(e,n){var t=e.active,r=e.disabled,a=e.className,i=e.style,l=e.activeLabel,s=e.children,o=(0,w.default)(e,C),u=t||r?"span":k.Z;return c.createElement("li",{ref:n,style:i,className:Z()(a,"page-item",{active:t,disabled:r})},c.createElement(u,(0,y.default)({className:"page-link",disabled:r},o),s,t&&l&&c.createElement("span",{className:"sr-only"},l)))}));F.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},F.displayName="PageItem";var E=F;function I(e,n,t){function r(e){var r=e.children,a=(0,w.default)(e,N);return c.createElement(F,a,c.createElement("span",{"aria-hidden":"true"},r||n),c.createElement("span",{className:"sr-only"},t))}return void 0===t&&(t=e),r.displayName=e,r}var _=I("First","\xab"),z=I("Prev","\u2039","Previous"),A=I("Ellipsis","\u2026","More"),R=I("Next","\u203a"),L=I("Last","\xbb"),T=["bsPrefix","className","children","size"],D=c.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=e.children,i=e.size,l=(0,w.default)(e,T),s=(0,S.vE)(t,"pagination");return c.createElement("ul",(0,y.default)({ref:n},l,{className:Z()(r,s,i&&s+"-"+i)}),a)}));D.First=_,D.Prev=z,D.Ellipsis=A,D.Item=E,D.Next=R,D.Last=L;var W=D,q=t(23451);function O(){var e=(0,o.Z)(["\n  padding-left: 5px;\n  line-height: 40px;\n"]);return O=function(){return e},e}function B(){var e=(0,o.Z)(["\n  margin: 0 !important;\n  & li {\n    margin: 0 !important;\n  }\n"]);return B=function(){return e},e}var G=(0,f.default)(W)(B()),K=f.default.span(O()),M=function(e){return(0,r.jsx)(r.Fragment,{children:e.map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.text},e.value)}))})},X=function(e){for(var n=e.rowCount,t=e.limit,a=e.page,i=e.onPage,l=e.onPrev,s=e.onNext,o=parseInt(String((n-1)/t+1)),c=[(0,r.jsx)(W.Item,{disabled:1===a,onClick:function(){return l()},children:"Previous"},"prev")],u=function(e){c.push((0,r.jsx)(W.Item,{active:e===a,onClick:function(){return i(e)},children:e},e)),o===e&&c.push((0,r.jsx)(W.Item,{disabled:a===e,onClick:function(){return s()},children:"Next"},"next"))},d=1;d<=o;d++)u(d);return(0,r.jsx)(r.Fragment,{children:c})},H=function(e){var n=e.rowCount,t=e.limit,a=e.page,i=e.onPrev,l=e.onNext,s=parseInt(String((n-1)/t+1)),o=parseInt(String((a-1)*t+1)),c=o+t-1;return c>n&&(c=n),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W.Item,{disabled:1===a,onClick:function(){return i(a-1)},children:"Previous"},"prev"),(0,r.jsx)(W.Item,{disabled:a===s,onClick:function(){return l(a+1)},children:"Next"},"next"),(0,r.jsx)(K,{children:"".concat(o,"-").concat(c," of ").concat(n)})]})};var U=function(e){var n=e.headers,t=e.children,a=e.onSearch,i=void 0===a?d.noop:a,l=e.onFilter,s=void 0===l?d.noop:l,o=e.onFilter2,u=void 0===o?d.noop:o,p=e.onLimit,f=void 0===p?d.noop:p,h=e.onPage,x=e.onPrev,m=void 0===x?d.noop:x,y=e.onNext,w=void 0===y?d.noop:y,P=e.filterItems,Z=e.filterItems2,S=e.pageLimits,k=e.searchKey,C=void 0===k?"":k,N=e.page,F=void 0===N?1:N,E=e.limit,I=void 0===E?10:E,_=e.rowCount,z=void 0===_?10:_,A=e.filter,R=void 0===A?"":A,L=e.filter2,T=void 0===L?"":L;console.log("page",F);var D=(0,c.useState)(C),W=D[0],O=D[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.ZP,{cols:12,children:(0,r.jsxs)(v.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsxs)(v.ZP.Col,{span:5,children:[(0,r.jsx)(g.ZP,{type:"text",size:"small",placeholder:"Search...",style:{display:"inline-block"},value:W,onChange:function(e){O(e.target.value)}}),(0,r.jsx)(b.ZP,{type:"button",size:"small",onClick:function(){i(W)},children:"Search"})]}),(0,r.jsxs)(v.ZP.Col,{span:7,style:{textAlign:"right"},children:[P&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Status: "}),(0,r.jsx)(j.ZP,{style:{display:"inline-block",width:"160px"},value:R,onChange:function(e){s(e.target.value)},children:M(P)})]}),"\xa0\xa0",Z&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(j.ZP,{style:{display:"inline-block",width:"160px"},value:T,onChange:function(e){u(e.target.value)},children:M(Z)})})]})]})}),(0,r.jsxs)(q.Z,{children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:n.map((function(e,n){return(0,r.jsx)("th",{children:e},n)}))})}),(0,r.jsx)("tbody",{children:t})]}),S&&(0,r.jsx)(v.ZP,{cols:12,children:(0,r.jsxs)(v.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,r.jsx)(v.ZP.Col,{span:8,children:(0,r.jsx)(G,{children:h?(0,r.jsx)(X,{rowCount:z,limit:I,page:F,onPage:h}):(0,r.jsx)(H,{rowCount:z,limit:I,page:F,onPrev:m,onNext:w})})}),(0,r.jsx)(v.ZP.Col,{span:4,style:{textAlign:"right"},children:(0,r.jsx)(j.ZP,{style:{display:"inline-block",width:"160px"},value:String(I),onChange:function(e){f(Number(e.target.value))},children:M(S)})})]})})]})},J=t(6645),Y=t(61408),$=t(98806),Q=t(69696),V=t(82401);function ee(){var e=(0,o.Z)(["\n  padding-right: 10px;\n"]);return ee=function(){return e},e}function ne(){var e=(0,o.Z)(["\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n  & button {\n    min-width: 150px;\n    margin-right: 20px;\n    display: inline-block;\n  }\n"]);return ne=function(){return e},e}var te=[{value:"all",text:"All"},{value:"draft",text:"Draft"},{value:"submitted",text:"Submitted"},{value:"pr",text:"PR"},{value:"prFailed",text:"PR Failed"},{value:"planned",text:"Planned"},{value:"planFailed",text:"Plan Failed"},{value:"approved",text:"Approved"},{value:"applied",text:"Applied"},{value:"applyFailed",text:"Apply Failed"}],re=[{value:"all",text:"All"},{value:"active",text:"Active"},{value:"archived",text:"Deleted"}],ae=[{value:5,text:"5 per page"},{value:10,text:"10 per page"},{value:15,text:"15 per page"},{value:30,text:"30 per page"},{value:50,text:"50 per page"},{value:100,text:"100 per page"}],ie=[{maxWidth:1280,marginTop:10},{maxWidth:1400,width:1200,marginTop:20},{maxWidth:1700,width:1300,marginTop:20},{width:1600,marginTop:20}],le=f.default.div(ne()),se=(0,f.default)(h.G)(ee());function oe(e){e.currentUser;var n=(0,u.useRouter)(),t=(0,c.useState)(!1),a=t[0],o=t[1],f=(0,c.useState)(!1),h=f[0],g=f[1],j=(0,c.useState)(!1),y=j[0],w=j[1],P=(0,c.useState)([]),Z=P[0],S=P[1],k=(0,c.useState)(""),C=k[0],N=k[1],F=(0,c.useState)(0),E=F[0],I=F[1],_=(0,c.useState)(5),z=_[0],A=_[1],R=(0,c.useState)(1),L=R[0],T=R[1],D=(0,c.useState)("all"),W=D[0],q=D[1],O=(0,c.useState)("active"),B=O[0],G=O[1],K=(0,c.useState)(void 0),M=K[0],X=K[1],H=function(){var e=(0,s.Z)(i().mark((function e(){var n,t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,(0,J.zD)({searchField:["projectName"],searchKey:C,order:[["createdAt","desc"]],limit:z,page:L,status:W,archiveStatus:B});case 3:n=e.sent,t=(0,l.Z)(n,2),r=t[0],t[1]?w(!0):r&&(S(r.rows),I(r.count)),o(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if((0,c.useEffect)((function(){H()}),[C,z,L,W,B]),a)return(0,r.jsx)(m.Z,{rules:ie,style:{textAlign:"center"},children:(0,r.jsx)(p.Z,{type:"Grid",color:"#000",height:45,width:45,visible:!0})});if(y)return null;var ee=function(e){return["applied"].includes((null===e||void 0===e?void 0:e.status)||"")},ne=function(e){return!["pr","planned","submitted"].includes((null===e||void 0===e?void 0:e.status)||"")},oe=function(){var e=(0,s.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id&&ne(n)){e.next=2;break}return e.abrupt("return");case 2:X(n.id),window.location.hash="delete-modal";case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ce=function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne){e.next=2;break}return e.abrupt("return");case 2:return g(!0),e.next=5,(0,J.Jl)(M);case 5:return g(!1),e.next=8,H();case 8:window.location.hash="#";case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)(m.Z,{rules:ie,children:[(0,r.jsx)(v.ZP,{cols:10,children:(0,r.jsxs)(v.ZP.Row,{collapse:"800",gutter:[15,2],children:[(0,r.jsx)(v.ZP.Col,{span:6,children:(0,r.jsx)(U,{headers:["Request ID","Project Name","Request Status","File Status","Actions"],filterItems:te,filterItems2:re,pageLimits:ae,searchKey:C,limit:z,page:L,rowCount:E,filter:W,filter2:B,onSearch:function(e){N(e),T(1)},onFilter:function(e){q(e),T(1)},onFilter2:function(e){G(e),T(1)},onLimit:A,onPrev:T,onNext:T,children:Z.length>0?Z.map((function(e){return(0,r.jsxs)("tr",{onClick:function(){return X(e.id)},children:[(0,r.jsx)("td",{children:(0,d.padStart)(String(e.id),8,"0")}),(0,r.jsx)("td",{children:e.projectName}),(0,r.jsx)("td",{children:(0,d.startCase)(e.status)}),(0,r.jsx)("td",{children:e.archived?"Deleted":"Active"}),(0,r.jsx)("td",{children:(0,r.jsxs)(Y.W2,{children:[(0,r.jsx)(Y.w6,{disabled:!ee(e),icon:x.Xcf,role:"button","aria-label":"edit",onClick:function(){return function(e){e.id&&ee(e)&&n.push("/edit-request?id=".concat(e.id))}(e)},title:"Edit"}),(0,r.jsx)(Y.MO,{}),(0,r.jsx)(Y.m1,{icon:x.$aW,role:"button","aria-label":"delete",onClick:function(){return oe(e)},disabled:!ne(e),title:"Delete"})]})})]},e.id)})):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,children:"No clients found."})})})}),(0,r.jsx)(v.ZP.Col,{span:4})]})}),(0,r.jsxs)($.Z,{id:"delete-modal",children:[(0,r.jsxs)(Q.ZP.Header,{children:[(0,r.jsx)(se,{icon:x.eHv,title:"Information",size:"2x",style:{paddingRight:"10px"}}),"Confirm Deletion"]}),(0,r.jsxs)(Q.ZP.Content,{children:["You are about to delete this integration request. This action cannot be undone.",(0,r.jsxs)(le,{children:[(0,r.jsx)(V.Z,{variant:"secondary",onClick:function(){return window.location.hash="#"},children:"Cancel"}),(0,r.jsx)(b.ZP,{onClick:ce,children:h?(0,r.jsx)(p.Z,{type:"Grid",color:"#FFF",height:18,width:50,visible:!0}):"Delete"})]})]})]})]})}},83636:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin-dashboard",function(){return t(99304)}])}},function(e){e.O(0,[546,962,277,466,774,888,179],(function(){return n=83636,e(e.s=n);var n}));var n=e.O();_N_E=n}]);