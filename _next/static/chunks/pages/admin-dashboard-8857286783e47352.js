(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{83333:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,a=n(71383);n(67294);var i=n(85444),s=n(31513),o=n(85893),u=i.default.div(r||(r=(0,a.Z)(["\n  margin-top: 20px;\n  max-height: calc(100vh - 250px);\n  overflow: auto;\n"])));function l(e){var t=e.events;return(0,o.jsx)(u,{children:t&&0!==t.length?t.map(function(e){var t;return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Event Code: "}),e.eventCode]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Created Time: "}),(t=e.createdAt,new Date(t).toLocaleString())]}),e.idirUserDisplayName&&(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Created By: "}),e.idirUserDisplayName]})}),e.details&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsx)("strong",{children:"Details"})}),"request-update-success"===e.eventCode?(0,o.jsxs)(o.Fragment,{children:[(0,s.Sx)(e.details.changes),(0,o.jsx)("strong",{children:"Comment: "}),(0,o.jsx)("p",{children:e.details.comment})]}):(0,o.jsx)("pre",{children:(0,o.jsx)("code",{children:JSON.stringify(e.details||{},void 0,2)})})]}),(0,o.jsx)("hr",{})]},e.id)}):(0,o.jsx)("div",{children:"No events found"})})}},19344:function(e,t,n){"use strict";var r,a,i,s=n(71383),o=n(85444),u=n(77740),l=n(63005),c=n(85893),d=o.default.table(r||(r=(0,s.Z)(["\n  font-size: unset;\n  & tr {\n    display: flex;\n    margin-bottom: 5px;\n    & > td {\n      border: none;\n      padding: 0 5px 0 0;\n    }\n  }\n"]))),p=o.default.span(a||(a=(0,s.Z)(["\n  font-weight: 600;\n"]))),v=o.default.ul(i||(i=(0,s.Z)(["\n  list-style: none;\n  margin: 0;\n  & li {\n    margin: 0;\n  }\n"]))),h=function(e){var t=e.list,n=e.title,r=e.inline,a=void 0!==r&&r;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:n}),((null==t?void 0:t.length)===1||a)&&(0,c.jsx)(p,{children:null==t?void 0:t.map(function(e,n){return(0,c.jsxs)("span",{children:[e,n!==t.length-1&&", "," "]},e)})})]}),!a&&((null==t?void 0:t.length)||0)>1&&(0,c.jsx)("tr",{children:(0,c.jsx)("td",{children:(0,c.jsx)(p,{children:(0,c.jsx)(v,{children:null==t?void 0:t.map(function(e){return(0,c.jsx)("li",{children:e},e)})})})})})]})};t.Z=function(e){var t,n,r,a,i,s=e.children,o=e.request,v=e.teams;if(!o)return null;var f="gold"==("gold"===o.serviceType?"gold":"silver")?o.devIdps:l.GO[o.realm||"onestopauth"],x="saml"!==o.protocol,g="";return o.usesTeam&&(g=(null===(i=(void 0===v?[]:v).find(function(e){return String(e.id)===String(o.teamId)}))||void 0===i?void 0:i.name)||o.team&&o.team.name),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d,{children:(0,c.jsxs)("tbody",{children:[g?(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"Associated Team:"}),(0,c.jsx)("td",{children:(0,c.jsx)(p,{children:g})})]}):(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"Are you accountable for this project?"}),(0,c.jsx)("td",{children:(0,c.jsx)(p,{children:void 0===(t=o.projectLead)?"":t?"Yes":"No"})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"Client Protocol:"}),(0,c.jsx)("td",{children:(0,c.jsx)(p,{children:x?"OpenID Connect":"SAML"})})]}),x&&(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"Client Type:"}),(0,c.jsx)("td",{children:(0,c.jsx)(p,{children:o.publicAccess?"Public":"Confidential"})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"Usecase:"}),(0,c.jsx)("td",{children:(0,c.jsx)(p,{children:u.F[o.authType||"browser-login"]})})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"Project Name:"}),(0,c.jsx)("td",{children:(0,c.jsx)(p,{children:o.projectName})})]}),o.additionalRoleAttribute&&(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:"Additional Role Attribute:"}),(0,c.jsx)("td",{children:(0,c.jsx)(p,{children:o.additionalRoleAttribute})})]}),(0,c.jsx)(h,{list:f,title:"Identity Providers Required:",inline:!0}),(null===(n=o.environments)||void 0===n?void 0:n.includes("dev"))&&(0,c.jsx)(h,{list:o.devValidRedirectUris,title:"Dev Redirect URIs:"}),(null===(r=o.environments)||void 0===r?void 0:r.includes("test"))&&(0,c.jsx)(h,{list:o.testValidRedirectUris,title:"Test Redirect URIs:"}),(null===(a=o.environments)||void 0===a?void 0:a.includes("prod"))&&(0,c.jsx)(h,{list:o.prodValidRedirectUris,title:"Prod Redirect URIs:"}),s]})})})}},70300:function(e,t,n){"use strict";var r,a=n(71383),i=n(85444).default.div(r||(r=(0,a.Z)(["\n  min-height: 44px;\n  border-bottom: 1px solid #707070;\n  margin-bottom: 12px;\n  padding-bottom: 5px;\n  overflow: wrap;\n"])));t.Z=i},77740:function(e,t,n){"use strict";n.d(t,{F:function(){return r}});var r={"browser-login":"Browser Login","service-account":"Service Account",both:"Browser Login & Service Account"}},67708:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eq}});var r,a,i,s,o,u,l,c,d,p,v,h,f=n(16835),x=n(50029),g=n(87794),j=n.n(g),m=n(67294),b=n(11163),w=n(20070),y=n.n(w),P=n(59417),S=n(59499),C=n(71383),E=n(85330),Z=n(4826),A=n(79521),T=n(64735),U=n(53918),k=n(85444),R=n(88916),O=n(70300),F=n(99603),I=n(34798),_=n.n(I),q=n(88742),D=n(76457),L=n(65837),N=n(63055),B=n(85893);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){(0,S.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var H=(0,k.default)(F.G)(r||(r=(0,C.Z)(["\n  color: '#000';\n"]))),M=(0,k.default)(U.Z)(a||(a=(0,C.Z)(["\n  margin: 0 !important;\n  & li {\n    margin: 0 !important;\n  }\n"]))),G=k.default.label(i||(i=(0,C.Z)(["\n  cursor: pointer;\n  font-weight: bold;\n  & * {\n    font-weight: normal;\n  }\n"]))),Q=k.default.li(s||(s=(0,C.Z)(["\n  padding-left: 5px;\n  line-height: 40px;\n"]))),V=(0,k.default)(R.ZP)(o||(o=(0,C.Z)(["\n  width: 150px;\n  display: inline-block;\n"]))),J=k.default.div(u||(u=(0,C.Z)(["\n  display: grid;\n  grid-template-columns:\n    ","\n    &> * {\n    margin-right: 10px;\n    white-space: nowrap;\n  }\n"])),function(e){return"repeat(".concat(e.itemsLength,", 1fr);")});function X(e){var t=e.setFilter,n=e.options,r=e.setValue;return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(R.ZP,{className:"basic-multi-select",classNamePrefix:"select",onChange:function(e){t("status",e),r(e)},options:n,isMulti:!0})})}var W=function(e){var t=e.canPreviousPage,n=e.previousPage,r=e.canNextPage,a=e.nextPage,i=e.pageOptions,s=e.pageIndex;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(U.Z.Item,{disabled:!t,onClick:function(){n()},children:"Previous"},"prev"),(0,B.jsx)(U.Z.Item,{disabled:!r,onClick:function(){a()},children:"Next"},"next"),(0,B.jsx)(Q,{children:"".concat(s+1," of ").concat((void 0===i?[]:i).length)})]})},Y=function(e){var t=e.variant,n=e.headers,r=e.data,a=e.activateRow,i=void 0===a?_():a,s=e.searchLocation,o=e.colfilters,u=void 0===o?[]:o,l=e.showFilters,c=e.searchPlaceholder,d=e.searchTooltip,p=e.totalColSpan,v=e.headerAlign,h=e.headerGutter,f=e.filterColSpan,x=e.searchColSpan,g=e.onPage,j=void 0===g?_():g,b=e.onEnter,w=void 0===b?_():b,y=e.rowCount,S=void 0===y?10:y,C=e.searchKey,U=e.onSearch,k=void 0===U?_():U,F=e.loading,I=e.onLimit,z=void 0===I?_():I,Q=e.limit,Y=[5,10,15,30,50,100],$=m.useMemo(function(){return n},[n]),ee=m.useMemo(function(){return r},[r]),et=(0,m.useState)(),en=et[0],er=et[1],ea=(0,m.useState)(void 0===C?"":C),ei=ea[0],es=ea[1],eo=(0,A.useTable)({columns:$,data:ee,initialState:{pageIndex:0},manualPagination:!0,pageCount:Math.ceil(S/(void 0===Q?10:Q)),autoResetPage:!1,autoResetSortBy:!1},A.useFilters,A.useGlobalFilter,A.useSortBy,A.usePagination),eu=eo.getTableProps,el=eo.getTableBodyProps,ec=eo.headerGroups,ed=eo.prepareRow,ep=eo.page,ev=eo.canPreviousPage,eh=eo.canNextPage,ef=eo.pageOptions,ex=eo.nextPage,eg=eo.previousPage,ej=eo.state,em=ej.pageIndex,eb=ej.pageSize,ew=eo.setFilter,ey=eo.setPageSize,eP=S||eb;S>eb&&(eP=eb);var eS=(0,B.jsx)("td",{colSpan:100,children:(0,B.jsx)("div",{style:{height:"".concat(eP*(N.eX+N.gM)-N.gM,"px"),paddingTop:"10px"},children:(0,B.jsx)(L.TextBlock,{rows:2*eP,color:"#CCC"})})}),eC=function(){return Y.map(function(e){return{value:e,label:"".concat(e," per page")}})},eE=function(e){z(e),ey(e)},eZ=function(e){i(e),er(e)},eA=(0,B.jsx)(T.ZP.Col,{span:void 0===x?4:x,children:(0,B.jsx)(T.ZP,{cols:12,children:(0,B.jsxs)(T.ZP.Row,{gutter:[5,0],align:"center",children:[(0,B.jsx)(T.ZP.Col,{span:8,children:(0,B.jsx)(E.E1,{type:"text",size:"small",maxLength:"1000",placeholder:void 0===c?"Search...":c,value:ei,onChange:function(e){es(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&w(ei)}})}),(0,B.jsx)(T.ZP.Col,{span:4,children:(0,B.jsx)(q.Z,{content:void 0===d?"":d,children:(0,B.jsx)(Z.default,{type:"button",size:"small",onClick:function(){k(ei)},children:"Search"})})})]})})}),eT=(0,B.jsx)(T.ZP.Col,{span:void 0===f?10:f,style:{textAlign:"right"},children:(0,B.jsx)(J,{itemsLength:u.length,children:u.map(function(e){return(0,B.jsx)(G,{children:e.multiselect?(0,B.jsxs)(B.Fragment,{children:[e.label,(0,B.jsx)(X,{setFilter:ew,options:e.options,setValue:e.onChange})]}):(0,B.jsxs)(B.Fragment,{children:[e.label,(0,B.jsx)(R.ZP,{className:"basic-single",classNamePrefix:"select",options:e.options,onChange:function(t){return e.onChange&&e.onChange([t])},defaultValue:"string"==typeof e.value?e.value:"",isSearchable:!0})]})},e.label)})})}),eU=null,ek=null;return"left"===(void 0===s?"left":s)?(eU=eA,ek=eT):(eU=eT,ek=eA),(0,m.useEffect)(function(){j(em+1)},[em]),(0,B.jsxs)(B.Fragment,{children:[void 0!==l&&l&&(0,B.jsx)(O.Z,{children:(0,B.jsx)(T.ZP,{cols:void 0===p?14:p,children:(0,B.jsxs)(T.ZP.Row,{collapse:"1160",gutter:void 0===h?[]:h,align:void 0===v?"center":v,children:[eU,ek]})})}),(0,B.jsx)(E.iA,K(K({variant:void 0===t?"medium":t},eu()),{},{children:(0,B.jsxs)(D.Z,{ready:!F,showLoadingAnimation:!0,customPlaceholder:eS,children:[(0,B.jsx)("thead",{children:ec.map(function(e){return(0,m.createElement)("tr",K(K({},e.getHeaderGroupProps()),{},{key:e.id}),e.headers.map(function(e){var t,n;return(0,m.createElement)("th",K(K({},e.getHeaderProps(e.getSortByToggleProps())),{},{key:e.id}),e.render("Header"),"\xa0",(0,B.jsx)("span",{children:(t=e.isSorted,n=e.isSortedDesc,t?(0,B.jsx)(H,{icon:n?P.u9C:P.foy,size:"sm"}):null)}))}))})}),(0,B.jsx)("tbody",K(K({},el()),{},{children:ep.map(function(e){return ed(e),(0,m.createElement)("tr",K(K({},e.getRowProps()),{},{className:(null==en?void 0:en.id)===(null==e?void 0:e.id)?"active":"",key:null==e?void 0:e.id,onClick:function(){return eZ(e)}}),e.cells.map(function(e){return(0,m.createElement)("td",K(K({},e.getCellProps()),{},{key:e.value}),e.render("Cell"))}))})}))]})})),(0,B.jsx)(T.ZP,{cols:12,children:(0,B.jsxs)(T.ZP.Row,{collapse:"992",gutter:[],align:"center",children:[(0,B.jsx)(T.ZP.Col,{span:8,children:(0,B.jsx)(M,{children:(0,B.jsx)(W,{canNextPage:eh,nextPage:ex,canPreviousPage:ev,previousPage:eg,pageIndex:em,pageOptions:ef})})}),(0,B.jsx)(T.ZP.Col,{span:4,children:(0,B.jsx)("div",{style:{textAlign:"right"},children:(0,B.jsx)(V,{menuPosition:"fixed",defaultValue:em||eC()[0],options:eC(),onChange:function(e){return eE(e.value)}})})})]})})]})},$=n(37226),ee=n(76691),et=n(61165),en=n(31513),er=n(99154),ea=n(19344),ei=n(35611),es=[{value:"draft",label:"Draft"},{value:"submitted",label:"Submitted"},{value:"pr",label:"PR"},{value:"prFailed",label:"PR Failed"},{value:"planned",label:"Planned"},{value:"applied",label:"Applied"},{value:"applyFailed",label:"Apply Failed"}],eo=(0,k.default)(ei.default)(l||(l=(0,C.Z)(["\n  & label {\n    display: block;\n    font-weight: bold;\n  }\n"]))),eu=function(e){var t,n=e.request,r=e.onUpdate,a=(0,m.useState)(n.status),i=a[0],s=a[1],o="edit-metadata",u=(t=(0,x.Z)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Uw)({id:n.id,status:i});case 2:if(!r){e.next=5;break}return e.next=5,r();case 5:window.location.hash="#";case 6:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});(0,m.useEffect)(function(){s(n.status)},[n.id]);var l=(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(eo,{label:"Integration Status",onChange:function(e){s(e.target.value)},value:i,children:es.map(function(e){return(0,B.jsx)("option",{value:e.value,children:e.label},e.value)})})});return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Z.default,{variant:"bcPrimary",size:"small",onClick:function(){return window.location.hash=o},children:"Edit Metadata"}),(0,B.jsx)(et.Z,{id:o,content:l,onConfirm:u,icon:P.UJf,title:"Edit Metadata",closable:!0})]})},el=k.default.div(c||(c=(0,C.Z)(["\n  max-height: calc(100vh - 250px);\n  overflow: auto;\n"])));function ec(e){var t=e.currentUser,n=e.request,r=e.onUpdate;return n?(0,B.jsxs)(el,{children:[(0,B.jsx)("br",{}),(0,B.jsxs)(ea.Z,{request:n,children:[(0,B.jsx)("br",{}),t.isAdmin&&(0,B.jsx)(eu,{request:n,onUpdate:r})]})]}):null}var ed=n(56839),ep=n(76944),ev=n(83333),eh=k.default.div(d||(d=(0,C.Z)(["\n  text-align: center;\n"]))),ef=[{value:"all",text:"All Events"},{value:"request-pr-success",text:"REQUEST_PR_SUCCESS"},{value:"request-pr-failure",text:"REQUEST_PR_FAILURE"},{value:"request-plan-success",text:"REQUEST_PLAN_SUCCESS"},{value:"request-plan-failure",text:"REQUEST_PLAN_FAILURE"},{value:"request-apply-success",text:"REQUEST_APPLY_SUCCESS"},{value:"request-apply-failure",text:"REQUEST_APPLY_FAILURE"},{value:"request-create-success",text:"REQUEST_CREATE_SUCCESS"},{value:"request-create-failure",text:"REQUEST_CREATE_FAILURE"},{value:"request-update-success",text:"REQUEST_UPDATE_SUCCESS"},{value:"request-update-failure",text:"REQUEST_UPDATE_FAILURE"},{value:"request-delete-success",text:"REQUEST_DELETE_SUCCESS"},{value:"request-delete-failure",text:"REQUEST_DELETE_FAILURE"},{value:"email-submission-failure",text:"EMAIL_SUBMISSION_FAILURE"}];function ex(e){var t,n=e.requestId,r=(0,m.useState)("all"),a=r[0],i=r[1],s=(0,m.useState)([]),o=s[0],u=s[1],l=(0,m.useState)(!1),c=l[0],d=l[1],p=(0,m.useState)(!1),v=p[0],h=p[1],g=(t=(0,x.Z)(j().mark(function e(){var t,r,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return d(!0),e.next=5,(0,ep.v)({requestId:n,eventCode:a});case 5:t=e.sent,i=(r=(0,f.Z)(t,2))[0],r[1]?h(!0):i&&u(i.rows),d(!1);case 11:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return((0,m.useEffect)(function(){g()},[n,a]),v)?null:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(O.Z,{children:[(0,B.jsx)("br",{}),(0,B.jsx)(ei.default,{style:{display:"inline-block",width:"250px"},value:a,onChange:function(e){i(e.target.value)},children:(0,B.jsx)(B.Fragment,{children:ef.map(function(e){return(0,B.jsx)("option",{value:e.value,children:e.text},e.value)})})})]}),c?(0,B.jsx)(eh,{children:(0,B.jsx)(ed.rj,{color:"#000",height:45,width:45,wrapperClass:"d-block",visible:c})}):(0,B.jsx)(ev.Z,{events:o})]})}var eg=n(12059);function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(t){(0,S.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eb=k.default.div(p||(p=(0,C.Z)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n"]))),ew=function(e){var t,n,r=e.integration,a=e.type,i=e.canApproveProd,s=e.awaitingTFComplete,o=e.onApproved;if(!r)return null;var u=y()(a),l="".concat(a,"-approval-modal"),c="bceid"===a?(0,en.he)(r):(0,en.R5)(r);n=i?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("p",{children:"To begin the ".concat(u," integration in production, Click Below.")}),(0,B.jsx)(Z.default,{onClick:function(){return window.location.hash=l},disabled:s,children:"Approve Prod"})]}):s&&c?(0,B.jsx)(eg.Z,{integration:r,title:"The terraform script will take approximately 20 minutes to complete."}):(0,B.jsx)("p",{children:"This integration has already been approved."});var d=(t=(0,x.Z)(j().mark(function e(){var t,n;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.WN)(em(em({},r),{},(0,S.Z)({},"".concat(a,"Approved"),!0)),!0);case 2:t=e.sent,n=(0,f.Z)(t,2)[1],o&&!n&&o();case 6:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(eb,{children:[(0,B.jsx)("br",{}),n]}),(0,B.jsx)(et.Z,{id:l,content:"Are you sure you want to approve this integration for ".concat(u," production?"),onConfirm:d,icon:P.eHv,title:"".concat(u," Approve")})]})},ey=function(e){var t=e.integration,n=e.onApproved;if(!t)return null;var r=t.status,a=t.bceidApproved;return(0,B.jsx)(ew,{type:"bceid",integration:t,canApproveProd:!a,awaitingTFComplete:"applied"!==r,onApproved:n})},eP=function(e){var t=e.integration,n=e.onApproved;if(!t)return null;var r=t.status,a=t.githubApproved;return(0,B.jsx)(ew,{type:"github",integration:t,canApproveProd:!a,awaitingTFComplete:"applied"!==r,onApproved:n})},eS=k.default.div(v||(v=(0,C.Z)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n"]))),eC=function(e){var t=e.currentUser,n=e.integration,r=e.defaultTabKey,a=e.setActiveKey,i=e.setRows,s=e.activeKey;if(!n)return null;var o=n.environments,u=(void 0===o?[]:o).includes("prod"),l=(0,er.Jx)(n),c=(0,er.dV)(n);return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(E.mQ,{activeKey:void 0===s?r:s,onChange:function(e){return a(e)},tabBarGutter:30,children:[(0,B.jsx)(E.OK,{tab:"Details",children:(0,B.jsx)(eS,{children:(0,B.jsx)(ec,{currentUser:t,request:n,onUpdate:i})})},"details"),l&&u&&(0,B.jsx)(E.OK,{tab:"BCeID Prod",children:(0,B.jsx)(ey,{integration:n,onApproved:function(){return i()}})},"bceid-prod"),c&&u&&(0,B.jsx)(E.OK,{tab:"GitHub Prod",children:(0,B.jsx)(eP,{integration:n,onApproved:function(){return i()}})},"github-prod"),(0,B.jsx)(E.OK,{tab:"Events",children:(0,B.jsx)(eS,{children:(0,B.jsx)(ex,{requestId:n.id})})},"events")]})})},eE=n(46312),eZ=n(59912),eA=n(49910),eT=k.default.div(h||(h=(0,C.Z)(["\n  height: 100%;\n  overflow: auto;\n"]))),eU=function(e){var t=e.leftPanel,n=e.rightPanel,r=e.showResizable;return e.children,(0,B.jsxs)(eZ.Z,{rules:eA.F,children:[void 0===r||r?(0,B.jsx)(eE.e,{style:{paddingTop:"2px",borderBottom:"3px solid black"},defaultSize:{width:"100%",height:.45*window.innerHeight},enable:{bottom:!0},handleStyles:{bottom:{bottom:0}},children:(0,B.jsx)(eT,{children:t&&t()})}):t&&t(),(0,B.jsx)("br",{}),n&&n()]})},ek=[{value:"idir",label:"IDIR"},{value:"bceid",label:"BCeID"},{value:"github",label:"GitHub"}],eR=[{value:"active",label:"Active"},{value:"archived",label:"Deleted"}],eO=[{value:"dev",label:"Dev"},{value:"test",label:"Test"},{value:"prod",label:"Prod"}],eF=[{value:"silver",label:"Silver"},{value:"gold",label:"Gold"}],eI=[5,10,15,30,50,100];function e_(){return(0,B.jsx)("span",{style:{marginLeft:"40%"},children:"Actions"})}function eq(e){var t,n,r,a,i,s,o,u=e.session,l=(0,b.useRouter)(),c=(0,m.useState)(!1),d=c[0],p=c[1],v=(0,m.useState)(!1),h=v[0],g=v[1],w=(0,m.useState)([]),S=w[0],C=w[1],E=(0,m.useState)(String((null===(s=l.query)||void 0===s?void 0:s.id)||"")),Z=E[0],A=E[1],T=(0,m.useState)(0),U=T[0],k=T[1],R=(0,m.useState)(5),O=R[0],F=R[1],I=(0,m.useState)(1),_=I[0],q=I[1],D=(0,m.useState)(Number(null===(o=l.query)||void 0===o?void 0:o.id)||void 0),L=D[0],z=D[1],K=(0,m.useState)([]),H=K[0],M=K[1],G=(0,m.useState)([]),Q=G[0],V=G[1],J=(0,m.useState)([]),X=J[0],W=J[1],er=(0,m.useState)([]),ea=er[0],ei=er[1],eo=(0,m.useState)([]),eu=eo[0],el=eo[1],ec=(0,m.useState)("details"),ed=ec[0],ep=ec[1],ev=S.find(function(e){return e.id===L}),eh=(t=(0,x.Z)(j().mark(function e(){var t,n,r,a,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,en.UT)(Q,H),r=(n=(0,f.Z)(t,3))[0],a=n[1],i=n[2],e.abrupt("return",(0,$.zD)({searchField:["id","projectName"],searchKey:Z,order:[["updatedAt","desc"],["status","desc"]],limit:O,page:_,status:X.map(function(e){return e.value}),archiveStatus:ea.map(function(e){return e.value}),realms:a,environments:i,types:eu.map(function(e){return e.value}),devIdps:r}));case 2:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),ef=(n=(0,x.Z)(j().mark(function e(){var t,n,r;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,eh();case 3:t=e.sent,r=(n=(0,f.Z)(t,2))[0],n[1]?g(!0):r&&(C(r.rows),k(r.count)),p(!1);case 9:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});if((0,m.useEffect)(function(){z(void 0),ef()},[Z,O,_,X,ea,Q,H,eu]),(0,m.useEffect)(function(){var e;return(0,en.rn)(S)&&(e=setTimeout((0,x.Z)(j().mark(function t(){var n,r,a;return j().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,eh();case 2:n=t.sent,a=(r=(0,f.Z)(n,2))[0],r[1]?clearInterval(e):a&&(C(a.rows),k(a.count));case 7:case"end":return t.stop()}},t)})),5e3)),function(){e&&clearInterval(e)}},[S]),h)return null;var ex=function(e){return["applied"].includes((null==e?void 0:e.status)||"")},eg=function(e){return!["pr","planned","submitted"].includes((null==e?void 0:e.status)||"")},ej=(r=(0,x.Z)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t.id||!ex(t))){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l.push("/request/".concat(t.id,"?status=").concat(t.status));case 4:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),em=(a=(0,x.Z)(j().mark(function e(t){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t.id||!eg(t))){e.next=2;break}return e.abrupt("return");case 2:z(t.id),window.location.hash="delete-modal";case 4:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),eb=(i=(0,x.Z)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(eg){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,$.Jl)(L);case 4:return e.next=6,eh();case 6:window.location.hash="#";case 7:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)}),ew=function(e){z(e.cells[0].value),ep("details")};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(eU,{leftPanel:function(){return(0,B.jsx)(Y,{searchPlaceholder:"Project ID or Name",headers:[{accessor:"id",Header:"Request ID"},{accessor:"projectName",Header:"Project Name"},{accessor:"status",Header:"Request Status"},{accessor:"archived",Header:"File Status"},{accessor:"serviceType",Header:"Service Type"},{accessor:"actions",Header:(0,B.jsx)(e_,{}),disableSortBy:!0}],data:S.map(function(e){return{id:e.id,projectName:e.projectName,status:y()(e.status),archived:e.archived?"Deleted":"Active",serviceType:"gold"===e.serviceType?"Gold":"Silver",environments:e.environments,actions:(0,B.jsxs)(ee.c4,{children:[(0,B.jsx)(ee.Kk,{icon:P.Mdf,role:"button","aria-label":"events",onClick:function(t){t.stopPropagation(),z(e.id),ep("events")},title:"Events"}),(0,B.jsx)(ee.MO,{}),(0,B.jsx)(ee.Kk,{disabled:!ex(e),icon:P.Xcf,role:"button","aria-label":"edit",onClick:function(){return ej(e)},title:"Edit"}),(0,B.jsx)(ee.MO,{}),(0,B.jsx)(ee.Kk,{icon:P.$aW,role:"button","aria-label":"delete",onClick:function(){return em(e)},disabled:!eg(e),activeColor:N.Uo,title:"Delete"})]})}}),activateRow:ew,colfilters:[{value:H,multiselect:!0,onChange:M,options:eO,label:"Environments"},{value:Q,multiselect:!0,onChange:V,options:ek,label:"IDPs"},{value:X,multiselect:!0,onChange:W,options:es,label:"Workflow Status"},{value:ea,multiselect:!0,onChange:ei,options:eR,label:"Archive Status"},{value:eu,multiselect:!0,onChange:el,options:eF,label:"Service Type"}],showFilters:!0,loading:d,totalColSpan:15,searchColSpan:5,headerAlign:"bottom",headerGutter:[5,0],onPage:q,rowCount:U,searchKey:Z,onSearch:function(e){A(e)},onEnter:function(e){A(e)},pageLimits:eI,limit:O,onLimit:function(e){q(1),F(e)}})},rightPanel:function(){return ev&&(0,B.jsx)(eC,{currentUser:u,integration:ev,defaultTabKey:"details",setActiveKey:ep,activeKey:ed,setRows:ef})}}),(0,B.jsx)(et.Z,{id:"delete-modal",content:"You are about to delete this integration request. This action cannot be undone.",onConfirm:eb,confirmText:"Delete",title:"Confirm Deletion"})]})}},76944:function(e,t,n){"use strict";n.d(t,{v:function(){return u}});var r,a=n(50029),i=n(87794),s=n.n(i),o=n(21963),u=(r=(0,a.Z)(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.e.post("events",t).then(function(e){return e.data});case 3:return n=e.sent,e.abrupt("return",[n,null]);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[null,e.t0]);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return r.apply(this,arguments)})},37226:function(e,t,n){"use strict";n.d(t,{A_:function(){return S},H0:function(){return E},Jl:function(){return U},Uw:function(){return k},WN:function(){return T},XJ:function(){return C},ct:function(){return Z},hG:function(){return P},zD:function(){return A}});var r,a,i,s,o,u,l,c,d,p=n(50029),v=n(87794),h=n.n(v),f=n(21963),x=n(75316),g=n.n(x),j=n(25751),m=n.n(j),b=n(76427),w=n.n(b),y=n(31513),P=(r=(0,p.Z)(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.e.post("requests",t).then(function(e){return e.data});case 3:return n=e.sent,e.abrupt("return",[(0,y.UB)(n),null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,f.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return r.apply(this,arguments)}),S=(a=(0,p.Z)(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.e.post("request",{requestId:m()(t)?parseInt(t):t}).then(function(e){return e.data});case 3:return n=e.sent,e.abrupt("return",[(0,y.UB)(n),null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,f.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return a.apply(this,arguments)}),C=(i=(0,p.Z)(h().mark(function e(){var t,n,r=arguments;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={params:{include:r.length>0&&void 0!==r[0]?r[0]:"active"}},e.prev=2,e.next=5,f.e.get("requests",t).then(function(e){return e.data});case 5:return n=e.sent,n=g()(n,["createdAt"],["desc"]),e.abrupt("return",[n.map(y.UB),null]);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",(0,f.z)(e.t0));case 13:case"end":return e.stop()}},e,null,[[2,10]])})),function(){return i.apply(this,arguments)}),E=(s=(0,p.Z)(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.e.get("team-integrations/".concat(t)).then(function(e){return e.data});case 3:return n=e.sent,n=g()(n,["createdAt"],["desc"]),e.abrupt("return",[n.map(y.UB),null]);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",(0,f.z)(e.t0));case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return s.apply(this,arguments)}),Z=(o=(0,p.Z)(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.e.get("requests/".concat(t,"/resubmit")).then(function(e){return e.data});case 3:return n=e.sent,e.abrupt("return",[(0,y.UB)(n),null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,f.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return o.apply(this,arguments)}),A=(u=(0,p.Z)(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.e.post("requests-all",t).then(function(e){return e.data});case 3:return n=e.sent,e.abrupt("return",[{count:n.count,rows:n.rows.map(y.UB)},null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,f.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return u.apply(this,arguments)}),T=(l=(0,p.Z)(h().mark(function e(t){var n,r,a,i=arguments;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],e.prev=1,r="requests",n&&(r="".concat(r,"?submit=true")),(t=w()(t,["user","lastChanges"])).devLoginTitle=t.devLoginTitle||"",t.testLoginTitle=t.testLoginTitle||"",t.prodLoginTitle=t.prodLoginTitle||"",e.next=10,f.e.put(r,t).then(function(e){return e.data});case 10:return a=e.sent,e.abrupt("return",[(0,y.UB)(a),null]);case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",(0,f.z)(e.t0));case 17:case"end":return e.stop()}},e,null,[[1,14]])})),function(e){return l.apply(this,arguments)}),U=(c=(0,p.Z)(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.e.delete("requests",{params:{id:t}}).then(function(e){return e.data});case 3:return n=e.sent,e.abrupt("return",[n,null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,f.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return c.apply(this,arguments)}),k=(d=(0,p.Z)(h().mark(function e(t){var n;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.e.put("request-metadata",t).then(function(e){return e.data});case 3:return n=e.sent,e.abrupt("return",[(0,y.UB)(n),null]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(0,f.z)(e.t0));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return d.apply(this,arguments)})},25809:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin-dashboard",function(){return n(67708)}])}},function(e){e.O(0,[436,726,530,521,926,774,888,179],function(){return e(e.s=25809)}),_N_E=e.O()}]);