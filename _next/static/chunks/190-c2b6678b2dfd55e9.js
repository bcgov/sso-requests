"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{97935:function(e,t,n){var r,i=n(71383),o=n(71893).ZP.span(r||(r=(0,i.Z)(["\n  color: #dc3545;\n  margin: 0;\n  padding: 0;\n"])));t.Z=o},42563:function(e,t,n){var r,i,o,a=n(71383),s=n(71893),l=n(11162),c=n(95107),d=n(66496),u=n(85893),p=s.ZP.table(r||(r=(0,a.Z)(["\n  font-size: unset;\n  & tr {\n    display: flex;\n    margin-bottom: 5px;\n    & > td {\n      border: none;\n      padding: 0 5px 0 0;\n    }\n  }\n"]))),h=s.ZP.span(i||(i=(0,a.Z)(["\n  font-weight: 600;\n"]))),m=s.ZP.ul(o||(o=(0,a.Z)(["\n  list-style: none;\n  margin: 0;\n  & li {\n    margin: 0;\n  }\n"]))),FormattedList=function(e){var t=e.list,n=e.title,r=e.inline,i=void 0!==r&&r,o=e.testid;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:n}),((null==t?void 0:t.length)===1||i)&&(0,u.jsx)(h,{"data-testid":o,children:null==t?void 0:t.map(function(e,n){return(0,u.jsxs)("span",{children:[e,n!==t.length-1&&", "," "]},e)})})]}),!i&&((null==t?void 0:t.length)||0)>1&&(0,u.jsx)("tr",{children:(0,u.jsx)("td",{children:(0,u.jsx)(h,{children:(0,u.jsx)(m,{children:null==t?void 0:t.map(function(e){return(0,u.jsx)("li",{children:e},e)})})})})})]})};t.Z=function(e){var t,n,r,i,o,a,s,m,f=e.children,b=e.request,g=e.teams;if(!b)return null;var v=null!==(i=b.devIdps)&&void 0!==i?i:[],j="saml"!==b.protocol,y=v.map(function(e){return c.S[e]}),x=(0,d.e$)(b),w="";b.usesTeam&&(w=(null===(m=(void 0===g?[]:g).find(function(e){return String(e.id)===String(b.teamId)}))||void 0===m?void 0:m.name)||b.team&&b.team.name);var O=(t=b.primaryEndUsers,n=b.primaryEndUsersOther,null==t?void 0:t.map(function(e){switch(e){case"livingInBC":return"People living in BC";case"businessInBC":return"People doing business/travel in BC";case"bcGovEmployees":return"BC Gov Employees";case"other":return"Other: ".concat(null!=n?n:"");default:return""}}));return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(p,{children:(0,u.jsxs)("tbody",{children:[w?(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Associated Team:"}),(0,u.jsx)("td",{children:(0,u.jsx)(h,{"data-testid":"associated-team",children:w})})]}):(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Are you accountable for this project?"}),(0,u.jsx)("td",{children:(0,u.jsx)(h,{"data-testid":"you-accountable",children:void 0===(r=b.projectLead)?"":r?"Yes":"No"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Client Protocol:"}),(0,u.jsx)("td",{children:(0,u.jsx)(h,{"data-testid":"client-protocol",children:j?"OpenID Connect":"SAML"})})]}),j&&(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Client Type:"}),(0,u.jsx)("td",{children:(0,u.jsx)(h,{"data-testid":"client-type-team",children:b.publicAccess?"Public":"Confidential"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Usecase:"}),(0,u.jsx)("td",{children:(0,u.jsx)(h,{"data-testid":"use-case",children:l.F[b.authType||"browser-login"]})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Project Name:"}),(0,u.jsx)("td",{children:(0,u.jsx)(h,{"data-testid":"project-name",children:b.projectName})})]}),O&&(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Primary End Users:"}),(0,u.jsx)("td",{children:(0,u.jsx)(h,{"data-testid":"project-name",children:O.join(", ")})})]}),b.additionalRoleAttribute&&(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Additional Role Attribute:"}),(0,u.jsx)("td",{children:(0,u.jsx)(h,{"data-testid":"add-role-attrib",children:b.additionalRoleAttribute})})]}),(0,u.jsx)(FormattedList,{list:y,title:"Identity Providers Required:",inline:!0,testid:"idp-required"}),x&&(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Privacy Zone:"}),(0,u.jsx)("td",{children:(0,u.jsx)(h,{children:b.bcscPrivacyZone})})]}),(null===(o=b.environments)||void 0===o?void 0:o.includes("dev"))&&(0,u.jsx)(FormattedList,{list:b.devValidRedirectUris,title:"Dev Redirect URIs:",testid:"dev-uri"}),(null===(a=b.environments)||void 0===a?void 0:a.includes("test"))&&(0,u.jsx)(FormattedList,{list:b.testValidRedirectUris,title:"Test Redirect URIs:",testid:"test-uri"}),(null===(s=b.environments)||void 0===s?void 0:s.includes("prod"))&&(0,u.jsx)(FormattedList,{list:b.prodValidRedirectUris,title:"Prod Redirect URIs:",testid:"prod-uri"}),f]})})})}},14190:function(e,t,n){n.d(t,{Z:function(){return tJ}});var r,i,o,a,s,l,c,d,u,p,h,m,f,b,g,v,j,y,x,w,O,S,P,_,C,Z,T,F,k,I,D,A,E,R,N,L,B,q,U=n(16835),W=n(50029),M=n(59499),K=n(71383),G=n(87794),z=n.n(G),H=n(67294),V=n(11163),Y=n(71893),J=n(59722),$=n.n(J),Q=n(93096),X=n.n(Q),ee=n(71431),et=n.n(ee),en=n(61478),er=n.n(en),ei=n(70100),eo=n.n(ei),ea=n(85893),es=Y.ZP.h1(o||(o=(0,K.Z)(["\n  font-weight: lighter;\n  color: #003366;\n  margin: 0;\n"])));function Formheader(e){var t=e.schema,n=e.requestId,r=e.editing,i=et()(String(n),8,"0"),o="".concat($()(n)?"":"Req ID: ".concat(i," - ")).concat(t.headerText);return(0,ea.jsx)(es,{children:(r?"Editing ":"")+o})}var el=n(64735),ec=n(99603),ed=n(59417),eu=n(35683),ep=n.n(eu),eh=Y.ZP.div(a||(a=(0,K.Z)(["\n  height: 60px;\n  width: 200px;\n  background-color: #ebf7ff;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  border-radius: 5px;\n  padding: 15px;\n  cursor: pointer;\n  margin: 3px 0;\n  ","\n"])),function(e){var t=e.color,n=e.backgroundColor,r=e.fontWeight,i=e.border;return"\n    color: ".concat(t,";\n    background-color: ").concat(n,";\n    font-weight: ").concat(r,";\n    border: ").concat(i,";\n  ")}),em=Y.ZP.div(s||(s=(0,K.Z)(["\n  height: 40px;\n  width: 40px;\n  min-width: 40px;\n  text-align: center;\n  line-height: 40px;\n  border-radius: 40px;\n  border: 1px solid #b9d8f0;\n  background-color: white;\n  font-weight: bold;\n  color: #31393f;\n"]))),ef=Y.ZP.p(l||(l=(0,K.Z)(["\n  margin: 0 0 0 5px;\n"])));function FormStagebox(e){var t=e.stageNumber,n=e.title,r=e.active,i=e.visited,o=e.handleClick,a=e.hasError,s="#999999",l="#F0F8FE",c="400",d="1px solid #999999";return r?(a?(s="#FFFFFF",l="#D75757"):(s="#FFFFFF",l="#2A6FBE"),c="700",d="2px solid #313131"):i&&(a?(s="#1A1A1A",l="#F1C0C0",c="700"):(s="#31393F",l="#C3E3FC",c="400"),d="1px solid #313131"),(0,ea.jsxs)(eh,{color:s,backgroundColor:l,fontWeight:c,border:d,onClick:o,"data-testid":"stage-".concat(ep()(n)),children:[(0,ea.jsx)(em,{children:a?(0,ea.jsx)(ec.G,{icon:ed.eHv,color:"red",title:"Some additional fields require your attention."}):t}),(0,ea.jsx)(ef,{children:n})]})}var eb=Y.ZP.div(c||(c=(0,K.Z)(["\n  width: 824px;\n  max-width: 100%;\n"])));function Formstage(e){var t=e.currentStage,n=e.setFormStage,r=e.errors,i=e.isNew,o=e.visited,a=e.schemas,_handleClick=function(e){i||n(e)};return(0,ea.jsx)(eb,{children:(0,ea.jsx)(el.ZP,{cols:4,children:(0,ea.jsx)(el.ZP.Row,{collapse:"992",gutter:[],children:null==a?void 0:a.map(function(e,n){return(0,ea.jsx)(el.ZP.Col,{children:(0,ea.jsx)(FormStagebox,{title:e.stepText,stageNumber:n+1,active:n===t,hasError:!!r[n],visited:o[n],handleClick:function(){return _handleClick(n)}},n)},e.stepText)})})})})}var eg=n(13725),ev=n(76427),ej=n.n(ev),ey=n(10908),ex=n(30996),ew=n(35611);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var widgetWrapper=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=function(e){switch(e){case"checkbox":return"checked";case"file":return"files";default:return"value"}}(t);return function(r){var i=r.value,o=r.onChange,a=r.label,s=r.schema,l=r.options,c=r.required,d=r.disabled,u=r.onBlur,p=r.id,h=void 0===p?"":p,m=r.readonly,f=s.pattern,b=s.minLength,g=s.maxLength,v=s.placeholder,j=s.fullWidth,y=s.rows,x=l.enumOptions,w=void 0===x?[]:x,O={onChange:function(e){var t=e.target[n];""===t&&(t=void 0),"true"===t&&(t=!0),"false"===t&&(t=!1),o(t)},label:a,name:name,maxLength:g,id:h,required:c,disabled:d,minLength:b,type:t,pattern:f,onBlur:u,fullWidth:j,rows:y,readOnly:m,value:i||"",placeholder:v,checked:void 0!==i&&i};return("file"===t&&delete O.value,"checkbox"===t&&(O.value=!0),"radio"===t)?(0,ea.jsxs)("div",{children:[(0,ea.jsx)("label",{children:a}),w.map(function(t){return(0,ea.jsx)(e,_objectSpread(_objectSpread({},O),{},{label:t.label,value:t.value,checked:t.value===i,style:{padding:"2px 0"},size:"small",readOnly:m,onBlur:u}),t.value)})]}):(0,ea.jsx)(e,_objectSpread(_objectSpread({},O),{},{onBlur:u&&function(e){return u(h,e.target.value)},children:w&&w.map(function(e){var t=e.value,n=e.label;return(0,ea.jsx)("option",{value:t,children:n},t)})}))}},eO=n(32581);function GovForm_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GovForm_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GovForm_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GovForm_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var PureInput=function(e){return(0,ea.jsx)(ey.default,GovForm_objectSpread({},ej()(e,"label")))},eS={TextWidget:widgetWrapper(PureInput,"input"),EmailWidget:widgetWrapper(PureInput,"email"),TextareaWidget:widgetWrapper(function(e){return(0,ea.jsx)(ex.default,GovForm_objectSpread({},ej()(e,"label")))},"textarea"),SelectWidget:widgetWrapper(ew.default,"select")};function GovForm(e){return(0,ea.jsx)(eg.ZP,GovForm_objectSpread(GovForm_objectSpread({},e),{},{widgets:eS,noHtml5Validate:!0,ErrorList:function(){return null},transformErrors:eO.O5,showErrorList:!1}))}var eP=n(34798),e_=n.n(eP),eC=n(42894),eZ=n(32997),eT=n(85330);function FormButtons_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eF=Y.ZP.div(d||(d=(0,K.Z)(["\n  margin-top: ",";\n  display: flex;\n  column-gap: 0.625rem;\n"])),eZ.oc);function FormButtons(e){var t=e.loading,n=e.backButton,r=e.text,i=e.handleSubmit,o=e.handleBackClick,a=e.formSubmission,s=e.savingStatus;return(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsxs)(eF,{"data-testid":"form-btns",children:[n||(0,ea.jsx)("button",{className:"secondary wide",type:"button",onClick:o,children:r.back}),(0,ea.jsx)("button",{className:"primary wide",onClick:t?e_():i,type:a?"submit":"button",children:t?(0,ea.jsx)(eC.rj,{color:"#FFF",height:18,width:50,wrapperClass:"d-block",visible:!0}):(0,ea.jsx)(ea.Fragment,{children:r.continue})})]}),(0,ea.jsx)(eT.Ad,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FormButtons_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FormButtons_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},s))]})}var ek=n(86010),eI=n(52586);function FieldTemplate_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FieldTemplate_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FieldTemplate_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FieldTemplate_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eD=Y.ZP.legend(u||(u=(0,K.Z)(["\n  font-weight: bold;\n  font-size: 1rem;\n  margin: 0;\n"])));function FieldTemplate(e){var t=e.id,n=(e.formContext,e.classNames),r=e.label,i=e.displayLabel,o=e.help,a=e.errors,s=e.children,l=e.schema,c=e.top,d=e.bottom,u=l.type,p=l.tooltip,h=l.description,m=l.additionalClassNames,f=(0,ek.default)(n,m);return(0,ea.jsxs)(ea.Fragment,{children:[void 0===c?null:c,(0,ea.jsx)("div",{className:f,children:(0,ea.jsxs)(ea.Fragment,{children:[i&&r&&(0,ea.jsxs)(eD,{"data-testid":"".concat(t,"_title"),children:[(0,ea.jsxs)("label",{htmlFor:e.id,children:[r,"\xa0"]}),p&&(0,ea.jsx)(eI.Z,FieldTemplate_objectSpread(FieldTemplate_objectSpread({},p),{},{trigger:null!=p&&p.trigger?null==p?void 0:p.trigger:["hover","focus"]}))]}),(0,ea.jsx)("div",{"data-testid":"".concat(t,"_description"),children:"array"===u?null:h}),s,a,o]})}),void 0===d?null:d]})}var eA=n(98423),eE=n.n(eA);function ArrayFieldTemplate_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ArrayFieldTemplate_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ArrayFieldTemplate_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ArrayFieldTemplate_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eR=Y.ZP.div(p||(p=(0,K.Z)(["\n  position: relative;\n  width: 100%;\n  max-width: ",";\n\n  & div,\n  & input {\n    width: 100%;\n    max-width: ",";\n  }\n"])),eZ.Ik,eZ.Ik),eN=Y.ZP.p(h||(h=(0,K.Z)(["\n  margin: 0;\n"]))),eL=Y.ZP.div(m||(m=(0,K.Z)(["\n  display: inline-block;\n  &:hover {\n    cursor: pointer;\n  }\n  margin-top: 0;\n"]))),eB=(0,Y.ZP)(eL)(f||(f=(0,K.Z)(["\n  position: absolute;\n  width: 20px !important;\n  right: 10px;\n  top: 10px;\n"]))),eq=Y.ZP.p(b||(b=(0,K.Z)(["\n  display: inline-block;\n  margin: 0;\n  margin-top: 5px;\n  font-size: 16px;\n  font-weight: lighter;\n  padding-left: 10px;\n  color: #bbbbbb;\n"]))),eU=Y.ZP.legend(g||(g=(0,K.Z)(["\n  font-weight: bold;\n  font-size: 1rem;\n  margin: 0;\n"]))),eW=Y.ZP.p(v||(v=(0,K.Z)(["\n  font-style: italic;\n  font-size: 0.9rem;\n"])));function ArrayFieldTemplate(e){var t=e.formContext,n=e.title,r=e.items,i=e.schema,o=i.description,a=i.tooltip,s=i.deletableIndex,l=void 0===s?1:s,c=i.addItemText,d=i.currentEnvironment,u=eE()(l)?l(r):parseInt(l);return(0,ea.jsxs)("div",{children:[n&&(0,ea.jsxs)(eU,{children:[n," ",a&&(0,ea.jsx)(eI.Z,ArrayFieldTemplate_objectSpread(ArrayFieldTemplate_objectSpread({},a),{},{onClick:function(){return(null==a?void 0:a.onClick(t))||e_()}}))]}),o&&(0,ea.jsx)(eN,{dangerouslySetInnerHTML:{__html:o}}),r.map(function(e){return(0,ea.jsx)(H.Fragment,{children:e.hasRemove&&(0,ea.jsxs)(eR,{children:[e.children,e.index>=u&&(0,ea.jsx)(eB,{onClick:e.onDropIndexClick(e.index),children:(0,ea.jsx)(ec.G,{style:{color:"red"},icon:ed.uMC,title:"Remove Item"})})]})},e.index)}),"prod"===d?(0,ea.jsxs)(eW,{children:["*Note: wildcard* redirect URIs are ",(0,ea.jsx)("strong",{children:"not"})," allowed in Prod for security reasons."]}):(0,ea.jsxs)(eW,{children:["*Note: wildcard* redirect URIs are ",(0,ea.jsx)("strong",{children:"only"})," allowed in ",(0,ea.jsx)("strong",{children:"Dev"})," and"," ",(0,ea.jsx)("strong",{children:"Test"})," environments (but not in Prod for security reasons)."]}),e.canAdd&&(0,ea.jsxs)(eL,{onClick:e.onAddClick,children:[(0,ea.jsx)(ec.G,{style:{color:"#006fc4"},icon:ed.KtF,onClick:e.onAddClick,title:"Add Item","data-testid":"add-uri"}),(0,ea.jsx)(eq,{children:c})]})]})}var eM=n(28084),eK=n(58063),eG=n(66496),ez=n(60915),eH=n(10170),eV=n(97644),eY=n.n(eV),eJ=n(30105),e$=n(61864);function FieldProjectTeam_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FieldProjectTeam_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FieldProjectTeam_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FieldProjectTeam_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eQ=Y.ZP.div(j||(j=(0,K.Z)(["\n  display: grid;\n  grid-template-columns: 20px 1fr;\n  align-items: center;\n  margin-top: ",";\n  cursor: pointer;\n"])),eZ.SI),eX=Y.ZP.label(y||(y=(0,K.Z)(["\n  font-weight: bold;\n  cursor: pointer;\n"]))),e0=Y.ZP.p(x||(x=(0,K.Z)(["\n  grid-column: 2;\n  color: #7f7f7f;\n"])));function FieldProjectTeam(e){var t,n=e.formContext,r=n.formData,i=n.setFormData,o=n.loadTeams,a=H.useState(!1),s=(0,U.Z)(a,2),l=s[0],c=s[1],d=(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsxs)(eQ,{onClick:function(){c(!0)},children:[(0,ea.jsx)(ec.G,{style:{color:"#006fc4"},icon:ed.KtF,title:"Add Team"}),(0,ea.jsx)(eX,{children:"Create a New Team (optional)"}),(0,ea.jsx)(e0,{children:"Add other members to help manage the integration, and re-use your teams across multiple integrations"})]}),(0,ea.jsx)(eM.Z,{id:e$.zw,title:"Create a New Team",icon:null,content:(0,ea.jsx)(eJ.Z,{onSubmit:(t=(0,W.Z)(z().mark(function _callee(e){return z().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:i(FieldProjectTeam_objectSpread(FieldProjectTeam_objectSpread({},r),{},{usesTeam:!0,teamId:String(e)}));case 3:case"end":return t.stop()}},_callee)})),function(e){return t.apply(this,arguments)}),setOpenCreateTeamModal:c}),showCancel:!1,showConfirm:!1,openModal:l,handleClose:function(){return c(!1)},closable:!0})]});return(0,ea.jsx)(FieldTemplate,FieldProjectTeam_objectSpread(FieldProjectTeam_objectSpread({},e),{},{bottom:d}))}var e1=n(50308),e3=n.n(e1),e2=n(74857),e9=n(74150),e5=(0,Y.ZP)(e2.default)(w||(w=(0,K.Z)(["\n  margin-bottom: 10px;\n"]))),new_request_SolutionNavigator=function(e){var t,n,r=e.id,i=e.open,o=e.onChange,a=void 0===o?e3():o,s=(0,H.useState)("server"),l=s[0],c=s[1],d=(0,H.useState)(null),u=d[0],p=d[1],close=function(){c("server"),p(null),window.location.hash="#"},h=(t=(0,W.Z)(z().mark(function _callee(){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a("cancel"),close();case 2:case"end":return e.stop()}},_callee)})),function(){return t.apply(this,arguments)}),m=(n=(0,W.Z)(z().mark(function _callee2(){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a("server"===l&&!0===u?"confidential":"public"),close();case 2:case"end":return e.stop()}},_callee2)})),function(){return n.apply(this,arguments)}),f="server"!==l||null!==u,b=f&&"server"===l&&!0===u;return(0,ea.jsx)(eM.Z,{id:r,openModal:i,handleClose:h,onConfirm:m,confirmText:"Save and Close",title:"Choosing between Public and Confidential Client types",content:(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsxs)("fieldset",{children:[(0,ea.jsx)("legend",{children:"Which type of application are you using?"}),(0,ea.jsx)(e5,{name:"type",label:"Server-side (ex. .Net, Java, PHP)",checked:"server"===l,onChange:function(){return c("server")}}),(0,ea.jsx)(e5,{name:"type",label:"Javascript (ex. Single Page Application, Hybrid Mobile)",checked:"javascript"===l,onChange:function(){return c("javascript")}}),(0,ea.jsx)(e5,{name:"type",label:"Other (ex. Embedded devices, Internet of Things (Apple TV)",checked:"other"===l,onChange:function(){return c("other")}})]}),"server"===l&&(0,ea.jsxs)("fieldset",{children:[(0,ea.jsx)("br",{}),(0,ea.jsx)("legend",{children:"Does the framework require a client secret, or have an option for a secret?"}),(0,ea.jsx)(e5,{name:"secret",label:"Yes",checked:!0===u,onChange:function(){return p(!0)}}),(0,ea.jsx)(e5,{name:"secret",label:"No",checked:!1===u,onChange:function(){return p(!1)}})]}),f&&(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsx)("br",{}),(0,ea.jsx)(ea.Fragment,{children:b?(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsx)("h4",{children:"Recommendation: Confidential Client"}),(0,ea.jsx)("p",{children:"With a confidential client, the back-end component securely stores an application secret that allows it to communicate with the KeyCloak server to facilitate the OIDC authentication process."})]}):(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsx)("h4",{children:"Recommendation: Public Client"}),(0,ea.jsx)("p",{children:"Public clients do not use back-end secrets, but use a secure OAuth flow called PKCE, or Proof Key for Code Exchange. Based on your responses, the public client may better support your application's architecture."})]})}),(0,ea.jsx)(ea.Fragment,{children:(0,ea.jsxs)("p",{children:["To learn more about the difference between confidential and public clients, and to understand PKCEs better, visit our"," ",(0,ea.jsx)(e9.default,{external:!0,href:"https://github.com/bcgov/ocp-sso/wiki/Using-Your-SSO-Client#confidential-vs-private-client",children:"wiki page."})]})})]})]})})},e6=Y.ZP.div(O||(O=(0,K.Z)(["\n  margin-top: 5px;\n  margin-bottom: 5px;\n\n  & > input {\n    margin-right: 5px;\n  }\n"]))),widgets_ClientTypeWidget=function(e){var t=e.id,n=e.value,r=e.onChange,i=e.onBlur,o=e.schema,a=e.options.enumNames,s=o.enum,l=(0,H.useState)(!1),c=l[0],d=l[1];return(0,ea.jsxs)("div",{children:[(void 0===a?[]:a).map(function(e,o){return(0,ea.jsxs)(e6,{children:[(0,ea.jsx)("input",{type:"radio",id:"".concat(t,"-").concat(e),name:t,value:e,checked:s[o]===n,onChange:function(){return r(s[o])},onBlur:function(){return i(t,n)}}),(0,ea.jsx)("label",{htmlFor:"".concat(t,"-").concat(e),children:e})]},e)}),(0,ea.jsxs)("div",{children:[(0,ea.jsx)(e9.default,{onClick:function(){return d(!0)},style:{cursor:"pointer"},children:"Click here"})," ","to get help deciding which client type to use."]}),(0,ea.jsx)(new_request_SolutionNavigator,{id:"client-helper",open:c,onChange:function(e){d(!1),"cancel"!==e&&r("public"===e)}})]})},e4=Y.ZP.span(S||(S=(0,K.Z)(["\n  & input {\n    height: 1.94rem;\n    max-width: 3.125rem;\n  }\n"]))),e7=Y.ZP.div(P||(P=(0,K.Z)(["\n  display: flex;\n  flex-direction: row;\n  column-gap: 0.5em;\n"]))),e8=Y.ZP.span(_||(_=(0,K.Z)(["\n  display: inline-block;\n\n  & select {\n    width: 100px;\n  }\n\n  & select:disabled {\n    margin: 0;\n  }\n"]))),widgets_ClientTokenWidget=function(e){var t=e.id,n=e.value,r=void 0===n?0:n,i=e.label,o=e.readonly,a=e.onChange;o&&(a=e_());var s=(0,H.useState)(0),l=s[0],c=s[1],d=(0,H.useState)("Minutes"),u=d[0],p=d[1],convertSeconds=function(e){if(0===e){c(0),p("Minutes");return}var t=e,n="Seconds";t%60==0&&(n="Minutes",t/=60),t%60==0&&(n="Hours",t/=60),t%24==0&&(n="Days",t/=24),c(t),p(n)};return(0,H.useEffect)(function(){convertSeconds(r)},[r]),(0,ea.jsxs)(e7,{children:[(0,ea.jsx)(e4,{children:(0,ea.jsx)(ey.default,{type:"text",size:"small",id:t,name:i,value:l.toString(),onChange:function(e){var t=parseInt(e.target.value);isNaN(t)&&(t=0);var n=t;"Minutes"===u?n*=60:"Hours"===u?n*=3600:n*=86400,n>31536e3&&(n=31536e3),a(n),c(t)},disabled:o})}),(0,ea.jsx)(e8,{children:(0,ea.jsxs)(ew.default,{size:"small",onChange:function(e){var t=e.target.value,n=0;(n="Minutes"===t?60*l:"Hours"===t?3600*l:86400*l)>31536e3&&(n=31536e3),a(n),p(t)},value:u,disabled:o,children:[(0,ea.jsx)("option",{children:"Minutes"}),(0,ea.jsx)("option",{children:"Hours"}),(0,ea.jsx)("option",{children:"Days"})]})})]})};function TooltipRadioWidget_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var widgets_TooltipRadioWidget=function(e){var t=e.options,n=e.value,r=e.required,i=e.disabled,o=e.readonly,a=e.autofocus,s=void 0!==a&&a,l=e.onBlur,c=e.onFocus,d=e.onChange,u=e.id,p=e.schema,h=Math.random().toString(),m=t.enumOptions,f=t.enumDisabled,b=t.inline,g=p.tooltips,v=Array.isArray(m)?m:[],j=Array.isArray(f)?f:[];return(0,ea.jsx)("div",{className:"field-radio-group",id:u,children:v.map(function(e,t){var a=e.value===n,p=-1!==j.indexOf(e.value),m=i||p||o?"disabled":"",f=(0,ea.jsxs)("span",{children:[(0,ea.jsx)("input",{type:"radio",checked:a,name:h,required:r,value:e.value,disabled:i||p||o,autoFocus:s&&0===t,onChange:function(t){return d(e.value)},onBlur:l&&function(e){return l(u,e.target.value)},onFocus:c&&function(e){return c(u,e.target.value)}}),(0,ea.jsx)("span",{children:e.label}),"\xa0",g[t]&&(0,ea.jsx)(eI.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TooltipRadioWidget_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TooltipRadioWidget_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},g[t]))]});return b?(0,ea.jsx)("label",{className:"radio-inline ".concat(m),children:f},t):(0,ea.jsx)("div",{className:"radio ".concat(m),children:(0,ea.jsx)("label",{children:f})},t)})})};function TooltipCheckboxesWidget_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var te=Y.ZP.span(C||(C=(0,K.Z)(["\n  background: ",";\n  border-radius: 0.2em;\n  padding: 0.1em 0.3em;\n  text-transform: capitalize;\n  color: white;\n"])),eZ.UH),tt=Y.ZP.p(Z||(Z=(0,K.Z)(["\n  font-style: italic;\n  margin-top: 0.2em;\n"]))),widgets_TooltipCheckboxesWidget=function(e){var t=e.id,n=e.disabled,r=e.options,i=e.value,o=e.autofocus,a=void 0!==o&&o,s=e.readonly,l=e.onChange,c=e.schema,d=r.enumOptions,u=r.enumDisabled,p=r.enumHidden,h=r.inline,m=void 0!==h&&h,f=c.tooltips,b=c.warningMessage,g=Array.isArray(d)?d:[],v=Array.isArray(u)?u:[],j=Array.isArray(p)?p:[];return(0,ea.jsxs)("div",{className:"checkboxes",id:t,children:[g.map(function(e,r){var o,c=-1!==i.indexOf(e.value),d=-1!==v.indexOf(e.value),u=-1!==j.indexOf(e.value),p=(0,ea.jsxs)("span",{children:[(0,ea.jsx)("input",{type:"checkbox",id:"".concat(t,"_").concat(r),checked:c,disabled:n||d||s,autoFocus:a&&0===r,onChange:function(t){var n,r,o,a=g.map(function(e){return e.value});t.target.checked?l((n=e.value,r=a.indexOf(n),i.slice(0,r).concat(n,i.slice(r)).sort(function(e,t){return a.indexOf(e)-a.indexOf(t)}))):l((o=e.value,i.filter(function(e){return e!==o})))}}),(0,ea.jsx)("span",{children:e.label}),"\xa0",(null===(o=f[r])||void 0===o?void 0:o.alpha)&&(0,ea.jsx)(te,{children:"alpha"}),f[r]&&(0,ea.jsx)(eI.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TooltipCheckboxesWidget_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TooltipCheckboxesWidget_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},f[r]))]}),h=(0,ek.default)({"checkbox-inline":m,checkbox:!m,disabled:n||d||s,"d-none":u});return m?(0,ea.jsx)("label",{className:h,children:p},r):(0,ea.jsx)("div",{className:h,children:(0,ea.jsx)("label",{children:p})},r)}),b&&(0,ea.jsxs)(tt,{children:["*Note: ",b]})]})},tn=n(34390);function FieldTermsAndConditions_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FieldTermsAndConditions_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FieldTermsAndConditions_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FieldTermsAndConditions_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FieldTermsAndConditions(e){return(0,ea.jsx)(FieldTemplate,FieldTermsAndConditions_objectSpread(FieldTermsAndConditions_objectSpread({},e),{},{top:(0,ea.jsx)(tn.Z,{})}))}function FieldRequesterInfo_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FieldRequesterInfo_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FieldRequesterInfo_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FieldRequesterInfo_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tr=Y.ZP.p(T||(T=(0,K.Z)(["\n  color: #d94532;\n  font-weight: bold;\n"])));function FieldRequesterInfo(e){var t=e.formContext.formData,n=!1===t.projectLead&&!1===t.usesTeam,r=H.useState(!1),i=(0,U.Z)(r,2),o=i[0],a=i[1],handleModalClose=function(){a(!1)},s=(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsx)(eM.Z,{id:"info-modal",openModal:o,handleClose:handleModalClose,content:(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsx)("p",{children:"If you are not accountable for this project, please refer this request to someone who is."}),(0,ea.jsx)("p",{children:" Only the person who is responsible for this project can submit the intergration request."})]}),icon:!1,onConfirm:handleModalClose,confirmText:"Close",showCancel:!1,title:"Project Accountability",buttonStyle:"primary",buttonAlign:"center",closable:!0}),n&&(0,ea.jsx)(tr,{children:"If you are not accountable for this request, please refer this request to someone who is. Only the responsible person can submit the integration request."})]});return(0,ea.jsx)(FieldTemplate,FieldRequesterInfo_objectSpread(FieldRequesterInfo_objectSpread({},e),{},{bottom:s}))}var ti=n(42563);function FieldReviewAndSubmit_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FieldReviewAndSubmit_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FieldReviewAndSubmit_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FieldReviewAndSubmit_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FieldReviewAndSubmit(e){var t,n=e.formContext,r=n.formData,i=n.teams,o=(0,eG.Jx)(r),a=o&&(null===(t=r.environments)||void 0===t?void 0:t.includes("prod")),s=(0,ea.jsxs)("div",{children:[(0,ea.jsx)(eT.wk,{title:"Please review your information to make sure it is correct.",number:1,children:(0,ea.jsx)(ti.Z,{request:r,teams:i})}),(0,ea.jsx)(eT.wk,{title:"Your ".concat(o?"Dev and/or Test":""," environment(s) will be provided by the SSO Pathfinder team."),number:2,children:(0,ea.jsx)("p",{children:"Upon submission of your request, access will be granted promptly, typically within seconds."})}),a&&(0,ea.jsxs)(eT.wk,{number:3,title:"Your Prod environment will be provided by the BCeID Team",showLine:!1,children:[(0,ea.jsx)("p",{children:"Once you submit the request, both you and the BCeID team will receive an email with your request details."}),(0,ea.jsx)("p",{children:"On a best-effort basis, the BCeID team will endeavour to reach out to you within 2-3 business days to schedule an on-boarding meeting.\xa0"})]})]});return(0,ea.jsx)(FieldTemplate,FieldReviewAndSubmit_objectSpread(FieldReviewAndSubmit_objectSpread({},e),{},{top:s}))}function FieldInlineGrid_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FieldInlineGrid_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FieldInlineGrid_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FieldInlineGrid_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var to=Y.ZP.span(F||(F=(0,K.Z)(["\n  width: 16rem;\n  & label {\n    font-weight: 700;\n    font-size: 1rem;\n  }\n"]))),ta=Y.ZP.div(k||(k=(0,K.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-top: 0.7rem;\n  margin-bottom: 0.7rem;\n"])));function FieldInlineGrid_FieldTemplate(e){var t=e.id,n=e.classNames,r=e.label,i=e.displayLabel,o=e.help,a=e.errors,s=e.children,l=e.schema,c=e.bottom,d=l.type,u=l.tooltip,p=l.description,h=l.additionalClassNames,m=l.top,f=(0,ek.default)(n,h);return(0,ea.jsxs)(ea.Fragment,{children:[void 0===m?null:m,(0,ea.jsxs)("div",{className:f,children:[(0,ea.jsxs)(ta,{children:[i&&r&&(0,ea.jsxs)(to,{children:[(0,ea.jsxs)("label",{htmlFor:e.id,children:[r,"\xa0"]}),u&&(0,ea.jsx)(eI.Z,FieldInlineGrid_objectSpread(FieldInlineGrid_objectSpread({},u),{},{trigger:null!=u&&u.trigger?null==u?void 0:u.trigger:["hover","focus"]}))]}),(0,ea.jsx)("div",{"data-testid":"".concat(t,"_description"),children:"array"===d?null:p}),s]}),a,o]}),void 0===c?null:c]})}var ts=n(27812);function requester_info_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function requester_info_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?requester_info_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):requester_info_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tl={type:"boolean",title:"Are you the product owner or technical contact for this project?",tooltip:{content:"\n    <p>\n      Only the person who is responsible for this project should be submitting the integration request.\xa0\n      If you are not the one accountable, please refer this request to a team member who will be accountable for this project.\n    </p>"},default:!0},tc={type:"array",items:{type:"string",enum:["livingInBC","businessInBC","bcGovEmployees","other"]},uniqueItems:!0,title:"Who are the primary end users of your project/application? (select all that apply)"};function getSchema(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=t.map(function(e){return String(e.id)});r.unshift("");var i=t.length>0;return{type:"object",customValidation:["createTeam","projectName","projectLead"],headerText:"Enter requester information",stepText:"Requester Info",properties:requester_info_objectSpread(requester_info_objectSpread({projectName:{type:"string",title:"Project Name",maxLength:50},primaryEndUsers:tc},(null===(e=n.primaryEndUsers)||void 0===e?void 0:e.includes("other"))&&{primaryEndUsersOther:{type:"string",title:"Project Name",maxLength:100,placeholder:"Enter Details",rows:3}}),{},{usesTeam:{type:"boolean",title:"Project Team",description:"Would you like to allow multiple members to manage this integration?",default:!1}}),required:["projectName"],dependencies:{usesTeam:{oneOf:[{properties:{usesTeam:{enum:[!1]},projectLead:tl}},{properties:requester_info_objectSpread(requester_info_objectSpread({usesTeam:{enum:[!0]}},i&&{teamId:{type:"string",title:"Project Team",enum:r}}),{},{createTeam:{type:"string"}})}]},projectLead:{oneOf:[{properties:{projectLead:{enum:[!0]}},required:["projectLead"]},{properties:{projectLead:{enum:[!1]}}}]}}}}var td={type:"object",required:["agreeWithTerms"],headerText:"Terms and Conditions",stepText:"Terms and Conditions",properties:{agreeWithTerms:{type:"boolean",title:"I agree to the Terms and Conditions",default:null,enum:[null,!0]}}},tu=n(11752),tp=n.n(tu),th=n(34155),tm=(tp()()||{}).publicRuntimeConfig,tf=void 0===tm?{}:tm,tb=tf.include_digital_credential,tg=tf.include_bc_services_card,tv=tf.allow_bc_services_card_prod;function providers_gold_getSchema(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isAdmin:!0},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=e.protocol,a=e.authType,s=e.status,l=e.devIdps,c="true"===tv||"true"===th.env.ALLOW_BC_SERVICES_CARD_PROD,d="true"===tg||"true"===th.env.INCLUDE_BC_SERVICES_CARD;null!==(t=e.environments)&&void 0!==t&&t.includes("prod")&&!c&&(d=!1);var u=(0,eG.e$)(e),p={type:"string",title:"Select Client Protocol",enum:["oidc","saml"],tooltip:{content:"The OpenID Connect (OIDC) client protocol is recommended."},tooltips:[null,{content:'To read more about SAML configuration options and limitations, see <a href="'.concat(e$.UN,'/integrating-your-application/saml" target="_blank" title="SAML Integrations">here</a>.'),hide:3e3}]},h={type:"string",title:"Please select privacy zone",enum:null==r?void 0:r.map(function(e){return e.privacy_zone_name||[]})},m={protocol:p},f=[];if("oidc"===o&&(m.authType={type:"string",title:"Select Usecase",enum:["browser-login","service-account","both"],tooltip:"applied"===s?null:{content:"Note that once this is submitted, you will not be able to update and rather will need to create a new integration."},tooltips:[{content:"This enables standard OpenID Connect redirect based authentication with authorization code. In terms of OpenID Connect or OAuth2 specifications, this enables support of 'Authorization Code Flow' for this client."},{content:"This allows you to authenticate this client to Keycloak and retrieve access token dedicated to this client. In terms of OAuth2 specification, this enables support of 'Client Credentials Grant' for this client."},{content:"This enables 'Browser Login' and 'Service Account' both."}]},"browser-login"===a&&(m.publicAccess={type:"boolean",title:"Select Client Type",enum:[!0,!1]}),f.push("publicAccess")),"service-account"!==a){var b=["azureidir","bceidbasic","bceidbusiness","bceidboth","githubpublic","githubbcgov"];("true"===tb||"true"===th.env.INCLUDE_DIGITAL_CREDENTIAL)&&b.push("digitalcredential"),d&&b.push("bcservicescard"),(0,eO.SO)().forEach(function(e){null!=l&&l.includes(e)&&!b.includes(e)&&b.unshift(e)}),n.isAdmin&&!(null!=b&&b.includes("idir"))&&(null==b||b.unshift("idir")),m.devIdps={type:"array",minItems:1,title:"Choose Identity Provider(s)",items:{type:"string",enum:b},warningMessage:"Role assignment is not available for the BC Services Card and Digital Credential Identity Providers.",tooltips:b.map(function(e){return"azureidir"===e?{content:'\n            To learn the difference between IDIR and IDIR with MFA,\n            <a href="'.concat((0,e$.eO)("/Our-Partners-the-Identity-Providers#idir-with-mfa"),'" target="_blank" title="IDIR vs IDIR with MFA">\n            please visit our GitHub page about choosing an Identity Provider\n            </a>\n            '),hide:3e3}:"digitalcredential"===e?{content:'To learn more about using the Digital Credential option visit our <a href="'.concat((0,e$.eO)("Our-Partners-the-Identity-Providers#what-are-identity-providers"),'" target="_blank">additional information</a>.'),hide:3e3}:"bcservicescard"===e?{content:'To learn more about using the BC Services Card option visit our <a href="'.concat((0,e$.eO)("Our-Partners-the-Identity-Providers#what-are-identity-providers"),'" target="_blank">additional information</a>.'),hide:3e3,alpha:!0}:null}),uniqueItems:!0,tooltip:{content:"The identity providers you add will let your users authenticate with those services."}}}return u&&d&&(m.bcscPrivacyZone=h,m.bcscAttributes={type:"array",title:"Please select attribute(s)",items:{type:"string",enum:null==i?void 0:i.map(function(e){return e.name})},uniqueItems:!0,tooltip:{content:"We will provide a separate client for each attribute you can select. Select the attributes required for your project."}}),m.environments={type:"array",minItems:1,title:"Choose Environment(s)",items:{type:"string",enum:["dev","test","prod"]},uniqueItems:!0,tooltip:{content:"We will provide a separate client for each environment you can select. Select the environments required for your project."}},!c&&u&&(m.environments.items={type:"string",enum:["dev","test"]}),"saml"!==o&&(m.additionalRoleAttribute={type:"string",title:"Additional Role Attribute(optional)",tooltip:{content:'By default "client_roles" is the default attribute key name to include roles info, if you wish to include same info in another attribute, then use this.'},maxLength:50}),"saml"===o&&n.isAdmin&&(m.clientId={type:"string",title:"As SSO Admin. you can override the client id",tooltip:{content:"The client id should be a string without any spaces"},maxLength:250}),{type:"object",customValidation:["additionalRoleAttribute","clientId","devIdps","authType","bcscPrivacyZone","bcscAttributes"],headerText:"Choose providers",stepText:"Basic Info",properties:m,required:f}}function providers_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function providers_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?providers_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):providers_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tj={type:"string",maxLength:250,placeholder:"e.g. https://example.com"},ty={type:"array",items:tj,additionalItems:tj,deletableIndex:function(e){return e.length>1?0:1},default:[""],addItemText:"Add another URI"};providers_objectSpread(providers_objectSpread({},ty),{},{title:"Test Redirect URIs"}),providers_objectSpread(providers_objectSpread({},ty),{},{title:"Prod Redirect URIs"});var tx='<a target="_blank" class="link" href="'.concat(e$.UN,'/integrating-your-application/redirects#valid-redirect-format">valid URI </a>'),tw=providers_objectSpread(providers_objectSpread({},ty),{},{description:"You can use any ".concat(tx,' for your redirect URIs. We <a target="_blank" class="link" href="').concat(e$.UN,'/best-practices/dos-donts#do-not-reuse-clients-for-multiple-applications">recommend</a> only using your client for one application.'),title:"Dev Redirect URIs",tooltip:{content:"At least one redirect URI is required for each of DEV, TEST and PROD. If you don't know the redirect URI for one or\n  more of these environments, you may provide any valid URI for now and change it later. We suggest something like\n  'http://localhost:1000'."}}),tO=Y.ZP.div(I||(I=(0,K.Z)(["\n  margin-top: var(--field-top-spacing);\n  display: inline-block;\n"]))),tS=Y.ZP.legend(D||(D=(0,K.Z)(["\n  font-weight: bold;\n  font-size: 1rem;\n  margin: 0;\n"]))),tP=Y.ZP.p(A||(A=(0,K.Z)(["\n  font-style: italic;\n  font-size: 0.9rem;\n  margin-top: 0.7rem;\n  font-weight: normal;\n"]))),t_=(0,ea.jsx)(tO,{children:(0,ea.jsxs)(tS,{children:["Additional Settings (Optional)\xa0",(0,ea.jsxs)(tP,{children:["*If you would like to configure the Additional Settings, or have any questions,"," ",(0,ea.jsx)(e9.default,{href:"mailto:bcgov.sso@gov.bc.ca",children:"please contact the Pathfinder SSO Team"}),"."]})]})}),tC=n(34155);function environment_gold_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function environment_gold_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?environment_gold_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):environment_gold_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tZ=(tp()()||{}).publicRuntimeConfig,tT=(void 0===tZ?{}:tZ).include_bc_services_card,getSchemas=function(e){var t=e.integration,n=e.formData,r=e.teams,i=void 0===r?[]:r,o=e.isAdmin,a=void 0!==o&&o,s=e.bcscPrivacyZones,l=void 0===s?[]:s,c=e.bcscAttributes,d=void 0===c?[]:c;t||(t=n);var u="applied"===t.status,p=$()(t.id),h=(n.environments||[]).map(function(e){var t="".concat(e,"LoginTitle"),r="".concat(e,"DisplayHeaderTitle"),i="".concat(e,"ValidRedirectUris"),o="".concat(e,"SamlLogoutPostBindingUri"),a="".concat(e,"SamlSignAssertions"),s="".concat(e,"HomePageUri"),l={};if((null==n?void 0:n.protocol)==="saml"){var c="".concat(e,"AssertionLifespan");l=(0,M.Z)({},c,{title:"Assertion Lifespan",type:"number",tooltipContent:'Lifespan set in the SAML assertion conditions. After that time the assertion will be invalid. The "SessionNotOnOrAfter" attribute is not modified and continue using the "SSO Session Max" time defined at realm level.',additionalClassNames:"mt-1"})}else{var d,u,p,h="".concat(e,"AccessTokenLifespan"),m="".concat(e,"SessionIdleTimeout"),f="".concat(e,"SessionMaxLifespan"),b="".concat(e,"OfflineSessionIdleTimeout"),g="".concat(e,"OfflineSessionMaxLifespan"),v="".concat(e,"OfflineAccessEnabled");p={},(0,M.Z)(p,h,{title:"Access Token Lifespan",type:"number",tooltip:{content:"Max time before an access token is expired. This value is recommended to be short relative to the SSO timeout."},additionalClassNames:"mt-1",top:t_}),(0,M.Z)(p,m,{title:"Client Session Idle",type:"number",tooltip:{content:"Time a client session is allowed to be idle before it expires. Tokens are invalidated when a client session is expired. If not set it uses the standard SSO Session Idle value."},additionalClassNames:"mt-1"}),(0,M.Z)(p,f,{title:"Client Session Max",type:"number",tooltip:{content:"Max time before a client session is expired. Tokens are invalidated when a client session is expired. If not set, it uses the standard SSO Session Max value."},additionalClassNames:"mt-1"}),(0,M.Z)(p,v,{type:"boolean",title:"Allow offline access",tooltip:{content:"Allow offline access for this client."},default:!1,additionalClassNames:"mt-1"}),(0,M.Z)(p,b,{title:"Client Offline Session Idle",type:"number",tooltip:{content:"Time a client offline session is allowed to be idle before it expires. Offline tokens are invalidated when a client offline session is expired. If not set it uses the Offline Session Idle value."},additionalClassNames:"mt-1"}),(0,M.Z)(p,g,{title:"Client Offline Session Max",type:"number",tooltip:{content:"Max time before a client offline session is expired. Offline tokens are invalidated when a client offline session is expired. If not set, it uses the Offline Session Max value."},additionalClassNames:"mt-1"}),l=p}var j="",y="";"prod"===e?(j="Enter Prod integration Info",y="Production"):"test"===e?(j="Enter Test integration Info",y="Test"):(j="Enter Dev integration Info",y="Development");var x="service-account"!==n.authType,w=x?(d={},(0,M.Z)(d,t,{type:"string",title:"Pathfinder SSO Login Page Name",tooltip:{content:'Enter a name that you would like to be displayed for users, as they\'re logging into the Pathfinder SSO Login Page. If you leave this field blank, the page will automatically display "Standard"'},maxLength:100}),(0,M.Z)(d,r,{type:"boolean",title:"Display Pathfinder SSO Header Title",tooltip:{content:'Enable/Disable display of the header title "Pathfinder SSO" on Pathfinder SSO Login Page'},default:!0}),(0,M.Z)(d,i,environment_gold_objectSpread(environment_gold_objectSpread({},tw),{},{title:"Redirect URIs",currentEnvironment:e})),d):{},O=["".concat(e,"SessionIdleTimeout"),"".concat(e,"SessionMaxLifespan")],S=x?[].concat(O,[i,o,s]):O,P={};return("true"===tT||"true"===tC.env.INCLUDE_BC_SERVICES_CARD)&&null!=n&&null!==(u=n.devIdps)&&void 0!==u&&u.includes("bcservicescard")&&(P[s]={type:"string",title:"Home Page URL",tooltip:{content:"URL of the home page of your application. The value of this field MUST point to a valid Web page, and will be presented to end users in BCSC Service Listing, and possibly during authentication."},placeholder:"e.g. https://example.com",default:""}),(null==n?void 0:n.protocol)==="saml"&&(P[o]={type:"string",title:"Logout Service URL",tooltip:{content:"SAML POST Binding URL for the client's single logout service. You can leave this blank if you are using a different binding"},maxLength:250,description:"You may want to have your logout service enabled from your application",placeholder:"e.g. https://example.com/logout/callback",default:""},P[a]={type:"boolean",title:"Sign Assertions",tooltip:{content:"Should assertions inside the SAML document be signed?. This setting is not needed if the document is already being signed."},default:!1}),{type:"object",customValidation:S,headerText:j,stepText:y,required:[],properties:environment_gold_objectSpread(environment_gold_objectSpread(environment_gold_objectSpread({},w),P),l)}}),m=[];return p?m.push.apply(m,[getSchema(i,n),providers_gold_getSchema(n,{isAdmin:a},l,d)].concat((0,ts.Z)(h),[td])):(m.push.apply(m,[getSchema(i,n),providers_gold_getSchema(n,{isAdmin:a},l,d)].concat((0,ts.Z)(h))),u||m.push(td)),m.push({type:"object",headerText:"Review and Submit",stepText:"Review & Submit",properties:{comment:{type:"string",title:"Comment",fullWidth:!0,rows:4}}}),m},tF=["AccessTokenLifespan","OfflineSessionIdleTimeout","OfflineSessionMaxLifespan","SessionIdleTimeout","SessionMaxLifespan"],tk=["AssertionLifespan"],tI=Y.ZP.span(E||(E=(0,K.Z)(["\n  & input {\n    height: 1.94rem;\n    max-width: 3.125rem;\n  }\n"]))),tD=Y.ZP.div(R||(R=(0,K.Z)(["\n  display: flex;\n  flex-direction: row;\n  column-gap: 0.5em;\n"]))),widgets_MinutesToSeconds=function(e){var t=e.id,n=e.value,r=void 0===n?0:n,i=e.label,o=e.readonly,a=e.onChange;o&&(a=e_());var s=(0,H.useState)(r/60),l=s[0],c=s[1];return(0,ea.jsxs)(tD,{children:[(0,ea.jsx)(tI,{children:(0,ea.jsx)(ey.default,{type:"text",size:"small",maxLength:4,id:t,name:i,value:l.toString(),onChange:function(e){var t=e.target.value;if(""===t)return c("");var n=parseInt(e.target.value);isNaN(n)||n<0||(c(t=n),a(60*t))},onFocus:function(e){"0"===e.target.value&&c("")},disabled:o,onBlur:function(e){""===e.target.value&&(c(0),a(0))}})}),(0,ea.jsx)("span",{children:"Minutes"})]})},tA=n(45810),widgets_SwitchWidget=function(e){var t=e.id,n=e.disabled,r=e.value,i=e.readonly,o=e.onChange,a=(0,H.useState)(void 0===r?e.schema.default:r),s=a[0],l=a[1];return(0,ea.jsx)("div",{style:{display:"flex"},children:(0,ea.jsx)(tA.Z,{checked:s,onChange:function(){l(!s),o(!s)},onColor:"#C3E3FC",onHandleColor:"#2A6FBE",handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:15,width:48,className:"react-switch",id:t,disabled:n||i})})},tE=n(29208),tR=n.n(tE),tN=n(23157);function BcscAttributesWidget_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BcscAttributesWidget_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BcscAttributesWidget_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BcscAttributesWidget_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tL=Y.ZP.p(N||(N=(0,K.Z)(["\n  margin-top: 0.5rem;\n"]))),widgets_BcscAttributesWidget=function(e){var t,n=e.disabled,r=e.options,i=e.value,o=e.onChange,a=r.enumOptions,s=Array.isArray(a)?a:[],l=(0,H.useState)(i),c=l[0],d=l[1],u=(t=(0,W.Z)(z().mark(function _callee(e,t){var n,r;return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],d(n="clear"===t.action?[]:"remove-value"===t.action?c.filter(function(e){var n;return e!==(null===(n=t.removedValue)||void 0===n?void 0:n.value)}):"pop-value"===t.action?(0,ts.Z)(c.slice(0,-1)):[].concat((0,ts.Z)(c),[null===(r=t.option)||void 0===r?void 0:r.value])),o(n);case 4:case"end":return e.stop()}},_callee)})),function(e,n){return t.apply(this,arguments)});return(0,ea.jsxs)("div",{children:[(0,ea.jsx)("div",{"data-testid":"bcsc-attributes",children:(0,ea.jsx)(tN.ZP,{isMulti:!0,options:s,value:s.filter(function(e){return i.includes(e.value)}),onChange:u,placeholder:"",noOptionsMessage:function(){return"No attributes found..."},isClearable:!0,isDisabled:n,closeMenuOnSelect:!1,styles:{control:function(e,t){return BcscAttributesWidget_objectSpread(BcscAttributesWidget_objectSpread({},e),{},{border:"2px solid #606060","&:hover":{},boxShadow:"none",outline:t.isFocused?"4px solid #3B99FC":"none",outlineOffset:"1px"})}}})}),(0,ea.jsx)("div",{children:(0,ea.jsxs)(tL,{children:[(0,ea.jsx)(e9.default,{href:"https://bcgov.github.io/sso-docs/advanced/bc-services-card",external:!0,children:"Click here"})," ","to learn more about available attributes."]})})]})};function BcscPrivacyZoneWidget_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BcscPrivacyZoneWidget_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BcscPrivacyZoneWidget_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BcscPrivacyZoneWidget_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tB=Y.ZP.p(L||(L=(0,K.Z)(["\n  margin-top: 0.5rem;\n"]))),widgets_BcscPrivacyZoneWidget=function(e){var t,n=e.disabled,r=e.options,i=e.value,o=e.onChange,a=r.enumOptions,s=Array.isArray(a)?a:[],l=(0,H.useState)(i),c=l[0],d=l[1],u=(t=(0,W.Z)(z().mark(function _callee(e){return z().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:d(null==e?void 0:e.value),o(null==e?void 0:e.value);case 2:case"end":return t.stop()}},_callee)})),function(e){return t.apply(this,arguments)});return(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsx)("div",{"data-testid":"bcsc-privacy-zone",children:(0,ea.jsx)(tN.ZP,{options:s,value:s.find(function(e){return e.value===c}),onChange:u,placeholder:"",noOptionsMessage:function(){return"No privacy zones found..."},isDisabled:n,isClearable:!0,styles:{control:function(e,t){return BcscPrivacyZoneWidget_objectSpread(BcscPrivacyZoneWidget_objectSpread({},e),{},{border:"2px solid #606060","&:hover":{},boxShadow:"none",outline:t.isFocused?"4px solid #3B99FC":"none",outlineOffset:"1px"})}}})}),(0,ea.jsx)("div",{children:(0,ea.jsxs)(tB,{children:[(0,ea.jsx)(e9.default,{href:"https://bcgov.github.io/sso-docs/advanced/bc-services-card",external:!0,children:"Click here"})," ","to learn more about privacy zones."]})})]})},tq=n(95107);function ui_gold_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ui_gold_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui_gold_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui_gold_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tU=["dev","test","prod"],ui_gold=function(e){var t,n,r,i,o,a,s,l,c,d,u,p=e.integration,h=e.formData,m=e.isAdmin,f=e.teams,b=e.schemas,g=p||{},v=g.id,j=g.status,y=g.devIdps,x=void 0===y?[]:y,w=g.environments,O=void 0===w?[]:w,S=g.bceidApproved,P=void 0!==S&&S,_=g.bcServicesCardApproved;$()(v);var C="applied"===j,Z=(null==p?void 0:null===(t=p.devIdps)||void 0===t?void 0:t.includes("bcservicescard"))&&void 0!==_&&_,T=C?(null==O?void 0:O.concat())||[]:["dev"],F=[],k=[];m||(C&&x.forEach(function(e){(0,eG.rp)(e)&&P&&F.push("bceidbasic","bceidbusiness","bceidboth"),(0,eG.YC)(e)&&F.push("githubpublic","githubbcgov"),"bcservicescard"===e&&F.push("bcservicescard")}),F=eY()(F),C&&x.includes("githubpublic")||k.push("githubpublic")),(null==h?void 0:h.protocol)==="saml"&&F.push("digitalcredential");var I=C&&m,D={},A={bcscPrivacyZone:{"ui:widget":widgets_BcscPrivacyZoneWidget,"ui:classNames":"short-field-string","ui:disabled":Z},bcscAttributes:{"ui:widget":widgets_BcscAttributesWidget,"ui:disabled":Z}};null!=h&&null!==(n=h.devIdps)&&void 0!==n&&n.includes("bcservicescard")||(A.bcscPrivacyZone["ui:widget"]="hidden",A.bcscPrivacyZone["ui:label"]=!1,A.bcscAttributes["ui:widget"]="hidden",A.bcscAttributes["ui:field"]="hidden");for(var E=(null==h?void 0:h.protocol)==="saml"?tk:tF,R=0;R<tU.length;R++){for(var N=tR()(h,"".concat(tU[R],"OfflineAccessEnabled"),!1),L=0;L<E.length;L++){var B={"ui:widget":["SessionIdleTimeout","SessionMaxLifespan"].includes(E[L])?widgets_MinutesToSeconds:widgets_ClientTokenWidget,"ui:readonly":!m,"ui:FieldTemplate":FieldInlineGrid_FieldTemplate};D["".concat(tU[R]).concat(E[L])]=B}D["".concat(tU[R],"OfflineAccessEnabled")]={"ui:widget":widgets_SwitchWidget,"ui:FieldTemplate":FieldInlineGrid_FieldTemplate,"ui:readonly":!m},(null==h?void 0:h.protocol)!=="oidc"||N||(D["".concat(tU[R],"OfflineSessionIdleTimeout")]["ui:readonly"]=!0,D["".concat(tU[R],"OfflineSessionMaxLifespan")]["ui:readonly"]=!0)}return ui_gold_objectSpread(ui_gold_objectSpread({projectName:{"ui:placeholder":"Project Name","ui:classNames":"short-field-string"},teamId:{"ui:classNames":"short-field-string","ui:enumNames":["Select..."].concat(null!==(r=f.map(function(e){return e.name}))&&void 0!==r?r:[])},additionalRoleAttribute:{"ui:classNames":"short-field-string"},clientId:{"ui:readonly":!m,"ui:classNames":"short-field-string"},devLoginTitle:{"ui:placeholder":"Pathfinder SSO Login Page Name","ui:classNames":"short-field-string"},testLoginTitle:{"ui:placeholder":"Pathfinder SSO Login Page Name","ui:classNames":"short-field-string"},prodLoginTitle:{"ui:placeholder":"Pathfinder SSO Login Page Name","ui:classNames":"short-field-string"},devDisplayHeaderTitle:{"ui:widget":widgets_SwitchWidget},testDisplayHeaderTitle:{"ui:widget":widgets_SwitchWidget},prodDisplayHeaderTitle:{"ui:widget":widgets_SwitchWidget},devSamlSignAssertions:{"ui:widget":widgets_SwitchWidget},testSamlSignAssertions:{"ui:widget":widgets_SwitchWidget},prodSamlSignAssertions:{"ui:widget":widgets_SwitchWidget},usesTeam:{"ui:widget":widgets_SwitchWidget,"ui:readonly":C&&(null==p?void 0:p.usesTeam)},projectLead:{"ui:FieldTemplate":FieldRequesterInfo,"ui:widget":widgets_SwitchWidget,"ui:readonly":C},newToSso:{"ui:widget":widgets_SwitchWidget},primaryEndUsers:{"ui:widget":"checkboxes","ui:classNames":"checkboxes-grid","ui:enumNames":["People living in BC","People doing business/travel in BC","BC Gov Employees","Other"]},primaryEndUsersOther:{"ui:widget":"textarea","ui:classNames":"other-details","ui:label":!1},publicAccess:{"ui:widget":widgets_ClientTypeWidget,"ui:enumNames":["Public","Confidential"]},protocol:{"ui:widget":widgets_TooltipRadioWidget,"ui:default":"oidc","ui:readonly":C,"ui:enumNames":["OpenID Connect","SAML"]},authType:{"ui:widget":widgets_TooltipRadioWidget,"ui:default":"browser-login","ui:readonly":C,"ui:enumNames":["Browser Login","Service Account","Browser Login and Service Account"]},devIdps:{"ui:widget":widgets_TooltipCheckboxesWidget,"ui:enumDisabled":F,"ui:enumHidden":k,"ui:enumNames":(null===(i=b[1])||void 0===i?void 0:null===(o=i.properties)||void 0===o?void 0:null===(a=o.devIdps)||void 0===a?void 0:null===(s=a.items)||void 0===s?void 0:s.enum.map(function(e){return tq.S[e]}))||[]},bceidTo:{"ui:label":!1,"ui:readonly":!0},bceidCc:{"ui:label":!1},bceidBody:{"ui:widget":"textarea"},environments:{"ui:widget":"checkboxes","ui:enumDisabled":T,"ui:enumNames":(null===(l=b[1])||void 0===l?void 0:null===(c=l.properties)||void 0===c?void 0:null===(d=c.environments)||void 0===d?void 0:null===(u=d.items)||void 0===u?void 0:u.enum.map(function(e){return tq.I[e]}))||[]},createTeam:{"ui:FieldTemplate":FieldProjectTeam,"ui:widget":"hidden","ui:label":!1},agreeWithTerms:{"ui:FieldTemplate":FieldTermsAndConditions},comment:{"ui:FieldTemplate":FieldReviewAndSubmit,"ui:widget":I?"textarea":"hidden","ui:label":I},devValidRedirectUris:{items:{"ui:options":{label:!1}}},testValidRedirectUris:{items:{"ui:options":{label:!1}}},prodValidRedirectUris:{items:{"ui:options":{label:!1}}}},A),D)},schemas_ui_getUISchema=function(e){var t=e.integration;return $()(null==t?void 0:t.id),e.formData||(e.formData=t),ui_gold(e)},edit_request_CancelConfirmModal=function(e){var t,n=e.onConfirm,r=H.useState(!1),i=(0,U.Z)(r,2),o=i[0],a=i[1],s=(t=(0,W.Z)(z().mark(function _callee(){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,n();case 3:window.location.hash="#";case 4:case"end":return e.stop()}},_callee)})),function(){return t.apply(this,arguments)}),l=(0,ea.jsx)(ea.Fragment,{children:(0,ea.jsxs)("p",{children:["Are you sure you want to press cancel?",(0,ea.jsx)("br",{}),"If you continue, you will lose any data that you have provided."]})});return(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsx)("button",{className:"secondary wide",type:"button",onClick:function(){a(!0)},children:"Cancel"}),(0,ea.jsx)(eM.Z,{id:"edit-cancel-confirmation",openModal:o,handleClose:function(){return a(!1)},content:l,onConfirm:s,icon:ed.eHv,title:"Canceling request update",closable:!0})]})},tW=n(88669),tM=n(20839),tK=n(20281),tG=(r=(0,W.Z)(z().mark(function _callee(){var e;return z().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tK.e.get("bc-services-card/privacy-zones").then(function(e){return e.data});case 3:return e=t.sent,t.abrupt("return",[e,null]);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",[(0,e$.S2)(),null]);case 10:case"end":return t.stop()}},_callee,null,[[0,7]])})),function(){return r.apply(this,arguments)}),tz=(i=(0,W.Z)(z().mark(function _callee2(){var e;return z().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tK.e.get("bc-services-card/claim-types").then(function(e){return e.data});case 3:return e=(e=t.sent).filter(function(e){return!["sub","client_id","address"].includes(e.name)}),t.abrupt("return",[e,null]);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",[(0,e$.K_)(),null]);case 11:case"end":return t.stop()}},_callee2,null,[[0,8]])})),function(){return i.apply(this,arguments)}),tH=n(74717);function FormTemplate_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FormTemplate_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FormTemplate_ownKeys(Object(n),!0).forEach(function(t){(0,M.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FormTemplate_ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tV=Y.ZP.p(B||(B=(0,K.Z)(["\n  margin: 0;\n"]))),tY=Y.ZP.div(q||(q=(0,K.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  min-height: 150px;\n"]))),filterIdps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"oidc";if(e.length===t.length)return t;var o=e.length<t.length,a=t;if(o){var s=er()(t,e)[0];"saml"===i?n&&r?a=e:(a=[]).push(s):(0,eG.rp)(s)?n&&r?a=e:(0,eG.ne)(s)?a=t.filter(eG.Es):(0,eG.uA)(s)&&(a=t.filter(eG.TW)):(0,eG.YC)(s)&&(a=t.filter(eG.Qf).concat(s))}else n&&!r&&e.some(eG.rp)&&!t.some(eG.rp)&&(a=e);return a},checkHasNoBceidIdp=function(e){if(void 0===e||0==e.length)return!0;var t=!0;return e.map(function(e){e.startsWith("bceid")&&(t=!1)}),t},trimRedirectUris=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||0===e.length)return[];var n=e.map(eo());return t&&(n=n.filter(function(e){return e})),0===n.length&&n.push(""),n},trimFormData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dropEmptyRedirectUris,r=void 0!==n&&n,i=trimRedirectUris(e.devValidRedirectUris,r),o=trimRedirectUris(e.testValidRedirectUris,r),a=trimRedirectUris(e.prodValidRedirectUris,r);return FormTemplate_objectSpread(FormTemplate_objectSpread({},e),{},{devValidRedirectUris:i,testValidRedirectUris:o,prodValidRedirectUris:a})},tJ=(0,ez.hU)(function(e){var t,n,r,i,o,a,s,l,c=e.currentUser,d=e.request,u=e.alert,p=(0,V.useRouter)(),h=p.query.step,m=h?Number(h):0,f=(0,H.useState)(d||{}),b=f[0],g=f[1],v=(0,H.useState)(m),j=v[0],y=v[1],x=(0,H.useState)(!1),w=x[0],O=x[1],S=(0,H.useState)(""),P=S[0],_=S[1],C=(0,H.useState)(!1),Z=C[0],T=C[1],F=(0,H.useState)({}),k=F[0],I=F[1],D=(0,H.useState)(d?{0:!0}:{}),A=D[0],E=D[1],R=(0,H.useState)([]),N=R[0],L=R[1],B=(0,H.useState)([]),q=B[0],M=B[1],K=(0,H.useState)((0,e$.S2)()),G=K[0],Y=K[1],J=(0,H.useState)((0,e$.K_)()),Q=J[0],ee=J[1],en=(0,H.useState)(!1),er=en[0],ei=en[1],eo=(0,H.useContext)(tM.SurveyContext),es=$()(null==d?void 0:d.id),el=(null==d?void 0:d.status)==="applied",ec=c.isAdmin||!1,ed=0!==j||b.usesTeam||b.projectLead,eu=j===q.length-1,ep=0===j,eh=q[j]||{},em=(0,H.useCallback)(X()((t=(0,W.Z)(z().mark(function _callee(e){var t;return z().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(es||el)){n.next=2;break}return n.abrupt("return");case 2:if(!d){n.next=11;break}return T(!0),n.next=6,(0,tW.WN)(FormTemplate_objectSpread(FormTemplate_objectSpread({},e),{},{id:d.id}));case 6:t=n.sent,(0,U.Z)(t,2)[1]||_("Last saved at ".concat(new Date().toLocaleString())),T(!1);case 11:case"end":return n.stop()}},_callee)})),function(e){return t.apply(this,arguments)}),2e3,{trailing:!0}),[null==d?void 0:d.id]),ef=(n=(0,W.Z)(z().mark(function _callee2(){var e,t,n,r;return z().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e=es?eH.Dc:eH.l8,i.next=3,e();case 3:t=i.sent,r=(n=(0,U.Z)(t,2))[0],n[1]?u.show({variant:"danger",content:"Failed to load teams. Please refresh."}):L(r||[]);case 8:case"end":return i.stop()}},_callee2)})),function(){return n.apply(this,arguments)}),eb=(r=(0,W.Z)(z().mark(function _callee3(){var e,t,n,r;return z().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tG();case 2:n=i.sent,(r=(0,U.Z)(n,1)[0])&&(null===(e=r)||void 0===e?void 0:e.length)>0&&(r=null===(t=r)||void 0===t?void 0:t.sort(function(e,t){return e.privacy_zone_name.localeCompare(t.privacy_zone_name)})),Y(r||[]);case 7:case"end":return i.stop()}},_callee3)})),function(){return r.apply(this,arguments)}),eg=(i=(0,W.Z)(z().mark(function _callee4(){var e,t,n,r;return z().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tz();case 2:n=i.sent,(r=(0,U.Z)(n,1)[0])&&(null===(e=r)||void 0===e?void 0:e.length)>0&&(r=null===(t=r)||void 0===t?void 0:t.sort(function(e,t){return e.name.localeCompare(t.name)})),ee(r||[]);case 7:case"end":return i.stop()}},_callee4)})),function(){return i.apply(this,arguments)}),updateInfo=function(){M(getSchemas({integration:d,formData:b,teams:N,isAdmin:ec,bcscPrivacyZones:G,bcscAttributes:Q}))};(0,H.useEffect)(function(){ef(),eb(),eg()},[]),(0,H.useEffect)(function(){b.primaryEndUsers&&!b.primaryEndUsers.includes("other")&&g(FormTemplate_objectSpread(FormTemplate_objectSpread({},b),{},{primaryEndUsersOther:""}))},[JSON.stringify(b.primaryEndUsers)]),(0,H.useEffect)(function(){updateInfo()},[b,j,N]);var changeStep=function(e){if(A[j]=!0,e===q.length-1)for(var t=0;t<q.length;t++)A[t]=!0;var n=trimFormData(b,{dropEmptyRedirectUris:!0});I((0,eK.G$)(b,q,A)),y(e),g(n),E(A),u.hide()},handleBackClick=function(){p.push({pathname:ec?"/admin-dashboard":"/my-dashboard"})},ev=schemas_ui_getUISchema({integration:d,formData:b,isAdmin:ec,teams:N,schemas:q}),ej=(o=(0,W.Z)(z().mark(function _callee5(){var e,t,n,r,i,o,a;return z().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!w){s.next=2;break}return s.abrupt("return");case 2:if(O(!0),s.prev=3,!es){s.next=27;break}return b.serviceType="gold",b.realm="standard",b.environments=["dev"],s.next=10,(0,tW.hG)(b);case 10:if(e=s.sent,n=(t=(0,U.Z)(e,2))[0],r=t[1],i=(n||{}).id,r&&u.show({variant:"danger",fadeOut:5e3,closable:!0,content:"Failed to submit request. Please try again."}),!(r||!i)){s.next=19;break}return O(!1),s.abrupt("return");case 19:return o="",a={},ec&&el?o="/admin-dashboard":(o="/request/".concat(i),a.step=1),s.next=24,p.push({pathname:o,query:a});case 24:g(FormTemplate_objectSpread(FormTemplate_objectSpread({},b),{},{id:i})),s.next=30;break;case 27:return s.next=29,(0,tW.WN)(b);case 29:ex();case 30:s.next=35;break;case 32:s.prev=32,s.t0=s.catch(3),console.error(s.t0);case 35:O(!1);case 36:case"end":return s.stop()}},_callee5,null,[[3,32]])})),function(){return o.apply(this,arguments)}),ey=(a=(0,W.Z)(z().mark(function _callee6(){var e,t,n;return z().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,tW.WN)(b,!0);case 3:e=r.sent,n=(t=(0,U.Z)(e,2))[0],t[1]?u.show({variant:"danger",fadeOut:1e4,closable:!0,content:"Failed to submit request. Please try again."}):(u.show({variant:"success",fadeOut:1e4,closable:!0,content:"Request ID:".concat(et()(String(b.id),8,"0")," is successfully submitted!")}),p.push({pathname:ec?"/admin-dashboard":"/my-dashboard",query:{id:n.id,integrationFailedMessageModal:["planFailed","applyFailed"].includes(n.status),requestId:et()(String(n.id),8,"0")}}),null==eo||eo.setShowSurvey(!0,"createIntegration")),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.error(r.t0);case 13:case"end":return r.stop()}},_callee6,null,[[0,10]])})),function(){return a.apply(this,arguments)}),ex=(s=(0,W.Z)(z().mark(function _callee7(){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:es&&0===j?(A[j]=!0,E(A)):eu?openConfirmModal():changeStep(j+1);case 1:case"end":return e.stop()}},_callee7)})),function(){return s.apply(this,arguments)}),openConfirmModal=function(){var e=(0,eK.G$)(b,q);Object.keys(e).length>0?(u.show({variant:"danger",fadeOut:1e4,closable:!0,content:"There were errors with your submission. Please see the navigation tabs above for the form pages with errors."}),I(e)):ei(!0)},ew=el?(0,ea.jsx)(edit_request_CancelConfirmModal,{onConfirm:handleBackClick}):null,eO={continue:"",back:""},eS=null===(l=b.devIdps)||void 0===l?void 0:l.includes("digitalcredential");return(eu?(eO.continue=el?"Update":"Submit",eO.back=el?"Cancel":"Save and Close"):ep&&es?(eO.continue="Next",eO.back=el?"Cancel":"Close"):(eO.continue="Next",eO.back=el?"Cancel":"Save and Close"),0===q.length)?null:(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsxs)(tY,{children:[(0,ea.jsx)(Formheader,{schema:eh,requestId:b.id,editing:el}),(0,ea.jsx)(Formstage,{currentStage:j,setFormStage:changeStep,errors:k,isNew:es,visited:A,schemas:q}),(0,ea.jsxs)(tV,{children:["If new to SSO, please"," ",(0,ea.jsx)(e9.default,{external:!0,href:"".concat(e$.UN,"/category/integrating-your-application"),children:"click to learn more on our wiki page"}),"."]})]}),(0,ea.jsx)(GovForm,{schema:eh,uiSchema:ev,onChange:function(e){var t=trimFormData(e.formData),n=filterIdps((null==b?void 0:b.devIdps)||[],t.devIdps||[],"applied"===b.status,b.bceidApproved,b.protocol),r=!b.usesTeam&&!0===t.usesTeam,i=!0===t.bceidApproved&&checkHasNoBceidIdp(t.devIdps);b.protocol!==t.protocol&&n.length>1&&(n=[]);var o=FormTemplate_objectSpread(FormTemplate_objectSpread({},t),{},{devIdps:n});"saml"!==t.protocol&&(b.protocol!==t.protocol&&(o.clientId=""),o.devSamlLogoutPostBindingUri="",o.testSamlLogoutPostBindingUri="",o.prodSamlLogoutPostBindingUri=""),"saml"===t.protocol&&(0,eG.S3)(t)&&(o.devIdps=[]),"browser-login"!==t.authType&&(o.publicAccess=!1),r&&!0===o.projectLead&&!es&&(o.projectLead=!1),i&&(o.bceidApproved=!1),g(o),em(o)},onSubmit:ej,formData:b,formContext:{isAdmin:ec,teams:N,formData:b,setFormData:g,loadTeams:ef,bcscPrivacyZones:G},templates:{FieldTemplate:FieldTemplate,ArrayFieldTemplate:ArrayFieldTemplate},liveValidate:A[j]||el,customValidate:eK.Mr,validator:tH.ZP,children:ed?(0,ea.jsx)(FormButtons,{formSubmission:es&&0===j,backButton:ew,text:eO,loading:w,handleSubmit:ex,handleBackClick:handleBackClick,savingStatus:{saving:Z,content:P}}):(0,ea.jsx)(ea.Fragment,{})}),(0,ea.jsx)(eM.Z,{id:"confirmation-modal",openModal:er,handleClose:function(){return ei(!1)},content:(0,ea.jsxs)(ea.Fragment,{children:[(0,ea.jsx)("p",{children:"Are you sure you're ready to submit your request?"}),eS&&(0,ea.jsxs)("p",{children:["You will need to engage with DIT to learn about the Digital Credential Configuration ID. You can contact them at ",(0,ea.jsx)(e9.default,{href:"mailto:ditp.support@gov.bc.ca",children:"ditp.support@gov.bc.ca"}),"."]}),!ec&&(0,ea.jsxs)("p",{children:["If you need to change anything after submitting your request, please contact our"," ",(0,ea.jsx)(e9.default,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel"})," ","or email ",(0,ea.jsx)(e9.default,{href:"mailto:bcgov.sso@gov.bc.ca",children:"bcgov.sso@gov.bc.ca"})]})]}),title:"Submitting Request",onConfirm:ey})]})})},30105:function(e,t,n){var r,i=n(16835),o=n(50029),a=n(71383),s=n(87794),l=n.n(s),c=n(67294),d=n(10908),u=n(71893),p=n(10170),h=n(42894),m=n(60915),f=n(97935),b=n(97682),g=n(20839),v=n(85893),j=u.ZP.div(r||(r=(0,a.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n  & button {\n    min-width: 180px;\n  }\n"]))),y={idirEmail:"",role:"member",id:new Date().getTime()};t.Z=(0,m.hU)(function(e){var t,n=e.onSubmit,r=e.alert,a=e.setOpenCreateTeamModal,s=((0,c.useContext)(g.SessionContext)||{}).session,u=(0,c.useState)([y]),m=u[0],x=u[1],w=(0,c.useState)(""),O=w[0],S=w[1],P=(0,c.useState)(!1),_=P[0],C=P[1],Z=(0,c.useState)(null),T=Z[0],F=Z[1],k=(t=(0,o.Z)(l().mark(function _callee(){var e,t,o,c,d,u,h,f,g;return l().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=s,t={name:O,members:m},o=(0,b.p)(t,e.email),d=(c=(0,i.Z)(o,2))[0],u=c[1],!d){l.next=5;break}return l.abrupt("return",F(u));case 5:return C(!0),l.next=8,(0,p.Cm)(t);case 8:if(h=l.sent,g=(f=(0,i.Z)(h,2))[0],f[1]?r.show({variant:"danger",fadeOut:1e4,closable:!0,content:"Failed to create team. Please try again."}):r.show({variant:"success",fadeOut:1e4,closable:!0,content:"Team ".concat(O," successfully created")}),!g){l.next=16;break}return l.next=16,n(g.id);case 16:x([y]),S(""),C(!1),F(null),a(!1);case 21:case"end":return l.stop()}},_callee)})),function(){return t.apply(this,arguments)});return(0,v.jsxs)("div",{children:[(0,v.jsx)(d.default,{label:"Team Name",onChange:function(e){S(e.target.value)},maxLength:"255","data-testid":"team-name",value:O}),T&&T.name&&(0,v.jsx)(f.Z,{children:null==T?void 0:T.name}),(0,v.jsx)("br",{}),(0,v.jsx)("strong",{children:"Team Members"}),(0,v.jsx)(b.Z,{errors:T,members:m,setMembers:x,currentUser:s}),(0,v.jsxs)(j,{children:[(0,v.jsx)("button",{className:"secondary",onClick:function(){x([y]),S(""),C(!1),F(null),a(!1)},children:"Cancel"}),(0,v.jsx)("button",{className:"primary",type:"button",onClick:k,"data-testid":"send-invitation",children:_?(0,v.jsx)(h.rj,{color:"#FFF",height:18,width:50,visible:_}):"Send Invitation"})]})]})})},97682:function(e,t,n){n.d(t,{p:function(){return validateTeam}});var r,i,o,a,s,l,c,d,u,p,h=n(59499),m=n(27812),f=n(71383);n(67294);var b=n(10908),g=n(35611),v=n(71893),j=n(48966),y=n.n(j),x=n(99603),w=n(59417),O=n(97935),S=n(74150),P=n(61864),_=n(35685),C=n(16530),Z=n(85893);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,h.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var T=v.ZP.div(r||(r=(0,f.Z)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  align-items: end;\n  margin-bottom: 10px;\n  grid-gap: 0 1em;\n"]))),F=(0,v.ZP)(g.default)(i||(i=(0,f.Z)(["\n  & .pg-select-wrapper {\n    height: 44px;\n    ","\n  }\n"])),function(e){return e.readOnlyRole?"padding-left:6px;":""}),k=v.ZP.div(o||(o=(0,f.Z)(["\n  border-bottom: 1px solid black;\n  grid-column: 1 / 3;\n"]))),I=v.ZP.span(a||(a=(0,f.Z)(["\n  margin: 10px 0;\n  cursor: pointer;\n  & span {\n    margin-left: 5px;\n  }\n"]))),D=v.ZP.section(s||(s=(0,f.Z)(["\n  max-height: 50vh;\n  overflow-y: scroll;\n  padding-left: 1em;\n"]))),A=(0,v.ZP)(T)(l||(l=(0,f.Z)(["\n  grid-template-columns: 2.2fr 0.9fr 1.2fr;\n  align-items: start;\n  margin-bottom: 20px;\n  .email-select > .select-inner__control {\n    padding: 0.13em 0;\n    border: 2px solid #606060;\n    visibility: inherit;\n\n    &:focus-within {\n      outline: 4px solid #3b99fc !important;\n      outline-offset: 2px !important;\n    }\n  }\n"]))),E=(0,v.ZP)(x.G)(c||(c=(0,f.Z)(["\n  align-self: center;\n  color: red;\n  cursor: pointer;\n"]))),R=(0,v.ZP)(x.G)(d||(d=(0,f.Z)(["\n  padding: 3px;\n  border-radius: 25px;\n  border-style: solid;\n  border-color: black;\n  border-width: thin;\n"]))),N=(0,v.ZP)(x.G)(u||(u=(0,f.Z)(["\n  padding: 3px;\n  border-radius: 25px;\n  border-style: solid;\n  border-color: black;\n  border-width: thin;\n  color: white;\n  background-color: black;\n"]))),L=v.ZP.p(p||(p=(0,f.Z)(["\n  font-style: italic;\n  font-size: 0.95em;\n"]))),validateTeam=function(e,t){var n={name:null,members:[]};return e.name||(n.name="Please enter a name"),e.members.forEach(function(r,i){r.idirEmail?y().isEmail(r.idirEmail)?(e.members.filter(function(e){return e.idirEmail===r.idirEmail}).length>1||r.idirEmail===t)&&(n.members[i]="Please use unique email"):n.members[i]="Please enter a valid email":n.members[i]="Please enter an email"}),[n.name||n.members.length>0,n]};t.Z=function(e){var t=e.errors,n=e.members,r=e.setMembers,i=e.allowDelete,o=void 0===i||i,a=e.currentUser,s=void 0===a?null:a,handleEmailChange=function(e,t){var i=_objectSpread({},n[t]);i.idirEmail=(null==e?void 0:e.label.toLowerCase())||"";var o=(0,m.Z)(n);o[t]=i,r(o)},handleRoleChange=function(e,t){var i=_objectSpread({},n[e]);i.role=t.target.value;var o=(0,m.Z)(n);o[e]=i,r(o)},handleMemberDelete=function(e){r(n.filter(function(t,n){return n!==e}))};return(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("p",{children:["Enter your team members government email address and they will be sent an invitation to join the project. Once they accept the invitation, they will have access to your project. Their invitation will expire in"," ",(0,Z.jsx)("strong",{children:"2 business days"}),"."]}),(0,Z.jsxs)("p",{children:[(0,Z.jsx)("span",{className:"strong",children:"Roles:"}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("span",{children:(0,Z.jsx)(N,{icon:w.Tab})}),"\xa0\xa0",(0,Z.jsx)("span",{className:"underline",style:{verticalAlign:"top"},children:"Admins"}),(0,Z.jsxs)("span",{style:{verticalAlign:"top"},children:["\xa0have ",(0,Z.jsx)("b",{children:"managing"})," powers"]})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("span",{children:(0,Z.jsx)(R,{icon:w.Tab})}),"\xa0\xa0",(0,Z.jsx)("span",{className:"underline",style:{verticalAlign:"top"},children:"Members"}),(0,Z.jsxs)("span",{style:{verticalAlign:"top"},children:["\xa0have ",(0,Z.jsx)("b",{children:"viewing"})," powers"]})]}),(0,Z.jsx)("br",{}),(0,Z.jsx)("div",{children:(0,Z.jsx)("span",{className:"underline",children:(0,Z.jsx)(S.default,{external:!0,href:(0,P.eO)("CSS-App-My-Teams#ive-created-a-team-now-what"),children:"View a detailed breakdown of roles on our wiki page"})})})]}),(0,Z.jsxs)(D,{children:[(0,Z.jsxs)(T,{children:[(0,Z.jsx)("strong",{children:"Member"}),(0,Z.jsx)("strong",{children:"Role"}),(0,Z.jsx)(k,{})]}),(0,Z.jsx)(L,{children:"*Please enter email address tied to an IDIR to allow your user to login"}),s&&(0,Z.jsxs)(A,{children:[(0,Z.jsx)(b.default,{value:(null==s?void 0:s.email)||"",readOnly:!0,fullWidth:!0}),(0,Z.jsx)(F,{label:"Role",disabled:!0,value:"admin",readOnlyRole:!0,children:(0,Z.jsx)("option",{value:"admin",children:"Admin"})})]}),n.map(function(e,n){return(0,Z.jsxs)(A,{children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)(_.Z,{loadOptions:C.c,onChange:function(e){return handleEmailChange(e,n)},noOptionsMessage:function(){return"Start typing email..."},className:"email-select",menuPlacement:"top",maxMenuHeight:120,classNamePrefix:"select-inner",placeholder:"Enter email address"}),t&&t.members&&t.members[n]&&(0,Z.jsx)(O.Z,{children:t.members[n]})]}),(0,Z.jsxs)(F,{label:"Role",onChange:function(e){return handleRoleChange(n,e)},value:e.role,"data-testid":"user-role",children:[(0,Z.jsx)("option",{value:"member",children:"Member"}),(0,Z.jsx)("option",{value:"admin",children:"Admin"})]}),n>=0&&o&&(0,Z.jsx)(E,{icon:w.uMC,onClick:function(){return handleMemberDelete(n)},title:"Delete","data-testid":"delete-user-role"})]},e.id)}),(0,Z.jsxs)(I,{onClick:function(){r([].concat((0,m.Z)(n),[{idirEmail:"",role:"member",id:new Date().getTime(),pending:!0}]))},children:[(0,Z.jsx)(x.G,{style:{color:"#006fc4"},icon:w.KtF,title:"Add Item","data-testid":"add-user-role"}),(0,Z.jsx)("span",{children:"Add another team member"})]})]})]})}},95107:function(e,t,n){n.d(t,{I:function(){return i},S:function(){return r}});var r={idir:"IDIR",azureidir:"IDIR - MFA",bceidbasic:"Basic BCeID",bceidbusiness:"Business BCeID",bceidboth:"Basic or Business BCeID",githubbcgov:"GitHub BC Gov",githubpublic:"GitHub",digitalcredential:"Digital Credential",bcservicescard:"BC Services Card"},i={dev:"Development",test:"Test",prod:"Production"}},11162:function(e,t,n){n.d(t,{F:function(){return r}});var r={"browser-login":"Browser Login","service-account":"Service Account",both:"Browser Login & Service Account"}},34390:function(e,t,n){n.d(t,{Z:function(){return FaqItems}});var r,i,o,a=n(71383);n(67294);var s=n(71893),l=n(74150),c=n(32997),d=n(61864),u=n(85893),p=s.ZP.ul(r||(r=(0,a.Z)(["\n  & li {\n    margin: 0;\n  }\n"]))),h=s.ZP.li(i||(i=(0,a.Z)(["\n  &&& {\n    margin-left: 20px;\n  }\n"]))),m=s.ZP.div(o||(o=(0,a.Z)(["\n  margin-top: ",";\n"])),c.SI);function FaqItems(){var e=(0,d.eO)();return(0,u.jsxs)(m,{children:[(0,u.jsx)("h2",{children:"Requirements"}),(0,u.jsxs)(p,{children:[(0,u.jsx)("li",{children:"Keep your email address active, and if you are not using your integration, clean it up"}),(0,u.jsxs)("li",{children:["If you are not using your client app configuration,"," ",(0,u.jsx)(l.default,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"ask us at rocketchat"})," ","for the detailed info"]}),(0,u.jsx)("li",{children:"In order to reduce your application's potential exposure, we recommend using a unique integration for each application."})]}),(0,u.jsx)("h2",{children:"We're a Community"}),(0,u.jsxs)(p,{children:[(0,u.jsxs)("li",{children:["As part of a community, we can solve things together and quickly. Please join the"," ",(0,u.jsx)(l.default,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel on Rocket.Chat"})]}),(0,u.jsxs)("li",{children:["Please follow the"," ",(0,u.jsx)(l.default,{external:!0,href:"https://digital.gov.bc.ca/resources/digital-principles",target:"_blank",rel:"noreferrer",children:"BC Government digital standards"})]}),(0,u.jsx)("li",{children:"Coordinate load testing with the Pathfinder SSO Team, and please only use the Test environment"}),(0,u.jsxs)("li",{children:["The SSO Service is multitenancy; meaning you share with others, so please coordinate with us (",(0,u.jsx)(l.default,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel on Rocket.Chat"})," ","or email at ",(0,u.jsx)(l.default,{href:"mailto:bcgov.sso@gov.bc.ca",children:"bcgov.sso@gov.bc.ca"}),") :",(0,u.jsxs)("ul",{children:[(0,u.jsxs)(h,{children:["if you predict moderate or high loads",(0,u.jsx)("br",{}),"OR",(0,u.jsx)("br",{})]}),(0,u.jsx)(h,{children:"if you need to conduct load testing or security scans please do in TEST only"})]})]})]}),(0,u.jsx)("h2",{children:"What's included in the service"}),(0,u.jsx)(p,{children:(0,u.jsx)("li",{children:"The Standard realm is configured to meet the general needs of the community. Currently, custom configurations, such as scopes or flows, are not available"})}),(0,u.jsx)("h2",{children:"Understanding the service level"}),(0,u.jsxs)(p,{children:[(0,u.jsxs)("li",{children:["Our service is available 24/7, except during planned outages within the Kamloops and Calgary data centres. Planned outages are communicated through"," ",(0,u.jsx)(l.default,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"RocketChat"}),"."]}),(0,u.jsx)("li",{children:"Our regular business hours are weekdays from 9:00 am to 5:00 pm Pacific Time, excluding statutory holidays. Client provisioning questions and requests will be reviewed and handled during normal business hours. After hours support is provided by the Pathfinder SSO team, and is only available for service outages and other incidents that impact the service."}),(0,u.jsxs)("li",{children:["To learn more about our service uptime monitoring, please visit our"," ",(0,u.jsx)(l.default,{external:!0,href:(0,d.eO)("Pathfinder-Uptime-Monitoring/"),children:"uptime page on our wiki"})," ","and join our"," ",(0,u.jsx)(l.default,{external:!0,href:"https://digital.gov.bc.ca/sso-notifications/",children:"newsletter"})," ","to receive important updates on the service and any outages."]})]}),(0,u.jsx)("h2",{children:"Contact Us"}),(0,u.jsxs)(p,{children:[(0,u.jsxs)("li",{children:["If you have any questions, please reach out to us on"," ",(0,u.jsx)(l.default,{external:!0,href:"https://chat.developer.gov.bc.ca",children:"Rocket.Chat"})," ","or"," ",(0,u.jsx)(l.default,{external:!0,href:"mailto:bcgov.sso@gov.bc.ca",children:"Email"})," ","the Pathfinder SSO Product Owner."]}),(0,u.jsxs)("li",{children:["Visit our documentation: one for"," ",(0,u.jsx)(l.default,{external:!0,href:e,children:"business"})," ","areas and one for"," ",(0,u.jsx)(l.default,{external:!0,href:d.UN,children:"technical"})," ","areas."]})]})]})}}}]);