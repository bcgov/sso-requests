(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[350],{92665:function(e,t,n){"use strict";var r=n(85893),i=n(27261),o=n(6434),a=n(32678);function s(){var e=(0,i.Z)(["\n  list-style: none;\n  margin: 0;\n  & li {\n    margin: 0;\n  }\n"]);return s=function(){return e},e}function c(){var e=(0,i.Z)(["\n  font-weight: 600;\n"]);return c=function(){return e},e}function l(){var e=(0,i.Z)(["\n  font-size: unset;\n  & tr {\n    display: flex;\n    margin-bottom: 5px;\n    & > td {\n      border: none;\n      padding: 0 5px 0 0;\n    }\n  }\n"]);return l=function(){return e},e}var u=a.default.table(l()),d=a.default.span(c()),p=a.default.ul(s()),f=function(e){var t=e.list,n=e.title,i=e.inline,o=void 0!==i&&i;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:n}),(1===(null===t||void 0===t?void 0:t.length)||o)&&(0,r.jsx)(d,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,r.jsxs)("span",{children:[e,n!==t.length-1&&", "," "]},e)}))})]}),!o&&((null===t||void 0===t?void 0:t.length)||0)>1&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{children:(0,r.jsx)(d,{children:(0,r.jsx)(p,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,r.jsx)("li",{children:e},e)}))})})})})]})},h=function(e){return!!e&&(1!==e.length||""!==e[0])};t.Z=function(e){var t,n=e.children,i=e.request;return i?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(u,{children:(0,r.jsxs)("tbody",{children:[(null===i||void 0===i?void 0:i.team)&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Associated Team:"}),(0,r.jsx)("td",{children:(0,r.jsx)(d,{children:i.team.name})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Are you accountable for this project?"}),(0,r.jsx)("td",{children:(0,r.jsx)(d,{children:(t=null===i||void 0===i?void 0:i.projectLead,void 0===t?"":t?"Yes":"No")})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Client Type:"}),(0,r.jsx)("td",{children:(0,r.jsx)(d,{children:null!==i&&void 0!==i&&i.publicAccess?"Public":"Confidential"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Project Name:"}),(0,r.jsx)("td",{children:(0,r.jsx)(d,{children:null===i||void 0===i?void 0:i.projectName})})]}),(0,r.jsx)(f,{list:(0,o.LF)(null===i||void 0===i?void 0:i.realm),title:"Identity Providers Required:",inline:!0}),h(null===i||void 0===i?void 0:i.devValidRedirectUris)&&(0,r.jsx)(f,{list:null===i||void 0===i?void 0:i.devValidRedirectUris,title:"Dev Redirect URIs:"}),h(null===i||void 0===i?void 0:i.testValidRedirectUris)&&(0,r.jsx)(f,{list:null===i||void 0===i?void 0:i.testValidRedirectUris,title:"Test Redirect URIs:"}),h(null===i||void 0===i?void 0:i.prodValidRedirectUris)&&(0,r.jsx)(f,{list:null===i||void 0===i?void 0:i.prodValidRedirectUris,title:"Prod Redirect URIs:"}),n]})})}):null}},94350:function(e,t,n){"use strict";n.d(t,{Z:function(){return kn}});var r=n(85893),i=n(809),o=n.n(i),a=n(26265),s=n(64121),c=n(92447),l=n(27261),u=n(67294),d=n(11163),p=n(32678),f=n(96486);function h(){var e=(0,l.Z)(["\n  font-weight: lighter;\n  color: #003366;\n  margin: 0;\n"]);return h=function(){return e},e}var m=p.default.h1(h());function v(e){var t=e.schema,n=e.requestId,i=e.editing,o=(0,f.padStart)(String(n),8,"0"),a=i?"Editing ":"",s="".concat((0,f.isNil)(n)?"":"Req ID: ".concat(o," - ")).concat(t.headerText);return(0,r.jsx)(m,{children:a+s})}var b=n(64735),g=n(17625),j=n(51436);function x(){var e=(0,l.Z)(["\n  margin: 0 0 0 5px;\n"]);return x=function(){return e},e}function y(){var e=(0,l.Z)(["\n  height: 40px;\n  width: 40px;\n  min-width: 40px;\n  text-align: center;\n  line-height: 40px;\n  border-radius: 40px;\n  border: 1px solid #b9d8f0;\n  background-color: white;\n  font-weight: bold;\n"]);return y=function(){return e},e}function O(){var e=(0,l.Z)(["\n  height: 60px;\n  width: 200px;\n  background-color: #ebf7ff;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  border-radius: 5px;\n  padding: 15px;\n  cursor: pointer;\n  margin: 3px 0;\n  font-weight: ",";\n  color: ",";\n  background-color: ",";\n  border: ",";\n"]);return O=function(){return e},e}var w=p.default.div(O(),(function(e){return e.active&&"bold"}),(function(e){return e.active||e.visited?"#003366":"#B0D4ED"}),(function(e){return e.active||e.visited?"#BCE4FF":"#F5FBFF"}),(function(e){return e.active||e.visited?"1px solid #006fc4":"1px solid #B9D8F0"})),P=p.default.div(y()),C=p.default.p(x());function S(e){var t=e.stageNumber,n=e.title,i=e.active,o=e.visited,a=e.handleClick,s=e.hasError;return(0,r.jsxs)(w,{active:i||!1,visited:o||!1,onClick:a,"data-testid":"stage-".concat(t),children:[(0,r.jsx)(P,{children:s?(0,r.jsx)(g.G,{icon:j.eHv,color:"red",title:"Some additional fields require your attention."}):t}),(0,r.jsx)(C,{children:n})]})}function k(){var e=(0,l.Z)(["\n  width: 824px;\n  max-width: 100%;\n"]);return k=function(){return e},e}var Z=p.default.div(k());function D(e){var t=e.currentStage,n=e.setFormStage,i=e.errors,o=e.isNew,a=e.visited,s=e.schemas;return(0,r.jsx)(Z,{children:(0,r.jsx)(b.ZP,{cols:4,children:(0,r.jsx)(b.ZP.Row,{collapse:"992",gutter:[],children:null===s||void 0===s?void 0:s.map((function(e,s){return(0,r.jsx)(b.ZP.Col,{children:(0,r.jsx)(S,{title:e.stepText,stageNumber:s+1,active:s===t,hasError:!!i[s],visited:a[s],handleClick:function(){return e=s,void(o||n(e));var e}},s)},e.stepText)}))})})})}var T=n(14100),I=n(11915),R=n(30996),E=n(35611);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){switch(e){case"checkbox":return"checked";case"file":return"files";default:return"value"}}var A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=N(t);return function(i){var o=i.value,a=i.onChange,s=i.label,c=i.schema,l=i.options,u=i.required,d=i.disabled,p=i.onBlur,f=i.id,h=void 0===f?"":f,m=i.readonly,v=c.pattern,b=c.minLength,g=c.maxLength,j=c.placeholder,x=c.fullWidth,y=c.rows,O=l.enumOptions,w=void 0===O?[]:O,P={onChange:function(e){var t=e.target[n];""===t&&(t=void 0),"true"===t&&(t=!0),"false"===t&&(t=!1),a(t)},label:s,name:name,maxLength:g,id:h,required:u,disabled:d,minLength:b,type:t,pattern:v,onBlur:p,fullWidth:x,rows:y,readOnly:m,value:o||"",placeholder:j,checked:"undefined"!==typeof o&&o};return"file"===t&&delete P.value,"checkbox"===t&&(P.value=!0),"radio"===t?(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{children:s}),w.map((function(t){return(0,r.jsx)(e,q(q({},P),{},{label:t.label,value:t.value,checked:t.value===o,style:{padding:"2px 0"},size:"small",readOnly:m,onBlur:p}),t.value)}))]}):(0,r.jsx)(e,q(q({},P),{},{onBlur:p&&function(e){return p(h,e.target.value)},children:w&&w.map((function(e){var t=e.value,n=e.label;return(0,r.jsx)("option",{value:t,children:n},t)}))}))}},U=n(6434);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V={TextWidget:A(I.ZP,"input"),EmailWidget:A(I.ZP,"email"),TextareaWidget:A(R.ZP,"textarea"),SelectWidget:A(E.ZP,"select")};function M(e){return(0,r.jsx)(T.ZP,L(L({},e),{},{widgets:V,noHtml5Validate:!0,ErrorList:function(){return null},transformErrors:U.O5}))}var z=n(4826),W=n(31607),H=n(30454);function G(){var e=(0,l.Z)(["\n  min-width: ",";\n  background-color: #b2b2b2;\n  color: white;\n  box-shadow: none !important;\n\n  &:hover {\n    box-shadow: 0px 0px 0px 2px #006fc4 inset !important;\n    background-color: #b2b2b2;\n  }\n"]);return G=function(){return e},e}var K=(0,p.default)(z.ZP)(G(),H.I2);function _(){var e=(0,l.Z)(["\n  margin-left: 10px;\n"]);return _=function(){return e},e}function Y(){var e=(0,l.Z)(["\n  display: flex;\n"]);return Y=function(){return e},e}function J(){var e=(0,l.Z)(["\n  width: 30px;\n"]);return J=function(){return e},e}var Q=p.default.span(J()),X=p.default.div(Y()),$=p.default.p(_());function ee(e){var t=e.saving,n=e.saveMessage,i=null!==n&&void 0!==n&&n.error?j.eHv:j.LEp;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(X,{children:[(0,r.jsx)(Q,{children:t?(0,r.jsx)(W.Z,{type:"TailSpin",color:"#000",height:18,width:50,visible:!0,label:"request-saving"}):(0,r.jsx)(g.G,{style:{color:"#006fc4"},icon:i,title:"request-saved"})}),(0,r.jsx)($,{children:null===n||void 0===n?void 0:n.content})]})})}function te(){var e=(0,l.Z)(["\n  margin-top: ",";\n"]);return te=function(){return e},e}function ne(){var e=(0,l.Z)(["\n  margin-left: 10px;\n  min-width: ",";\n"]);return ne=function(){return e},e}var re=(0,p.default)(z.ZP)(ne(),H.I2),ie=p.default.div(te(),H.oc);function oe(e){var t=e.loading,n=e.backButton,i=e.text,o=e.handleSubmit,a=e.handleBackClick,s=e.formSubmission,c=e.saving,l=e.saveMessage;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ie,{"data-test-id":"form-btns",children:[n||(0,r.jsx)(K,{variant:"secondary",size:"medium",type:"button",onClick:a,children:i.back}),(0,r.jsx)(re,{variant:"primary",size:"medium",onClick:o,type:s?"submit":"button",children:t?(0,r.jsx)(W.Z,{type:"Grid",color:"#FFF",height:18,width:50,visible:!0}):(0,r.jsx)(r.Fragment,{children:i.continue})})]}),(c||l)&&(0,r.jsx)(ee,{saving:c,saveMessage:l})]})}var ae=n(86010),se=n(82096);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(){var e=(0,l.Z)(["\n  font-weight: bold;\n  font-size: 1rem;\n  margin: 0;\n"]);return ue=function(){return e},e}var de=p.default.legend(ue());function pe(e){var t=e.formContext,n=e.classNames,i=e.label,o=e.displayLabel,a=e.help,s=e.errors,c=e.children,l=e.schema,u=e.top,d=void 0===u?null:u,p=e.bottom,h=void 0===p?null:p,m=l,v=m.type,b=m.tooltip,g=m.description,j=m.additionalClassNames,x=(0,ae.default)(n,j);return"array"===v?(0,r.jsxs)(r.Fragment,{children:[d,(0,r.jsx)("div",{className:x,children:c}),h]}):(0,r.jsxs)(r.Fragment,{children:[d,(0,r.jsxs)("div",{className:x,children:[o&&i&&(0,r.jsxs)(de,{children:[i,"\xa0",b&&(0,r.jsx)(se.Z,le(le({},b),{},{onClick:function(){return(null===b||void 0===b?void 0:b.onClick(t))||f.noop}}))]}),g,c,s,a]}),h]})}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(){var e=(0,l.Z)(["\n  font-weight: bold;\n  font-size: 1rem;\n  margin: 0;\n"]);return me=function(){return e},e}function ve(){var e=(0,l.Z)(["\n  display: inline-block;\n  margin: 0;\n  margin-top: 5px;\n  font-size: 16px;\n  font-weight: lighter;\n  padding-left: 10px;\n  color: #bbbbbb;\n"]);return ve=function(){return e},e}function be(){var e=(0,l.Z)(["\n  position: absolute;\n  right: 10px;\n  top: 10px;\n"]);return be=function(){return e},e}function ge(){var e=(0,l.Z)(["\n  display: inline-block;\n  &:hover {\n    cursor: pointer;\n  }\n  margin-top: 0;\n"]);return ge=function(){return e},e}function je(){var e=(0,l.Z)(["\n  margin: 0;\n"]);return je=function(){return e},e}function xe(){var e=(0,l.Z)(["\n  position: relative;\n  width: 100%;\n  max-width: ",";\n"]);return xe=function(){return e},e}var ye=p.default.div(xe(),H.Ik),Oe=p.default.p(je()),we=p.default.div(ge()),Pe=(0,p.default)(we)(be()),Ce=p.default.p(ve()),Se=p.default.legend(me());function ke(e){var t=e.formContext,n=e.title,i=e.items,o=e.schema,a=o.description,s=o.tooltip,c=o.deletableIndex,l=void 0===c?1:c,d=o.addItemText,p=(0,f.isFunction)(l)?l(i):parseInt(l);return(0,r.jsxs)("div",{children:[n&&(0,r.jsxs)(Se,{children:[n," ",s&&(0,r.jsx)(se.Z,he(he({},s),{},{onClick:function(){return(null===s||void 0===s?void 0:s.onClick(t))||f.noop}}))]}),a&&(0,r.jsx)(Oe,{children:a}),i.map((function(e){return(0,r.jsx)(u.Fragment,{children:e.hasRemove&&(0,r.jsxs)(ye,{children:[e.children,e.index>=p&&(0,r.jsx)(Pe,{onClick:e.onDropIndexClick(e.index),children:(0,r.jsx)(g.G,{style:{color:"red"},icon:j.uMC,title:"Remove Item"})})]})},e.index)})),e.canAdd&&(0,r.jsxs)(we,{onClick:e.onAddClick,children:[(0,r.jsx)(g.G,{style:{color:"#006fc4"},icon:j.KtF,onClick:e.onAddClick,title:"Add Item"}),(0,r.jsx)(Ce,{children:d})]})]})}var Ze=n(98806),De=n(85613),Te=n.n(De),Ie=function(e){try{return new URL(e),e===e.trim()&&(!e.match(/\s/)&&!!e.match(/^[a-zA-Z]+:\/\/\S+/))}catch(t){return!1}},Re=function(e,t,n){var r=e.devValidRedirectUris,i=void 0===r?[]:r,o=e.testValidRedirectUris,a=void 0===o?[]:o,s=e.prodValidRedirectUris,c=void 0===s?[]:s,l=e.environments,u=void 0===l?[]:l,d=e.usesTeam,p=e.teamId,f={devValidRedirectUris:function(){i.every(Ie)||Ee(i,t,"devValidRedirectUris")},testValidRedirectUris:function(){u.includes("test")&&(a.every(Ie)||Ee(a,t,"testValidRedirectUris"))},prodValidRedirectUris:function(){u.includes("prod")&&(c.every(Ie)||Ee(c,t,"prodValidRedirectUris"))},createTeam:function(){d&&!p&&t.createTeam.addError("Please select or create a team")}};n||(n=Object.keys(f));for(var h=0;h<n.length;h++){var m=f[n[h]];m&&m()}return t},Ee=function(e,t,n){e.forEach((function(e,r){Ie(e)||t[n][r].addError("Please enter a valid URI, including an http:// or https:// prefix")}))},Fe=function(e,t,n){var r={};return t.forEach((function(t,i){if(!n||n[i]){var o,a=t.customValidation&&(null===t||void 0===t?void 0:t.customValidation.length)>0,s=Te()(e,t,a?(o=t.customValidation,function(e,t){return Re(e,t,o)}):void 0).errors;s.length>0&&(r[i]=s)}})),r},qe=n(28783),Ne=n(38073),Ae=n(65764),Ue=n(57120);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(){var e=(0,l.Z)(["\n  grid-column: 2;\n  color: #7f7f7f;\n"]);return Ve=function(){return e},e}function Me(){var e=(0,l.Z)(["\n  font-weight: bold;\n  cursor: pointer;\n"]);return Me=function(){return e},e}function ze(){var e=(0,l.Z)(["\n  display: grid;\n  grid-template-columns: 20px 1fr;\n  align-items: center;\n  margin-top: ",";\n  cursor: pointer;\n"]);return ze=function(){return e},e}var We=p.default.div(ze(),H.SI),He=p.default.label(Me()),Ge=p.default.p(Ve());function Ke(e){var t=e.formContext,n=t.formData,i=t.setFormData,a=t.loadTeams,s=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(We,{onClick:function(){window.location.hash=Ue.zw},children:[(0,r.jsx)(g.G,{style:{color:"#006fc4"},icon:j.KtF,title:"Add Team"}),(0,r.jsx)(He,{children:"Create a new team (optional)"}),(0,r.jsx)(Ge,{children:"Add other members to help manage the integration, and re-use your teams across multiple integrations"})]}),(0,r.jsx)(Ze.Z,{title:"Create a new team",icon:null,id:Ue.zw,content:(0,r.jsx)(Ae.Z,{onSubmit:function(){var e=(0,c.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:i(Le(Le({},n),{},{usesTeam:!0,teamId:String(t)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),showCancel:!1,showConfirm:!1,closable:!0})]});return(0,r.jsx)(pe,Le(Le({},e),{},{bottom:s}))}var _e=n(50308),Ye=n.n(_e),Je=n(69696);function Qe(){var e=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n\n  & .pg-modal-main {\n    margin: auto;\n  }\n\n  z-index: 100;\n"]);return Qe=function(){return e},e}var Xe=(0,p.default)(Je.ZP)(Qe()),$e=n(74857),et=n(74150);function tt(){var e=(0,l.Z)(["\n  margin-bottom: 10px;\n"]);return tt=function(){return e},e}function nt(){var e=(0,l.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]);return nt=function(){return e},e}function rt(){var e=(0,l.Z)(["\n  font-size: 20px;\n"]);return rt=function(){return e},e}function it(){var e=(0,l.Z)(["\n  margin: 0;\n"]);return it=function(){return e},e}var ot=p.default.h2(it()),at=p.default.h3(rt()),st=p.default.div(nt()),ct=(0,p.default)($e.ZP)(tt());var lt=function(e){var t=e.id,n=e.open,i=e.onChange,a=void 0===i?Ye():i,s=(0,u.useState)("server"),l=s[0],d=s[1],p=(0,u.useState)(null),f=p[0],h=p[1];(0,u.useEffect)((function(){window.location.hash=n?t:"#"}),[n]);var m=function(){d("server"),h(null),window.location.hash="#"},v=function(){var e=(0,c.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a("cancel"),m();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,c.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a("server"===l&&!0===f?"confidential":"public"),m();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g="server"!==l||null!==f,j=g&&"server"===l&&!0===f;return(0,r.jsxs)(Xe,{id:t,children:[(0,r.jsx)(Je.ZP.Header,{children:(0,r.jsx)(ot,{children:"Choosing between Public and Confidential Client types"})}),(0,r.jsxs)(Je.ZP.Content,{children:[(0,r.jsx)("h3",{children:"Which type of application are you using?"}),(0,r.jsx)(ct,{name:"type",label:"Server-side (ex. .Net, Java, PHP)",checked:"server"===l,onChange:function(){return d("server")}}),(0,r.jsx)(ct,{name:"type",label:"Javascript (ex. Single Page Application, Hybrid Mobile)",checked:"javascript"===l,onChange:function(){return d("javascript")}}),(0,r.jsx)(ct,{name:"type",label:"Other (ex. Embedded devices, Internet of Things (Apple TV)",checked:"other"===l,onChange:function(){return d("other")}}),"server"===l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)("h3",{children:"Does the framework require a client secret, or have an option for a secret?"}),(0,r.jsx)(ct,{name:"secret",label:"Yes",checked:!0===f,onChange:function(){return h(!0)}}),(0,r.jsx)(ct,{name:"secret",label:"No",checked:!1===f,onChange:function(){return h(!1)}})]}),g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)(r.Fragment,{children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(at,{children:"Recommendation: Confidential Client"}),(0,r.jsxs)("p",{children:["Based on your response, we recommend that you use a ",(0,r.jsx)("strong",{children:"confidential client."})," ","Confidential clients have back-end components that securely store an application's secret and use a secure OAuth flow called PKCE, or Proof Key for Code Exchange."]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(at,{children:"Recommendation: Public Client"}),(0,r.jsx)("p",{children:"Public clients do not use back-end secrets, but use a secure OAuth flow called PKCE, or Proof Key for Code Exchange. Based on your responses, the public client may better support your application's architecture."})]})}),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:["To learn more about the difference between confidential and public clients, and to understand PKCEs better, visit our"," ",(0,r.jsx)(et.ZP,{external:!0,href:"https://github.com/bcgov/ocp-sso/wiki/Using-Your-SSO-Client#confidential-vs-private-client",children:"wiki page."})]})})]}),(0,r.jsx)("br",{}),(0,r.jsxs)(st,{children:[(0,r.jsx)(z.ZP,{type:"submit",variant:"primary-inverse",onClick:v,children:"Cancel"}),(0,r.jsx)(z.ZP,{type:"submit",variant:"primary",onClick:b,disabled:!g,children:"Save and Close"})]})]})]})};function ut(){var e=(0,l.Z)(["\n  margin-top: 5px;\n  margin-bottom: 5px;\n\n  & > input {\n    margin-right: 5px;\n  }\n"]);return ut=function(){return e},e}var dt=p.default.div(ut()),pt=function(e){var t=e.id,n=e.value,i=e.onChange,o=e.onBlur,a=e.schema,s=(e.formContext,a),c=s.enum,l=s.enumNames,d=(0,u.useState)(!1),p=d[0],f=d[1];return(0,r.jsxs)("div",{children:[l.map((function(e,a){return(0,r.jsxs)(dt,{children:[(0,r.jsx)("input",{type:"radio",id:"".concat(t,"-").concat(e),name:t,value:e,checked:c[a]===n,onChange:function(){return i(c[a])},onBlur:function(){return o(t,n)}}),(0,r.jsx)("label",{htmlFor:"".concat(t,"-").concat(e),children:e})]},e)})),(0,r.jsxs)("div",{children:[(0,r.jsx)(et.ZP,{onClick:function(){return f(!0)},style:{cursor:"pointer"},children:"Click here"})," ","to get help deciding which client type to use."]}),(0,r.jsx)(lt,{id:"client-helper",open:p,onChange:function(e){f(!1),"cancel"!==e&&i("public"===e)}})]})},ft=n(3052);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e){return(0,r.jsx)(pe,mt(mt({},e),{},{top:(0,r.jsx)(ft.Z,{})}))}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(){var e=(0,l.Z)(["\n  color: #d94532;\n  font-weight: bold;\n"]);return jt=function(){return e},e}var xt=p.default.p(jt());function yt(e){var t=e.formContext.formData,n=!1===t.projectLead&&!1===t.usesTeam,i=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ze.Z,{id:"info-modal",content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"If you are not accountable for this project, please refer this request to someone who is."}),(0,r.jsx)("p",{children:" Only the person who is responsible for this project can submit the intergration request."})]}),icon:!1,onConfirm:function(){window.location.hash="#"},confirmText:"Close",showCancel:!1,title:"Project Accountability",buttonStyle:"custom",buttonAlign:"center",closable:!0}),n&&(0,r.jsx)(xt,{children:"If you are not accountable for this request, please refer this request to someone who is. Only the responsible person can submit the integration request."})]});return(0,r.jsx)(pe,gt(gt({},e),{},{bottom:i}))}var Ot=n(85330),wt=n(92665);function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e){var t,n=e.formContext.formData,i=(0,U.Jx)(n),o=i&&(null===(t=n.environments)||void 0===t?void 0:t.includes("prod")),a=(0,r.jsxs)("div",{children:[(0,r.jsx)(Ot.wk,{title:"Please review your information to make sure it is correct.",number:1,children:(0,r.jsx)(wt.Z,{request:n,hasBceid:i||!1})}),(0,r.jsx)(Ot.wk,{title:"Your ".concat(i?"Dev and/or Test":""," environment(s) will be provided by the SSO Pathfinder team."),number:2,children:(0,r.jsx)("p",{children:"Once you submit the request, access will be provided in 20 minutes or fewer."})}),o&&(0,r.jsxs)(Ot.wk,{number:3,title:"Your Prod environment will be provided by the BCeID Team",showLine:!1,children:[(0,r.jsx)("p",{children:"Once you submit the request, both you and the BCeID team will receive an email with your request details."}),(0,r.jsx)("p",{children:"On a best-effort basis, the BCeID team will endeavour to reach out to you within 2-3 business days to schedule an on-boarding meeting.\xa0"})]})]});return(0,r.jsx)(pe,Ct(Ct({},e),{},{top:a}))}var kt=function(e){var t,n=e.integration,r=e.isAdmin,i=(0,f.isNil)(null===n||void 0===n?void 0:n.id),o="applied"===(null===n||void 0===n?void 0:n.status),a=o?(null===n||void 0===n||null===(t=n.environments)||void 0===t?void 0:t.concat())||[]:["dev"],s=o&&r;return{projectName:{"ui:placeholder":"Project Name","ui:label":!1},usesTeam:{"ui:widget":"radio","ui:readonly":o&&(null===n||void 0===n?void 0:n.usesTeam)},projectLead:{"ui:FieldTemplate":yt,"ui:widget":"radio","ui:readonly":!i},newToSso:{"ui:widget":"radio"},publicAccess:{"ui:widget":pt},realm:{"ui:widget":"radio","ui:default":"onestopauth","ui:readonly":o},bceidTo:{"ui:label":!1,"ui:readonly":!0},bceidCc:{"ui:label":!1},bceidBody:{"ui:widget":"textarea"},environments:{"ui:widget":"checkboxes","ui:enumDisabled":a},createTeam:{"ui:FieldTemplate":Ke,"ui:widget":"hidden","ui:label":!1},agreeWithTerms:{"ui:FieldTemplate":vt},comment:{"ui:FieldTemplate":St,"ui:widget":s?"textarea":"hidden","ui:label":!1}}};function Zt(){var e=(0,l.Z)(["\n  display: inline-block;\n\n  & select {\n    width: 100px;\n  }\n\n  & select:disabled {\n    margin: 0;\n  }\n"]);return Zt=function(){return e},e}function Dt(){var e=(0,l.Z)(["\n  display: inline-block;\n\n  & input {\n    height: 31px;\n    max-width: 120px;\n  }\n"]);return Dt=function(){return e},e}function Tt(){var e=(0,l.Z)(["\n  display: inline-block;\n  width: 200px;\n\n  & label {\n    font-weight: 700;\n    font-size: 0.8rem;\n  }\n"]);return Tt=function(){return e},e}var It=p.default.span(Tt()),Rt=p.default.span(Dt()),Et=p.default.span(Zt()),Ft=3600,qt=function(e){var t=e.id,n=e.value,i=void 0===n?0:n,o=e.label,a=e.readonly,s=e.onChange,c=(e.onBlur,e.schema);e.formContext;a&&(s=f.noop);var l=c.tooltipContent,d=void 0===l?"":l,p=(0,u.useState)(0),h=p[0],m=p[1],v=(0,u.useState)("Minutes"),b=v[0],g=v[1];(0,u.useEffect)((function(){!function(e){if(0===e)return m(0),void g("Minutes");var t=e,n="Seconds";t%60===0&&(n="Minutes",t/=60),t%60===0&&(n="Hours",t/=60),t%24===0&&(n="Days",t/=24),m(t),g(n)}(i)}),[i]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)(It,{children:[(0,r.jsx)("label",{htmlFor:t,children:o}),"\xa0",(0,r.jsx)(se.Z,{content:d})]}),(0,r.jsx)(Rt,{children:(0,r.jsx)(I.ZP,{type:"text",size:"small",id:t,name:o,value:h.toString(),onChange:function(e){var t=e.target.value,n=parseInt(t);isNaN(n)&&(n=0);var r=n;(r*="Minutes"===b?60:"Hours"===b?Ft:86400)>31536e3&&(r=31536e3),s(r),m(n)},disabled:a})}),(0,r.jsx)(Et,{children:(0,r.jsxs)(E.ZP,{size:"small",onChange:function(e){var t=e.target.value,n=0;(n="Minutes"===t?60*h:"Hours"===t?h*Ft:86400*h)>31536e3&&(n=31536e3),s(n),g(t)},value:b,disabled:a,children:[(0,r.jsx)("option",{children:"Minutes"}),(0,r.jsx)("option",{children:"Hours"}),(0,r.jsx)("option",{children:"Days"})]})})]})};function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(){var e=(0,l.Z)(["\n  font-weight: bold;\n  font-size: 1rem;\n  margin: 0;\n"]);return Ut=function(){return e},e}function Bt(){var e=(0,l.Z)(["\n  margin-top: var(--field-top-spacing);\n"]);return Bt=function(){return e},e}var Lt=p.default.div(Bt()),Vt=p.default.legend(Ut());function Mt(e){var t=(0,r.jsx)(Lt,{children:(0,r.jsx)(Vt,{children:"Additional Settings (Optional)"})});return(0,r.jsx)(pe,At(At({},e),{},{top:t}))}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Wt=["dev","test","prod"],Ht=["AccessTokenLifespan","OfflineSessionIdleTimeout","OfflineSessionMaxLifespan","SessionIdleTimeout","SessionMaxLifespan"],Gt=function(e){for(var t,n=e.integration,r=e.isAdmin,i=(0,f.isNil)(null===n||void 0===n?void 0:n.id),o="applied"===(null===n||void 0===n?void 0:n.status),s=o?(null===n||void 0===n||null===(t=n.environments)||void 0===t?void 0:t.concat())||[]:["dev"],c=o&&r,l={},u=0;u<Wt.length;u++)for(var d=0;d<Ht.length;d++){var p={"ui:widget":qt,"ui:label":!1,"ui:readonly":!r};"AccessTokenLifespan"===Ht[d]&&(p["ui:FieldTemplate"]=Mt),l["".concat(Wt[u]).concat(Ht[d])]=p}return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({projectName:{"ui:placeholder":"Project Name","ui:label":!1},usesTeam:{"ui:widget":"radio","ui:readonly":o&&(null===n||void 0===n?void 0:n.usesTeam)},projectLead:{"ui:FieldTemplate":yt,"ui:widget":"radio","ui:readonly":!i},newToSso:{"ui:widget":"radio"},publicAccess:{"ui:widget":pt},devIdps:{"ui:widget":"checkboxes"},bceidTo:{"ui:label":!1,"ui:readonly":!0},bceidCc:{"ui:label":!1},bceidBody:{"ui:widget":"textarea"},environments:{"ui:widget":"checkboxes","ui:enumDisabled":s},createTeam:{"ui:FieldTemplate":Ke,"ui:widget":"hidden","ui:label":!1},agreeWithTerms:{"ui:FieldTemplate":vt},comment:{"ui:FieldTemplate":St,"ui:widget":c?"textarea":"hidden","ui:label":!1}},l)},Kt=n(11752),_t=((0,Kt.default)()||{}).publicRuntimeConfig,Yt=(void 0===_t?{}:_t).enable_gold,Jt=n(59999);function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $t={type:"boolean",title:"Are you the product owner or technical contact for this project?",tooltip:{content:"\n    <p>\n      Only the person who is responsible for this project should be submitting the integration request.\xa0\n      If you are not the one accountable, please refer this request to a team member who will be accountable for this project.\n    </p>"}};function en(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return e.name})),n=e.map((function(e){return String(e.id)})),r=e.length>0;return{type:"object",customValidation:["createTeam"],headerText:"Enter requester information",stepText:"Requester Info",properties:{projectName:{type:"string",title:"Project Name",maxLength:50},usesTeam:{type:"boolean",title:"Project Team",description:"Would you like to allow multiple members to manage this integration?"}},required:["projectName"],dependencies:{usesTeam:{oneOf:[{properties:{usesTeam:{enum:[!1]},projectLead:$t}},{properties:Xt(Xt({usesTeam:{enum:[!0]}},r&&{teamId:{type:"string",title:"Project Team",enum:n,enumNames:t,default:n[0]}}),{},{createTeam:{type:"string"}})}]},projectLead:{oneOf:[{properties:{projectLead:{enum:[!0]}},required:["projectLead"]},{properties:{projectLead:{enum:[!1]}}}]}}}}var tn={type:"object",required:["agreeWithTerms"],headerText:"Terms and Conditions",stepText:"Terms and Conditions",properties:{agreeWithTerms:{type:"boolean",title:"I agree to the Terms and Conditions",default:null,enum:[null,!0]}}};function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var on={type:"string",maxLength:250,placeholder:"e.g. https://example.com"},an={type:"array",items:on,additionalItems:on,deletableIndex:function(e){return e.length>1?0:1},default:[""],addItemText:"Add another URI"},sn=rn(rn({},an),{},{title:"Test Redirect URIs"}),cn=rn(rn({},an),{},{title:"Prod Redirect URIs"}),ln=rn(rn({},an),{},{description:"You can use any valid URI for your redirect URIs.",title:"Dev Redirect URIs",tooltip:{content:"At least one redirect URI is required for each of DEV, TEST and PROD. If you don't know the redirect URI for one or\n  more of these environments, you may provide any valid URI for now and change it later. We suggest something like\n  'http://localhost:1000'."}});function un(e){var t,n,r={devValidRedirectUris:ln};return null!==e&&void 0!==e&&null!==(t=e.environments)&&void 0!==t&&t.includes("test")&&(r.testValidRedirectUris=sn),null!==e&&void 0!==e&&null!==(n=e.environments)&&void 0!==n&&n.includes("prod")&&(r.prodValidRedirectUris=cn),{type:"object",required:["realm","publicAccess"],customValidation:["devValidRedirectUris","testValidRedirectUris","prodValidRedirectUris"],headerText:"Choose providers and provide URIs",stepText:"Providers and URIs",properties:rn({publicAccess:{type:"boolean",title:"Choose SSO client type",enum:[!0,!1],enumNames:["Public","Confidential"]},realm:{type:"string",title:"Identity Providers Required",tooltip:{content:"The identity providers you add will let your users authenticate with those services."},enum:["onestopauth","onestopauth-basic","onestopauth-business","onestopauth-both"],enumNames:["IDIR + IDIR Azure Beta","IDIR + BCeID Basic","IDIR + BCeID Business","IDIR + BCeID Both"]},environments:{type:"array",minItems:1,title:"Environment(s)",tooltip:{content:"We will provide a separate client for each environment you select. Select the environments that are required for your project."},items:{type:"string",enum:["dev","test","prod"],enumNames:["Development","Test","Production"]},uniqueItems:!0}},r)}}function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fn={type:"array",items:{type:"string",maxLength:100,placeholder:"e.g. Administrator"},deletableIndex:0,default:[],addItemText:"Add user role",description:"Add roles your integration, once created, you will have the ability to assign these roles to your users.",title:"User Roles (Optional)",tooltip:{content:"<p>Client roles are an additional attribute you can assign to users at an application level (not a CSS level), to manage access controls.</p><p>Some examples of client roles are: Administrator and Manager</p>"}};var hn=((0,Kt.default)()||{}).publicRuntimeConfig,mn=(void 0===hn?{}:hn).enable_gold,vn=function(e){var t=e.integration,n=e.formData,r=e.teams,i=void 0===r?[]:r;t||(t=n);var o="applied"===t.status,s=(0,f.isNil)(t.id),c=function(e){return(e.environments||[]).map((function(e){var t,n="".concat(e,"ValidRedirectUris"),r="".concat(e,"Roles"),i="".concat(e,"AccessTokenLifespan"),o="".concat(e,"SessionIdleTimeout"),s="".concat(e,"SessionMaxLifespan"),c="".concat(e,"OfflineSessionIdleTimeout"),l="".concat(e,"OfflineSessionMaxLifespan"),u="",d="";return"prod"===e?(u="Enter Prod integration Info",d="Production"):"test"===e?(u="Enter Test integration Info",d="Test"):(u="Enter Dev integration Info",d="Development"),{type:"object",customValidation:[n],headerText:u,stepText:d,required:[],properties:(t={},(0,a.Z)(t,n,pn(pn({},ln),{},{title:"Redirect URIs"})),(0,a.Z)(t,r,fn),(0,a.Z)(t,i,{title:"Access Token Lifespan",type:"number",tooltipContent:"Max time before an access token is expired. This value is recommended to be short relative to the SSO timeout.",additionalClassNames:"mt-1"}),(0,a.Z)(t,o,{title:"Client Session Idle",type:"number",tooltipContent:"Time a client session is allowed to be idle before it expires. Tokens are invalidated when a client session is expired. If not set it uses the standard SSO Session Idle value.",additionalClassNames:"mt-1"}),(0,a.Z)(t,s,{title:"Client Session Max",type:"number",tooltipContent:"Max time before a client session is expired. Tokens are invalidated when a client session is expired. If not set, it uses the standard SSO Session Max value.",additionalClassNames:"mt-1"}),(0,a.Z)(t,c,{title:"Client Offline Session Idle",type:"number",tooltipContent:"Time a client offline session is allowed to be idle before it expires. Offline tokens are invalidated when a client offline session is expired. If not set it uses the Offline Session Idle value.",additionalClassNames:"mt-1"}),(0,a.Z)(t,l,{title:"Client Offline Session Max",type:"number",tooltipContent:"Max time before a client offline session is expired. Offline tokens are invalidated when a client offline session is expired. If not set, it uses the Offline Session Max value.",additionalClassNames:"mt-1"}),t)}}))}(n),l=[];return s?mn?l.push.apply(l,[en(i),{type:"object",required:["publicAccess"],headerText:"Choose providers",stepText:"Providers",properties:{publicAccess:{type:"boolean",title:"Select Client Type",enum:[!0,!1],enumNames:["Public","Confidential"]},devIdps:{type:"array",minItems:1,title:"Choose Identity Provider(s)",items:{type:"string",enum:["idir","azureidir","bceidbasic","bceidbusiness","bceidboth"],enumNames:["IDIR","IDIR Azure & Beta","BCeID Basic","BCeID Business","BCeID Both"]},uniqueItems:!0},environments:{type:"array",minItems:1,title:"Choose Environment(s)",items:{type:"string",enum:["dev","test","prod"],enumNames:["Development","Test","Production"]},uniqueItems:!0}}}].concat((0,Jt.Z)(c),[tn])):l.push(en(i),un(n),tn):"gold"===t.serviceType?(l.push.apply(l,[en(i),{type:"object",required:["publicAccess"],headerText:"Choose providers",stepText:"Providers",properties:{publicAccess:{type:"boolean",title:"Select Client Type",enum:[!0,!1],enumNames:["Public","Confidential"]},devIdps:{type:"array",minItems:1,title:"Choose Identity Provider(s)",items:{type:"string",enum:["idir","azureidir","bceidbasic","bceidbusiness","bceidboth"],enumNames:["IDIR","IDIR Azure & Beta","BCeID Basic","BCeID Business","BCeID Both"]},uniqueItems:!0},environments:{type:"array",minItems:1,title:"Choose Environment(s)",items:{type:"string",enum:["dev","test","prod"],enumNames:["Development","Test","Production"]},uniqueItems:!0}}}].concat((0,Jt.Z)(c))),o||l.push(tn)):(l.push(en(i),un(n)),o||l.push(tn)),l.push({type:"object",headerText:"Review and Submit",stepText:"Review & Submit",properties:{comment:{type:"string",title:"Comment",fullWidth:!0,rows:4}}}),l};var bn=function(e){var t=e.onConfirm,n="edit-cancel-confirmation",i=function(){var e=(0,c.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,t();case 3:window.location.hash="#";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("p",{children:["Are you sure you want to press cancel?",(0,r.jsx)("br",{}),"If you continue, you will lose any data that you have provided."]})});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K,{variant:"secondary",size:"medium",type:"button",onClick:function(){return window.location.hash=n},children:"Cancel"}),(0,r.jsx)(Ze.Z,{id:n,content:a,onConfirm:i,icon:j.eHv,title:"Canceling request update",closable:!0})]})},gn=n(6645);function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yn(){var e=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  min-height: 150px;\n"]);return yn=function(){return e},e}function On(){var e=(0,l.Z)(["\n  margin: 0;\n"]);return On=function(){return e},e}var wn=((0,Kt.default)()||{}).publicRuntimeConfig,Pn=(void 0===wn?{}:wn).enable_gold,Cn=p.default.p(On()),Sn=p.default.div(yn());var kn=(0,qe.hU)((function(e){var t=e.currentUser,n=e.request,i=e.alert,a=(0,d.useRouter)(),l=a.query.step,p=l?Number(l):0,h=(0,u.useState)(n||{}),m=h[0],b=h[1],g=(0,u.useState)(p),j=g[0],x=g[1],y=(0,u.useState)(!1),O=y[0],w=y[1],P=(0,u.useState)(void 0),C=P[0],S=P[1],k=(0,u.useState)(!1),Z=k[0],T=k[1],I=(0,u.useState)({}),R=I[0],E=I[1],F=(0,u.useState)(n?{0:!0}:{}),q=F[0],N=F[1],A=(0,u.useState)([]),B=A[0],L=A[1],V=(0,u.useState)([]),z=V[0],W=V[1],H=(0,f.isNil)(null===n||void 0===n?void 0:n.id),G="applied"===(null===n||void 0===n?void 0:n.status),K=t.isAdmin||!1,_=0!==j||m.usesTeam||m.projectLead,Y=j===z.length-1,J=z[j]||{},Q=(0,u.useCallback)((0,f.throttle)(function(){var e=(0,c.Z)(o().mark((function e(t){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H&&!G){e.next=2;break}return e.abrupt("return");case 2:if(!n){e.next=11;break}return T(!0),e.next=6,(0,gn.WN)(xn(xn({},t.formData),{},{id:n.id}));case 6:r=e.sent,i=(0,s.Z)(r,2),i[1]||S({content:"Last saved at ".concat((new Date).toLocaleString()),error:!1}),T(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),2e3,{trailing:!0}),[null===n||void 0===n?void 0:n.id]),X=function(){var e=(0,c.Z)(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=H?Ne.Dc:Ne.l8,e.next=3,t();case 3:n=e.sent,r=(0,s.Z)(n,2),i=r[0],(a=r[1])?console.error(a):L(i||[]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){X()}),[]),(0,u.useEffect)((function(){!function(){var e=vn({integration:n,formData:m,teams:B});W(e)}()}),[m,j,B]);var $=function(e){if(q[j]=!0,e===z.length-1)for(var t=0;t<z.length;t++)q[t]=!0;var n=Fe(m,z,q);E(n),x(e),N(q),i.hide()},ee=function(){var e=K?"/admin-dashboard":"/my-dashboard";a.push({pathname:e})},te=function(e){var t=e.integration;return(0,f.isNil)(null===t||void 0===t?void 0:t.id)?Yt?Gt(e):kt(e):"gold"===(null===t||void 0===t?void 0:t.serviceType)?Gt(e):kt(e)}({integration:n,isAdmin:K}),ne=function(){var e=(0,c.Z)(o().mark((function e(){var t,n,r,c,l,u,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),e.prev=1,!H){e.next=25;break}return m.serviceType=Pn?"gold":"silver",Pn&&(m.realm="standard"),m.environments=["dev"],e.next=8,(0,gn.hG)(m);case 8:if(t=e.sent,n=(0,s.Z)(t,2),r=n[0],c=n[1],l=(r||{}).id,c&&i.show({variant:"danger",fadeOut:5e3,closable:!0,content:c}),!c&&l){e.next=17;break}return w(!1),e.abrupt("return");case 17:return u="",d={},K&&G?u="/admin-dashboard":(u="/request/".concat(l),d.step=1),e.next=22,a.push({pathname:u,query:d});case 22:b(xn(xn({},m),{},{id:l})),e.next=28;break;case 25:return e.next=27,(0,gn.WN)(m);case 27:ie();case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(1),console.error(e.t0);case 33:w(!1);case 34:case"end":return e.stop()}}),e,null,[[1,30]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,c.Z)(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,gn.WN)(m,!0);case 3:t=e.sent,n=(0,s.Z)(t,2),(r=n[1])?i.show({variant:"danger",fadeOut:1e4,closable:!0,content:(0,U.nU)(r).message}):(i.show({variant:"success",fadeOut:1e4,closable:!0,content:"Request ID:".concat((0,f.padStart)(String(m.id),8,"0")," is successfully submitted!")}),a.push({pathname:K?"/admin-dashboard":"/my-dashboard",query:{id:m.id}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=(0,c.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H&&0===j?(q[j]=!0,N(q)):Y?ae():$(j+1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Fe(m,z);Object.keys(e).length>0?(i.show({variant:"danger",fadeOut:1e4,closable:!0,content:"There were errors with your submission. Please see the navigation tabs above for the form pages with errors."}),E(e)):window.location.hash="confirmation-modal"},se=G?(0,r.jsx)(bn,{onConfirm:ee}):null,ce={continue:"",back:""};return Y?(ce.continue=G?"Update":"Submit",ce.back=G?"Cancel":"Save and Close"):(ce.continue="Next",ce.back=G?"Cancel":"Save and Close"),0===z.length?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Sn,{children:[(0,r.jsx)(v,{schema:J,requestId:m.id,editing:G}),(0,r.jsx)(D,{currentStage:j,setFormStage:$,errors:R,isNew:H,visited:q,schemas:z}),(0,r.jsxs)(Cn,{children:["If new to SSO, please visit"," ",(0,r.jsx)(et.ZP,{external:!0,href:"https://github.com/bcgov/sso-keycloak/wiki/Using-Your-SSO-Client",children:"github"})," ","for more information."]})]}),(0,r.jsx)(M,{schema:J,uiSchema:te,onChange:function(e){var t=!1===e.formData.projectLead&&!1===e.formData.usesTeam,n=!1===m.usesTeam&&!0===e.formData.usesTeam;b(n?xn(xn({},e.formData),{},{projectLead:void 0}):e.formData),t&&(window.location.hash="info-modal"),Q(e)},onSubmit:ne,formData:m,formContext:{isAdmin:K,teams:B,formData:m,setFormData:b,loadTeams:X},FieldTemplate:pe,ArrayFieldTemplate:ke,liveValidate:q[j]||G,validate:Re,children:_?(0,r.jsx)(oe,{formSubmission:H&&0===j,backButton:se,text:ce,loading:O,handleSubmit:ie,handleBackClick:ee,saving:Z,saveMessage:C}):(0,r.jsx)(r.Fragment,{})}),(0,r.jsx)(Ze.Z,{id:"confirmation-modal",content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Are you sure you're ready to submit your request?"}),!K&&(0,r.jsxs)("p",{children:["If you need to change anything after submitting your request, please contact our"," ",(0,r.jsx)(et.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel"})," ","or email ",(0,r.jsx)(et.ZP,{href:"mailto:bcgov.sso@gov.bc.ca",children:"bcgov.sso@gov.bc.ca"})]})]}),title:"Submitting Request",onConfirm:re})]})}))},3052:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(85893),i=n(27261),o=(n(67294),n(32678)),a=n(74150),s=n(30454);function c(){var e=(0,i.Z)(["\n  margin-top: ",";\n"]);return c=function(){return e},e}function l(){var e=(0,i.Z)(["\n  &&& {\n    margin-left: 20px;\n  }\n"]);return l=function(){return e},e}function u(){var e=(0,i.Z)(["\n  & li {\n    margin: 0;\n  }\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  text-transform: uppercase;\n  margin-bottom: 0;\n  font-size: ",";\n"]);return d=function(){return e},e}var p=o.default.h2(d(),s.CA),f=o.default.ul(u()),h=o.default.li(l()),m=o.default.div(c(),s.SI);function v(){return(0,r.jsxs)(m,{children:[(0,r.jsx)(p,{children:"Requirements"}),(0,r.jsxs)(f,{children:[(0,r.jsx)("li",{children:"Keep your email address active, and if you are not using your integration, clean it up"}),(0,r.jsxs)("li",{children:["If you are not using your client app configuration"," ",(0,r.jsx)(a.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"ask us"})," ","for help"]})]}),(0,r.jsx)(p,{children:"We're a Community"}),(0,r.jsxs)(f,{children:[(0,r.jsxs)("li",{children:["As part of a community, we can solve things together and quickly. Please join the"," ",(0,r.jsx)(a.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel on Rocket.Chat"})]}),(0,r.jsxs)("li",{children:["Please follow the",(0,r.jsx)(a.ZP,{external:!0,href:"https://digital.gov.bc.ca/resources/digital-principles",target:"_blank",rel:"noreferrer",children:"BC Government digital standards"})]}),(0,r.jsx)("li",{children:"Coordinate load testing with the Pathfinder SSO Team, and please only use the Test environment"}),(0,r.jsxs)("li",{children:["The SSO Service is multitenancy; meaning you share with others, so please coordinate with us (",(0,r.jsx)(a.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel on Rocket.Chat"})," ","or email at ",(0,r.jsx)(a.ZP,{href:"mailto:bcgov.sso@gov.bc.ca",children:"bcgov.sso@gov.bc.ca"}),") :",(0,r.jsxs)("ul",{children:[(0,r.jsxs)(h,{children:["if you predict moderate or high loads",(0,r.jsx)("br",{}),"OR",(0,r.jsx)("br",{})]}),(0,r.jsx)(h,{children:"if you need to conduct load testing in TEST only"})]})]})]}),(0,r.jsx)(p,{children:"What's included in the service"}),(0,r.jsx)(f,{children:(0,r.jsx)("li",{children:"The Standard realm is configured to meet the general needs of the community. Currently, custom configurations, such as scopes or flows, are not available"})}),(0,r.jsx)(p,{children:"Understanding the service level"}),(0,r.jsxs)(f,{children:[(0,r.jsxs)("li",{children:['We are working towards enterprise service levels and in the interim the SSO Pathfinder service level is "best-effort" during business hours (Monday to Friday, 9am to 5pm), and after-hours resolution time is not guaranteed.',(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:'Please take this into account if you have a "critical" application'})})]}),(0,r.jsx)("li",{children:"From time to time, we may contact you to confirm if your configuration is needed"})]})]})}}}]);