(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{80721:function(e,n,r){"use strict";var t=r(85893),i=r(27261),o=r(29163),a=r(30454),s=r(74150);function c(){var e=(0,i.Z)(["\n  margin-top: ",";\n"]);return c=function(){return e},e}function d(){var e=(0,i.Z)(["\n  &&& {\n    margin-left: 20px;\n  }\n"]);return d=function(){return e},e}function l(){var e=(0,i.Z)(["\n  & li {\n    margin: 0;\n  }\n"]);return l=function(){return e},e}function u(){var e=(0,i.Z)(["\n  text-transform: uppercase;\n  margin-bottom: 0;\n  font-size: ",";\n"]);return u=function(){return e},e}var h=o.default.h2(u(),a.CA),f=o.default.ul(l()),p=o.default.li(d()),m=o.default.div(c(),a.SI);n.Z=function(){return(0,t.jsxs)(m,{children:[(0,t.jsx)(h,{children:"Requirements"}),(0,t.jsxs)(f,{children:[(0,t.jsx)("li",{children:"Keep your email address active, and if you are not using your realm, clean it up"}),(0,t.jsxs)("li",{children:["If you are not using your realm/client app configuration"," ",(0,t.jsx)(s.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"ask us"})," ","for help"]})]}),(0,t.jsx)(h,{children:"We're a Community"}),(0,t.jsxs)(f,{children:[(0,t.jsxs)("li",{children:["As part of a community, we can solve things together and quickly. Please join the"," ",(0,t.jsx)(s.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel on Rocket.Chat"})]}),(0,t.jsxs)("li",{children:["Please follow the",(0,t.jsx)(s.ZP,{external:!0,href:"https://digital.gov.bc.ca/resources/digital-principles",target:"_blank",rel:"noreferrer",children:"BC Government digital standards"})]}),(0,t.jsx)("li",{children:"Coordinate load testing with the Pathfinder SSO Team, and please only use the Test environment"}),(0,t.jsxs)("li",{children:["The SSO Service is multitenancy; meaning you share with others, so please coordinate with us (",(0,t.jsx)(s.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel on Rocket.Chat"})," ","or email at ",(0,t.jsx)(s.ZP,{href:"mailto:bcgov.sso@gov.bc.ca",children:"bcgov.sso@gov.bc.ca"}),") :",(0,t.jsxs)("ul",{children:[(0,t.jsx)(p,{children:"if you predict moderate or high loads"}),"OR",(0,t.jsx)(p,{children:"if you need to conduct load testing in TEST only"})]})]})]}),(0,t.jsx)(h,{children:"What's included in the service"}),(0,t.jsx)(f,{children:(0,t.jsx)("li",{children:"The Standard realm is configured to meet the general needs of the community. Currently, custom configurations, such as scopes or flows, are not available"})}),(0,t.jsx)(h,{children:"Understanding the service level"}),(0,t.jsxs)(f,{children:[(0,t.jsx)("li",{children:'We are working towards enterprise service levels and in the interim the SSO Pathfinder service level is "best-effort" during business hours (Monday to Friday, 9am to 5pm), and after-hours resolution time is not guaranteed'}),(0,t.jsx)("strong",{children:'Please take this into account if you have a "critical" application'}),(0,t.jsx)("li",{children:"From time to time, we may contact you to confirm if your configuration is needed"})]})]})}},31670:function(e,n,r){"use strict";r.d(n,{Z:function(){return Pe}});var t=r(85893),i=r(809),o=r.n(i),a=r(39227),s=r(92447),c=r(26265),d=r(27261),l=r(67294),u=r(29163);function h(){var e=(0,d.Z)(["\n  font-weight: lighter;\n  color: #003366;\n"]);return h=function(){return e},e}var f=u.default.h1(h()),p=r(96486);function m(e){var n=e.formStage,r=e.id,i=(0,p.padStart)(String(r),8,"0"),o=["".concat(r?"Req ID: ".concat(i," - "):"","Enter requester information"),"Req ID: ".concat(i," - Choose providers and provide URIs"),"Req ID: ".concat(i," - Terms and Conditions"),"Req ID: ".concat(i," - Review and Submit")];return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(f,{children:o[n]})})}var x=r(17625),v=r(51436);function j(){var e=(0,d.Z)(["\n  width: 100px;\n  margin: 0;\n"]);return j=function(){return e},e}function g(){var e=(0,d.Z)(["\n  height: 40px;\n  width: 40px;\n  text-align: center;\n  line-height: 40px;\n  border-radius: 40px;\n  border: 1px solid #b9d8f0;\n  background-color: white;\n  font-weight: bold;\n"]);return g=function(){return e},e}function b(){var e=(0,d.Z)(["\n  height: 60px;\n  width: 200px;\n  background-color: #ebf7ff;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: 5px;\n  padding: 20px;\n  cursor: pointer;\n  margin: 3px 0;\n  font-weight: ",";\n  color: ",";\n  background-color: ",";\n  border: ",";\n"]);return b=function(){return e},e}var y=u.default.div(b(),(function(e){return e.active&&"bold"}),(function(e){return e.active||e.visited?"#003366":"#B0D4ED"}),(function(e){return e.active||e.visited?"#BCE4FF":"#F5FBFF"}),(function(e){return e.active||e.visited?"1px solid #006fc4":"1px solid #B9D8F0"})),w=u.default.div(g()),S=u.default.p(j());function Z(e){var n=e.stageNumber,r=e.title,i=e.active,o=e.visited,a=e.handleClick,s=e.hasError;return(0,t.jsxs)(y,{active:i||!1,visited:o||!1,onClick:a,children:[(0,t.jsx)(w,{children:s?(0,t.jsx)(x.G,{icon:v.eHv,color:"red",title:"Some additional fields require your attention."}):n}),(0,t.jsx)(S,{children:r})]})}var k=r(64735);function P(){var e=(0,d.Z)(["\n  width: 824px;\n  max-width: 100%;\n"]);return P=function(){return e},e}var C=u.default.div(P());function O(e){var n=e.currentStage,r=e.setFormStage,i=e.errors,o=e.creatingNewForm,a=e.visited,s=e.stages;return(0,t.jsx)(C,{children:(0,t.jsx)(k.ZP,{cols:4,children:(0,t.jsx)(k.ZP.Row,{collapse:"992",gutter:[],children:null===s||void 0===s?void 0:s.map((function(e){return(0,t.jsx)(k.ZP.Col,{children:(0,t.jsx)(Z,{title:e.title,stageNumber:e.number+1,active:e.number===n,hasError:!!i[e.number],visited:a[e.number],handleClick:function(){return function(e){o()||r(e)}(e.number)}},e.number)},e.title)}))})})})}var q=r(17849);function F(e){e.id;var n=e.classNames,r=(e.label,e.help),i=(e.required,e.description),o=e.errors,a=e.children;return(0,t.jsxs)("div",{className:n,children:[i,a,o,r]})}var T=r(60873);function D(){var e=(0,d.Z)(["\n  font-weight: bold;\n  font-size: 1rem;\n  margin: 0;\n"]);return D=function(){return e},e}var E=u.default.legend(D());function I(e){e.id;var n=e.classNames,r=e.label,i=e.help,o=(e.required,e.errors),a=e.children,s=e.schema,c=s.tooltipTitle,d=s.tooltipContent,l=s.hide,u=void 0===l?250:l,h=s.description;return(0,t.jsxs)("div",{className:n,children:[(0,t.jsxs)(E,{children:[r,"\xa0",d&&(0,t.jsx)(T.Z,{tooltipTitle:c,tooltipContent:d,hide:u})]}),h,a,o,i]})}var N=function(e){return{identityProviders:{"ui:widget":"checkboxes","ui:disabled":"true","ui:help":"Currently we only support the onestopauth realm and IDPs cant be changed."},environments:{"ui:widget":"checkboxes"},projectLead:{"ui:widget":"radio","ui:readonly":e},newToSso:{"ui:widget":"radio","ui:FieldTemplate":I},preferredEmail:{"ui:FieldTemplate":F},publicAccess:{"ui:widget":"radio","ui:FieldTemplate":I},projectName:{"ui:FieldTemplate":F,"ui:placeholder":"Project Name"},realm:{"ui:widget":"radio","ui:FieldTemplate":I,"ui:enumDisabled":["bceidbasic","bceidbusiness","bceidboth"],"ui:default":"onestopauth"}}},R=r(1993),L=r(98806),A=r(69696),W=r(4826),G=r(6645),U=r(3083),B=r(15616),z=r(11163),H=r(30454),V=r(25879),_=r(74150),M=r(82401),Y=r(31607),$={type:"object",required:["comment"],properties:{comment:{type:"string",title:"Comment",fullWidth:!0,rows:4}}},K={comment:{"ui:FieldTemplate":F,"ui:widget":"textarea"}},J={type:"object",properties:{projectLead:{type:"boolean",title:"Are you the product owner or project admin/team lead?"}},required:["projectLead","projectName","preferredEmail","newToSso"],dependencies:{projectLead:{oneOf:[{properties:{projectLead:{enum:[!1]}}},{properties:{projectLead:{enum:[!0]},newToSso:{type:"boolean",title:"Have you requested an SSO integration before?",tooltipContent:'<p>If new to SSO, please visit <a style="color: #0000EE" href="https://github.com/bcgov/ocp-sso/wiki/Using-Your-SSO-Client" target="blank">github</a> for more information</p>',hide:2e3},projectName:{type:"string",title:"What Project is this integration for?",maxLength:50},preferredEmail:{type:"string",title:"Preferred Email Address",format:"email",maxLength:250}}}]}}},Q=r(28835),X=[J,Q.ZP,{type:"object",required:["agreeWithTerms"],properties:{agreeWithTerms:{type:"boolean",title:"I agree to the Terms and Conditions",default:null,enum:[null,!0]}}}],ee=[J,Q.ZP,$];function ne(){var e=(0,d.Z)(["\n  list-style: none;\n  margin: 0;\n  & li {\n    margin: 0;\n  }\n"]);return ne=function(){return e},e}function re(){var e=(0,d.Z)(["\n  font-weight: 600;\n"]);return re=function(){return e},e}function te(){var e=(0,d.Z)(["\n  margin: 20px 0;\n  max-width: 500px;\n  background-color: #e3e3e3;\n  height: 2px !important;\n"]);return te=function(){return e},e}function ie(){var e=(0,d.Z)(["\n  margin: 10px;\n"]);return ie=function(){return e},e}function oe(){var e=(0,d.Z)(["\n  display: block;\n  margin: 10px;\n  min-width: ",";\n"]);return oe=function(){return e},e}function ae(){var e=(0,d.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n"]);return ae=function(){return e},e}function se(){var e=(0,d.Z)(["\n  margin-top: ",";\n  font-size: unset;\n  & tr {\n    display: flex;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    & > td {\n      border: none;\n      padding: 0 5px 0 0;\n    }\n  }\n"]);return se=function(){return e},e}var ce=u.default.table(se(),H.SI),de=u.default.div(ae()),le=(0,u.default)(W.ZP)(oe(),H.I2),ue=(0,u.default)(M.Z)(ie()),he=u.default.hr(te()),fe=u.default.span(re()),pe=u.default.ul(ne()),me=function(e){return void 0===e?"":e?"Yes":"No"},xe=function(e){return(0,t.jsx)(pe,{children:null===e||void 0===e?void 0:e.map((function(e){return(0,t.jsx)("li",{children:e},e)}))})};var ve=(0,V.l)((function(e){var n=e.formData,r=e.setFormData,i=e.setErrors,a=(e.errors,e.visited,e.alert),c=e.isAdmin,d=(0,l.useState)(!1),u=d[0],h=d[1],f=(0,z.useRouter)(),m=function(){var e=(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,(0,G.WN)(n,!0);case 4:h(!1),a.show({variant:"success",fadeOut:1e4,closable:!0,content:"Request ID:".concat((0,p.padStart)(String(n.id),8,"0")," is successfully submitted!")}),f.push({pathname:c?"/admin-dashboard":"/my-requests",query:{id:n.id}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ce,{children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Are you the product owner or project admin/team lead?"}),(0,t.jsx)("td",{children:(0,t.jsx)(fe,{children:me(null===n||void 0===n?void 0:n.projectLead)})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Have you requested an SSO access before?"}),(0,t.jsx)("td",{children:(0,t.jsx)(fe,{children:me(null===n||void 0===n?void 0:n.newToSso)})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Client Type:"}),(0,t.jsx)("td",{children:(0,t.jsx)(fe,{children:null!==n&&void 0!==n&&n.publicAccess?"Public":"Confidential"})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Project Name:"}),(0,t.jsx)("td",{children:(0,t.jsx)(fe,{children:null===n||void 0===n?void 0:n.projectName})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Preferred email address:"}),(0,t.jsx)("td",{children:(0,t.jsx)(fe,{children:null===n||void 0===n?void 0:n.preferredEmail})})]})]})}),(0,t.jsx)(he,{}),(0,t.jsx)(ce,{children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Identity providers required:"}),(0,t.jsx)("td",{children:(0,t.jsx)(fe,{children:xe((0,B.LF)(null===n||void 0===n?void 0:n.realm))})})]}),(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:"Dev redirect URIs:"})}),(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:(0,t.jsx)(fe,{children:xe(null===n||void 0===n?void 0:n.devValidRedirectUris)})})}),(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:"Test redirect URIs:"})}),(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:(0,t.jsx)(fe,{children:xe(null===n||void 0===n?void 0:n.testValidRedirectUris)})})}),(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:"Prod redirect URIs:"})}),(0,t.jsx)("tr",{children:(0,t.jsx)("td",{children:(0,t.jsx)(fe,{children:xe(null===n||void 0===n?void 0:n.prodValidRedirectUris)})})})]})}),c&&(0,t.jsx)(q.Z,{schema:$,uiSchema:K,liveValidate:!0,onChange:function(e){r(e.formData)},formData:n,children:(0,t.jsx)(t.Fragment,{})}),(0,t.jsx)(R.Z,{text:{continue:"Submit",back:"Save and Close"},show:!0,handleSubmit:function(){var e=c?ee:X,r=(0,B.G$)(n,e);if(Object.keys(r).length>0)return a.show({variant:"danger",fadeOut:1e4,closable:!0,content:"There were errors with your submission. Please see the navigation tabs above for the form pages with errors."}),i(r);window.location.hash="confirmation-modal"},handleBackClick:function(){f.push("/my-requests")}}),(0,t.jsxs)(L.Z,{id:"confirmation-modal",children:[(0,t.jsx)(A.ZP.Header,{children:(0,t.jsx)(x.G,{icon:v.sqG,size:"2x",title:"Information"})}),(0,t.jsxs)(A.ZP.Content,{children:[(0,t.jsx)("p",{children:"Are you sure you're ready to submit your request?"}),(0,t.jsxs)("p",{children:["If you need to change anything after submitting your request, please contact our"," ",(0,t.jsx)(_.ZP,{external:!0,href:"https://chat.developer.gov.bc.ca/channel/sso/",children:"#SSO channel"})," ","or email ",(0,t.jsx)(_.ZP,{href:"mailto:bcgov.sso@gov.bc.ca",children:"bcgov.sso@gov.bc.ca"})]}),(0,t.jsxs)(de,{children:[(0,t.jsx)(ue,{onClick:function(){return window.location.hash="#"},children:"Cancel"}),(0,t.jsx)(le,{onClick:m,children:u?(0,t.jsx)(Y.Z,{type:"Grid",color:"#FFF",height:20,width:20}):"Submit"})]})]})]})]})})),je=r(80721),ge=r(57120),be=r(94679);function ye(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function we(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ye(Object(r),!0).forEach((function(n){(0,c.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function Se(){var e=(0,d.Z)(["\n  display: block;\n  margin: 10px;\n  margin-left: auto;\n"]);return Se=function(){return e},e}var Ze=(0,u.default)(W.ZP)(Se()),ke=function(e,n){var r,t=null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.data,i={pathname:"/application-error"};t&&(i.query={error:t}),n.push(i)};var Pe=(0,V.l)((function(e){var n,r=e.currentUser,i=void 0===r?{}:r,c=e.request,d=e.alert,u=e.isAdmin,h=(0,l.useState)(c||{}),f=h[0],p=h[1],j=(0,l.useState)(c?1:0),g=j[0],b=j[1],y=(0,l.useState)(!1),w=y[0],S=y[1],Z=(0,l.useState)(void 0),k=Z[0],P=Z[1],C=(0,l.useState)(!1),F=C[0],T=C[1],D=(0,l.useState)({}),E=D[0],I=D[1],W=(0,l.useState)(c?{0:!0}:{}),H=W[0],V=W[1],_=(0,z.useRouter)(),M=u?ee:X,Y=u?ge.hO:ge.w3,$=(null===(n=Y.find((function(e){return e.number===g})))||void 0===n?void 0:n.title)||"";(0,l.useEffect)((function(){f.preferredEmail||p(we(we({},f),{},{preferredEmail:i.email||""}))}),[i]);var K=function(e){H[g]=!0,3===e&&(H[0]=!0,H[1]=!0,H[2]=!0);var n=(0,B.G$)(f,M,H);I(n),b(e),V(H),d.hide()},J=function(){return _.route.endsWith("/request")},Q=N(!J()),ne=function(){var e=(0,s.Z)(o().mark((function e(){var n,r,t,i,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!0),e.prev=1,!J()){e.next=20;break}return e.next=5,(0,G.hG)(f);case 5:if(n=e.sent,r=(0,a.Z)(n,2),t=r[0],i=r[1],s=(t||{}).id,!i&&s){e.next=14;break}return ke(i,_),S(!1),e.abrupt("return");case 14:return c=u?"/admin-dashboard":"/request/".concat(s),e.next=17,_.push({pathname:c});case 17:p(we(we({},f),{},{id:s})),e.next=23;break;case 20:return e.next=22,(0,G.WN)(f);case 22:re();case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),console.error(e.t0);case 28:S(!1);case 29:case"end":return e.stop()}}),e,null,[[1,25]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==g){e.next=5;break}if(!J()){e.next=5;break}return H[g]=!0,V(H),e.abrupt("return");case 5:K(g+1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,s.Z)(o().mark((function e(n,r){var t,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J()&&!u){e.next=2;break}return e.abrupt("return");case 2:if(!c){e.next=11;break}return T(!0),e.next=6,(0,G.WN)(we(we({},f),{},{id:c.id}));case 6:t=e.sent,i=(0,a.Z)(t,2),(s=i[1])?ke(s,_):P({content:"Last saved at ".concat((new Date).toLocaleString()),error:!1}),T(!1);case 11:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),ie=c?"Save and Close":"Cancel";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m,{formStage:g,id:f.id}),(0,t.jsx)(O,{currentStage:g,setFormStage:K,errors:E,creatingNewForm:J,visited:H,stages:Y}),"Terms and conditions"===$&&(0,t.jsx)(je.Z,{}),ge.Hg.includes($)&&(0,t.jsx)(ve,{formData:f,setErrors:I,errors:E,visited:H,saving:F,saveMessage:k,isAdmin:u,setFormData:p}),ge.al.includes($)&&(0,t.jsx)(q.Z,{schema:M[g]||{},uiSchema:Q,onChange:function(e){p(e.formData),!1===e.formData.projectLead&&(window.location.hash="modal")},onSubmit:ne,formData:f,ArrayFieldTemplate:U.Z,onBlur:te,liveValidate:H[g]||u,validate:be.M,children:(0,t.jsx)(R.Z,{formSubmission:0===g,text:{continue:"Next",back:ie},show:!u&&(0!==g||f.projectLead),loading:w,handleSubmit:re,handleBackClick:function(){var e=u?"/admin-dashboard":"/my-requests";_.push({pathname:e})},saving:F,saveMessage:k})}),"Requester Info"===$&&(0,t.jsxs)(L.Z,{id:"modal",children:[(0,t.jsx)(A.ZP.Header,{children:(0,t.jsx)(x.G,{icon:v.sqG,size:"2x",title:"Information"})}),(0,t.jsxs)(A.ZP.Content,{children:["We can only process access requests submitted by"," ",(0,t.jsx)("strong",{children:"product owners, project admin or team leads"}),". If you are not acting in one of these roles, please get in touch with these individuals in your organization to make the request for you.",(0,t.jsx)(Ze,{onClick:function(){_.push("my-requests")},children:"Okay"})]})]})]})}))}}]);